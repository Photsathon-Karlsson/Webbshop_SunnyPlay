(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function r(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=r(o);fetch(o.href,u)}})();var nd={exports:{}},lo={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jy;function _S(){if(Jy)return lo;Jy=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function r(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:i,type:s,key:f,ref:o!==void 0?o:null,props:u}}return lo.Fragment=t,lo.jsx=r,lo.jsxs=r,lo}var Wy;function ES(){return Wy||(Wy=1,nd.exports=_S()),nd.exports}var at=ES(),rd={exports:{}},Ht={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tv;function TS(){if(tv)return Ht;tv=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),S=Symbol.iterator;function A(I){return I===null||typeof I!="object"?null:(I=S&&I[S]||I["@@iterator"],typeof I=="function"?I:null)}var D={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},O=Object.assign,J={};function H(I,nt,dt){this.props=I,this.context=nt,this.refs=J,this.updater=dt||D}H.prototype.isReactComponent={},H.prototype.setState=function(I,nt){if(typeof I!="object"&&typeof I!="function"&&I!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,I,nt,"setState")},H.prototype.forceUpdate=function(I){this.updater.enqueueForceUpdate(this,I,"forceUpdate")};function k(){}k.prototype=H.prototype;function W(I,nt,dt){this.props=I,this.context=nt,this.refs=J,this.updater=dt||D}var lt=W.prototype=new k;lt.constructor=W,O(lt,H.prototype),lt.isPureReactComponent=!0;var gt=Array.isArray,mt={H:null,A:null,T:null,S:null,V:null},F=Object.prototype.hasOwnProperty;function N(I,nt,dt,ot,At,kt){return dt=kt.ref,{$$typeof:i,type:I,key:nt,ref:dt!==void 0?dt:null,props:kt}}function R(I,nt){return N(I.type,nt,void 0,void 0,void 0,I.props)}function w(I){return typeof I=="object"&&I!==null&&I.$$typeof===i}function V(I){var nt={"=":"=0",":":"=2"};return"$"+I.replace(/[=:]/g,function(dt){return nt[dt]})}var U=/\/+/g;function P(I,nt){return typeof I=="object"&&I!==null&&I.key!=null?V(""+I.key):nt.toString(36)}function C(){}function jt(I){switch(I.status){case"fulfilled":return I.value;case"rejected":throw I.reason;default:switch(typeof I.status=="string"?I.then(C,C):(I.status="pending",I.then(function(nt){I.status==="pending"&&(I.status="fulfilled",I.value=nt)},function(nt){I.status==="pending"&&(I.status="rejected",I.reason=nt)})),I.status){case"fulfilled":return I.value;case"rejected":throw I.reason}}throw I}function Kt(I,nt,dt,ot,At){var kt=typeof I;(kt==="undefined"||kt==="boolean")&&(I=null);var Ct=!1;if(I===null)Ct=!0;else switch(kt){case"bigint":case"string":case"number":Ct=!0;break;case"object":switch(I.$$typeof){case i:case t:Ct=!0;break;case E:return Ct=I._init,Kt(Ct(I._payload),nt,dt,ot,At)}}if(Ct)return At=At(I),Ct=ot===""?"."+P(I,0):ot,gt(At)?(dt="",Ct!=null&&(dt=Ct.replace(U,"$&/")+"/"),Kt(At,nt,dt,"",function(Qn){return Qn})):At!=null&&(w(At)&&(At=R(At,dt+(At.key==null||I&&I.key===At.key?"":(""+At.key).replace(U,"$&/")+"/")+Ct)),nt.push(At)),1;Ct=0;var Oe=ot===""?".":ot+":";if(gt(I))for(var ge=0;ge<I.length;ge++)ot=I[ge],kt=Oe+P(ot,ge),Ct+=Kt(ot,nt,dt,kt,At);else if(ge=A(I),typeof ge=="function")for(I=ge.call(I),ge=0;!(ot=I.next()).done;)ot=ot.value,kt=Oe+P(ot,ge++),Ct+=Kt(ot,nt,dt,kt,At);else if(kt==="object"){if(typeof I.then=="function")return Kt(jt(I),nt,dt,ot,At);throw nt=String(I),Error("Objects are not valid as a React child (found: "+(nt==="[object Object]"?"object with keys {"+Object.keys(I).join(", ")+"}":nt)+"). If you meant to render a collection of children, use an array instead.")}return Ct}function Y(I,nt,dt){if(I==null)return I;var ot=[],At=0;return Kt(I,ot,"","",function(kt){return nt.call(dt,kt,At++)}),ot}function ht(I){if(I._status===-1){var nt=I._result;nt=nt(),nt.then(function(dt){(I._status===0||I._status===-1)&&(I._status=1,I._result=dt)},function(dt){(I._status===0||I._status===-1)&&(I._status=2,I._result=dt)}),I._status===-1&&(I._status=0,I._result=nt)}if(I._status===1)return I._result.default;throw I._result}var yt=typeof reportError=="function"?reportError:function(I){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var nt=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof I=="object"&&I!==null&&typeof I.message=="string"?String(I.message):String(I),error:I});if(!window.dispatchEvent(nt))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",I);return}console.error(I)};function Pt(){}return Ht.Children={map:Y,forEach:function(I,nt,dt){Y(I,function(){nt.apply(this,arguments)},dt)},count:function(I){var nt=0;return Y(I,function(){nt++}),nt},toArray:function(I){return Y(I,function(nt){return nt})||[]},only:function(I){if(!w(I))throw Error("React.Children.only expected to receive a single React element child.");return I}},Ht.Component=H,Ht.Fragment=r,Ht.Profiler=o,Ht.PureComponent=W,Ht.StrictMode=s,Ht.Suspense=g,Ht.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=mt,Ht.__COMPILER_RUNTIME={__proto__:null,c:function(I){return mt.H.useMemoCache(I)}},Ht.cache=function(I){return function(){return I.apply(null,arguments)}},Ht.cloneElement=function(I,nt,dt){if(I==null)throw Error("The argument must be a React element, but you passed "+I+".");var ot=O({},I.props),At=I.key,kt=void 0;if(nt!=null)for(Ct in nt.ref!==void 0&&(kt=void 0),nt.key!==void 0&&(At=""+nt.key),nt)!F.call(nt,Ct)||Ct==="key"||Ct==="__self"||Ct==="__source"||Ct==="ref"&&nt.ref===void 0||(ot[Ct]=nt[Ct]);var Ct=arguments.length-2;if(Ct===1)ot.children=dt;else if(1<Ct){for(var Oe=Array(Ct),ge=0;ge<Ct;ge++)Oe[ge]=arguments[ge+2];ot.children=Oe}return N(I.type,At,void 0,void 0,kt,ot)},Ht.createContext=function(I){return I={$$typeof:f,_currentValue:I,_currentValue2:I,_threadCount:0,Provider:null,Consumer:null},I.Provider=I,I.Consumer={$$typeof:u,_context:I},I},Ht.createElement=function(I,nt,dt){var ot,At={},kt=null;if(nt!=null)for(ot in nt.key!==void 0&&(kt=""+nt.key),nt)F.call(nt,ot)&&ot!=="key"&&ot!=="__self"&&ot!=="__source"&&(At[ot]=nt[ot]);var Ct=arguments.length-2;if(Ct===1)At.children=dt;else if(1<Ct){for(var Oe=Array(Ct),ge=0;ge<Ct;ge++)Oe[ge]=arguments[ge+2];At.children=Oe}if(I&&I.defaultProps)for(ot in Ct=I.defaultProps,Ct)At[ot]===void 0&&(At[ot]=Ct[ot]);return N(I,kt,void 0,void 0,null,At)},Ht.createRef=function(){return{current:null}},Ht.forwardRef=function(I){return{$$typeof:m,render:I}},Ht.isValidElement=w,Ht.lazy=function(I){return{$$typeof:E,_payload:{_status:-1,_result:I},_init:ht}},Ht.memo=function(I,nt){return{$$typeof:y,type:I,compare:nt===void 0?null:nt}},Ht.startTransition=function(I){var nt=mt.T,dt={};mt.T=dt;try{var ot=I(),At=mt.S;At!==null&&At(dt,ot),typeof ot=="object"&&ot!==null&&typeof ot.then=="function"&&ot.then(Pt,yt)}catch(kt){yt(kt)}finally{mt.T=nt}},Ht.unstable_useCacheRefresh=function(){return mt.H.useCacheRefresh()},Ht.use=function(I){return mt.H.use(I)},Ht.useActionState=function(I,nt,dt){return mt.H.useActionState(I,nt,dt)},Ht.useCallback=function(I,nt){return mt.H.useCallback(I,nt)},Ht.useContext=function(I){return mt.H.useContext(I)},Ht.useDebugValue=function(){},Ht.useDeferredValue=function(I,nt){return mt.H.useDeferredValue(I,nt)},Ht.useEffect=function(I,nt,dt){var ot=mt.H;if(typeof dt=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ot.useEffect(I,nt)},Ht.useId=function(){return mt.H.useId()},Ht.useImperativeHandle=function(I,nt,dt){return mt.H.useImperativeHandle(I,nt,dt)},Ht.useInsertionEffect=function(I,nt){return mt.H.useInsertionEffect(I,nt)},Ht.useLayoutEffect=function(I,nt){return mt.H.useLayoutEffect(I,nt)},Ht.useMemo=function(I,nt){return mt.H.useMemo(I,nt)},Ht.useOptimistic=function(I,nt){return mt.H.useOptimistic(I,nt)},Ht.useReducer=function(I,nt,dt){return mt.H.useReducer(I,nt,dt)},Ht.useRef=function(I){return mt.H.useRef(I)},Ht.useState=function(I){return mt.H.useState(I)},Ht.useSyncExternalStore=function(I,nt,dt){return mt.H.useSyncExternalStore(I,nt,dt)},Ht.useTransition=function(){return mt.H.useTransition()},Ht.version="19.1.0",Ht}var ev;function Xd(){return ev||(ev=1,rd.exports=TS()),rd.exports}var X=Xd(),id={exports:{}},oo={},ad={exports:{}},sd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nv;function SS(){return nv||(nv=1,function(i){function t(Y,ht){var yt=Y.length;Y.push(ht);t:for(;0<yt;){var Pt=yt-1>>>1,I=Y[Pt];if(0<o(I,ht))Y[Pt]=ht,Y[yt]=I,yt=Pt;else break t}}function r(Y){return Y.length===0?null:Y[0]}function s(Y){if(Y.length===0)return null;var ht=Y[0],yt=Y.pop();if(yt!==ht){Y[0]=yt;t:for(var Pt=0,I=Y.length,nt=I>>>1;Pt<nt;){var dt=2*(Pt+1)-1,ot=Y[dt],At=dt+1,kt=Y[At];if(0>o(ot,yt))At<I&&0>o(kt,ot)?(Y[Pt]=kt,Y[At]=yt,Pt=At):(Y[Pt]=ot,Y[dt]=yt,Pt=dt);else if(At<I&&0>o(kt,yt))Y[Pt]=kt,Y[At]=yt,Pt=At;else break t}}return ht}function o(Y,ht){var yt=Y.sortIndex-ht.sortIndex;return yt!==0?yt:Y.id-ht.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();i.unstable_now=function(){return f.now()-m}}var g=[],y=[],E=1,S=null,A=3,D=!1,O=!1,J=!1,H=!1,k=typeof setTimeout=="function"?setTimeout:null,W=typeof clearTimeout=="function"?clearTimeout:null,lt=typeof setImmediate<"u"?setImmediate:null;function gt(Y){for(var ht=r(y);ht!==null;){if(ht.callback===null)s(y);else if(ht.startTime<=Y)s(y),ht.sortIndex=ht.expirationTime,t(g,ht);else break;ht=r(y)}}function mt(Y){if(J=!1,gt(Y),!O)if(r(g)!==null)O=!0,F||(F=!0,P());else{var ht=r(y);ht!==null&&Kt(mt,ht.startTime-Y)}}var F=!1,N=-1,R=5,w=-1;function V(){return H?!0:!(i.unstable_now()-w<R)}function U(){if(H=!1,F){var Y=i.unstable_now();w=Y;var ht=!0;try{t:{O=!1,J&&(J=!1,W(N),N=-1),D=!0;var yt=A;try{e:{for(gt(Y),S=r(g);S!==null&&!(S.expirationTime>Y&&V());){var Pt=S.callback;if(typeof Pt=="function"){S.callback=null,A=S.priorityLevel;var I=Pt(S.expirationTime<=Y);if(Y=i.unstable_now(),typeof I=="function"){S.callback=I,gt(Y),ht=!0;break e}S===r(g)&&s(g),gt(Y)}else s(g);S=r(g)}if(S!==null)ht=!0;else{var nt=r(y);nt!==null&&Kt(mt,nt.startTime-Y),ht=!1}}break t}finally{S=null,A=yt,D=!1}ht=void 0}}finally{ht?P():F=!1}}}var P;if(typeof lt=="function")P=function(){lt(U)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,jt=C.port2;C.port1.onmessage=U,P=function(){jt.postMessage(null)}}else P=function(){k(U,0)};function Kt(Y,ht){N=k(function(){Y(i.unstable_now())},ht)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(Y){Y.callback=null},i.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<Y?Math.floor(1e3/Y):5},i.unstable_getCurrentPriorityLevel=function(){return A},i.unstable_next=function(Y){switch(A){case 1:case 2:case 3:var ht=3;break;default:ht=A}var yt=A;A=ht;try{return Y()}finally{A=yt}},i.unstable_requestPaint=function(){H=!0},i.unstable_runWithPriority=function(Y,ht){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var yt=A;A=Y;try{return ht()}finally{A=yt}},i.unstable_scheduleCallback=function(Y,ht,yt){var Pt=i.unstable_now();switch(typeof yt=="object"&&yt!==null?(yt=yt.delay,yt=typeof yt=="number"&&0<yt?Pt+yt:Pt):yt=Pt,Y){case 1:var I=-1;break;case 2:I=250;break;case 5:I=1073741823;break;case 4:I=1e4;break;default:I=5e3}return I=yt+I,Y={id:E++,callback:ht,priorityLevel:Y,startTime:yt,expirationTime:I,sortIndex:-1},yt>Pt?(Y.sortIndex=yt,t(y,Y),r(g)===null&&Y===r(y)&&(J?(W(N),N=-1):J=!0,Kt(mt,yt-Pt))):(Y.sortIndex=I,t(g,Y),O||D||(O=!0,F||(F=!0,P()))),Y},i.unstable_shouldYield=V,i.unstable_wrapCallback=function(Y){var ht=A;return function(){var yt=A;A=ht;try{return Y.apply(this,arguments)}finally{A=yt}}}}(sd)),sd}var rv;function AS(){return rv||(rv=1,ad.exports=SS()),ad.exports}var ld={exports:{}},gn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iv;function bS(){if(iv)return gn;iv=1;var i=Xd();function t(g){var y="https://react.dev/errors/"+g;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)y+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+g+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var s={d:{f:r,r:function(){throw Error(t(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(g,y,E){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:S==null?null:""+S,children:g,containerInfo:y,implementation:E}}var f=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(g,y){if(g==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return gn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,gn.createPortal=function(g,y){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(t(299));return u(g,y,null,E)},gn.flushSync=function(g){var y=f.T,E=s.p;try{if(f.T=null,s.p=2,g)return g()}finally{f.T=y,s.p=E,s.d.f()}},gn.preconnect=function(g,y){typeof g=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(g,y))},gn.prefetchDNS=function(g){typeof g=="string"&&s.d.D(g)},gn.preinit=function(g,y){if(typeof g=="string"&&y&&typeof y.as=="string"){var E=y.as,S=m(E,y.crossOrigin),A=typeof y.integrity=="string"?y.integrity:void 0,D=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;E==="style"?s.d.S(g,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:S,integrity:A,fetchPriority:D}):E==="script"&&s.d.X(g,{crossOrigin:S,integrity:A,fetchPriority:D,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},gn.preinitModule=function(g,y){if(typeof g=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var E=m(y.as,y.crossOrigin);s.d.M(g,{crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(g)},gn.preload=function(g,y){if(typeof g=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var E=y.as,S=m(E,y.crossOrigin);s.d.L(g,E,{crossOrigin:S,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},gn.preloadModule=function(g,y){if(typeof g=="string")if(y){var E=m(y.as,y.crossOrigin);s.d.m(g,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(g)},gn.requestFormReset=function(g){s.d.r(g)},gn.unstable_batchedUpdates=function(g,y){return g(y)},gn.useFormState=function(g,y,E){return f.H.useFormState(g,y,E)},gn.useFormStatus=function(){return f.H.useHostTransitionStatus()},gn.version="19.1.0",gn}var av;function z_(){if(av)return ld.exports;av=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),ld.exports=bS(),ld.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sv;function RS(){if(sv)return oo;sv=1;var i=AS(),t=Xd(),r=z_();function s(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var n=e,a=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(a=n.return),e=n.return;while(e)}return n.tag===3?a:null}function f(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function m(e){if(u(e)!==e)throw Error(s(188))}function g(e){var n=e.alternate;if(!n){if(n=u(e),n===null)throw Error(s(188));return n!==e?null:e}for(var a=e,l=n;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return m(h),e;if(d===l)return m(h),n;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var _=!1,T=h.child;T;){if(T===a){_=!0,a=h,l=d;break}if(T===l){_=!0,l=h,a=d;break}T=T.sibling}if(!_){for(T=d.child;T;){if(T===a){_=!0,a=d,l=h;break}if(T===l){_=!0,l=d,a=h;break}T=T.sibling}if(!_)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?e:n}function y(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=y(e),n!==null)return n;e=e.sibling}return null}var E=Object.assign,S=Symbol.for("react.element"),A=Symbol.for("react.transitional.element"),D=Symbol.for("react.portal"),O=Symbol.for("react.fragment"),J=Symbol.for("react.strict_mode"),H=Symbol.for("react.profiler"),k=Symbol.for("react.provider"),W=Symbol.for("react.consumer"),lt=Symbol.for("react.context"),gt=Symbol.for("react.forward_ref"),mt=Symbol.for("react.suspense"),F=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),U=Symbol.iterator;function P(e){return e===null||typeof e!="object"?null:(e=U&&e[U]||e["@@iterator"],typeof e=="function"?e:null)}var C=Symbol.for("react.client.reference");function jt(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===C?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case O:return"Fragment";case H:return"Profiler";case J:return"StrictMode";case mt:return"Suspense";case F:return"SuspenseList";case w:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case D:return"Portal";case lt:return(e.displayName||"Context")+".Provider";case W:return(e._context.displayName||"Context")+".Consumer";case gt:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case N:return n=e.displayName||null,n!==null?n:jt(e.type)||"Memo";case R:n=e._payload,e=e._init;try{return jt(e(n))}catch{}}return null}var Kt=Array.isArray,Y=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ht=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,yt={pending:!1,data:null,method:null,action:null},Pt=[],I=-1;function nt(e){return{current:e}}function dt(e){0>I||(e.current=Pt[I],Pt[I]=null,I--)}function ot(e,n){I++,Pt[I]=e.current,e.current=n}var At=nt(null),kt=nt(null),Ct=nt(null),Oe=nt(null);function ge(e,n){switch(ot(Ct,n),ot(kt,e),ot(At,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?wy(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=wy(n),e=Cy(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}dt(At),ot(At,e)}function Qn(){dt(At),dt(kt),dt(Ct)}function Ae(e){e.memoizedState!==null&&ot(Oe,e);var n=At.current,a=Cy(n,e.type);n!==a&&(ot(kt,e),ot(At,a))}function hn(e){kt.current===e&&(dt(At),dt(kt)),Oe.current===e&&(dt(Oe),no._currentValue=yt)}var Er=Object.prototype.hasOwnProperty,Kr=i.unstable_scheduleCallback,_n=i.unstable_cancelCallback,ya=i.unstable_shouldYield,rs=i.unstable_requestPaint,En=i.unstable_now,ul=i.unstable_getCurrentPriorityLevel,va=i.unstable_ImmediatePriority,Ai=i.unstable_UserBlockingPriority,Xr=i.unstable_NormalPriority,dr=i.unstable_LowPriority,Yn=i.unstable_IdlePriority,bi=i.log,Ri=i.unstable_setDisableYieldValue,oe=null,qt=null;function fn(e){if(typeof bi=="function"&&Ri(e),qt&&typeof qt.setStrictMode=="function")try{qt.setStrictMode(oe,e)}catch{}}var Le=Math.clz32?Math.clz32:Tr,is=Math.log,Kn=Math.LN2;function Tr(e){return e>>>=0,e===0?32:31-(is(e)/Kn|0)|0}var Sr=256,Ar=4194304;function Nn(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function $r(e,n,a){var l=e.pendingLanes;if(l===0)return 0;var h=0,d=e.suspendedLanes,_=e.pingedLanes;e=e.warmLanes;var T=l&134217727;return T!==0?(l=T&~d,l!==0?h=Nn(l):(_&=T,_!==0?h=Nn(_):a||(a=T&~e,a!==0&&(h=Nn(a))))):(T=l&~d,T!==0?h=Nn(T):_!==0?h=Nn(_):a||(a=l&~e,a!==0&&(h=Nn(a)))),h===0?0:n!==0&&n!==h&&(n&d)===0&&(d=h&-h,a=n&-n,d>=a||d===32&&(a&4194048)!==0)?n:h}function Xn(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function wi(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Zr(){var e=Sr;return Sr<<=1,(Sr&4194048)===0&&(Sr=256),e}function _a(){var e=Ar;return Ar<<=1,(Ar&62914560)===0&&(Ar=4194304),e}function $n(e){for(var n=[],a=0;31>a;a++)n.push(e);return n}function mr(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Ci(e,n,a,l,h,d){var _=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var T=e.entanglements,x=e.expirationTimes,Q=e.hiddenUpdates;for(a=_&~a;0<a;){var tt=31-Le(a),it=1<<tt;T[tt]=0,x[tt]=-1;var K=Q[tt];if(K!==null)for(Q[tt]=null,tt=0;tt<K.length;tt++){var $=K[tt];$!==null&&($.lane&=-536870913)}a&=~it}l!==0&&Tn(e,l,0),d!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=d&~(_&~n))}function Tn(e,n,a){e.pendingLanes|=n,e.suspendedLanes&=~n;var l=31-Le(n);e.entangledLanes|=n,e.entanglements[l]=e.entanglements[l]|1073741824|a&4194090}function br(e,n){var a=e.entangledLanes|=n;for(e=e.entanglements;a;){var l=31-Le(a),h=1<<l;h&n|e[l]&n&&(e[l]|=n),a&=~h}}function Rr(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Di(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function M(){var e=ht.p;return e!==0?e:(e=window.event,e===void 0?32:Qy(e.type))}function B(e,n){var a=ht.p;try{return ht.p=e,n()}finally{ht.p=a}}var G=Math.random().toString(36).slice(2),rt="__reactFiber$"+G,ct="__reactProps$"+G,vt="__reactContainer$"+G,Dt="__reactEvents$"+G,_t="__reactListeners$"+G,Tt="__reactHandles$"+G,bt="__reactResources$"+G,It="__reactMarker$"+G;function St(e){delete e[rt],delete e[ct],delete e[Dt],delete e[_t],delete e[Tt]}function Nt(e){var n=e[rt];if(n)return n;for(var a=e.parentNode;a;){if(n=a[vt]||a[rt]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(e=My(e);e!==null;){if(a=e[rt])return a;e=My(e)}return n}e=a,a=e.parentNode}return null}function Xt(e){if(e=e[rt]||e[vt]){var n=e.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return e}return null}function ce(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(s(33))}function se(e){var n=e[bt];return n||(n=e[bt]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function te(e){e[It]=!0}var Qt=new Set,Zn={};function je(e,n){Sn(e,n),Sn(e+"Capture",n)}function Sn(e,n){for(Zn[e]=n,e=0;e<n.length;e++)Qt.add(n[e])}var en=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),wr={},Vn={};function xi(e){return Er.call(Vn,e)?!0:Er.call(wr,e)?!1:en.test(e)?Vn[e]=!0:(wr[e]=!0,!1)}function dn(e,n,a){if(xi(n))if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+a)}}function An(e,n,a){if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+a)}}function Ut(e,n,a,l){if(l===null)e.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(n,a,""+l)}}var Ue,On;function wn(e){if(Ue===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);Ue=n&&n[1]||"",On=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ue+e+On}var Cr=!1;function Ee(e,n){if(!e||Cr)return"";Cr=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var it=function(){throw Error()};if(Object.defineProperty(it.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(it,[])}catch($){var K=$}Reflect.construct(e,[],it)}else{try{it.call()}catch($){K=$}e.call(it.prototype)}}else{try{throw Error()}catch($){K=$}(it=e())&&typeof it.catch=="function"&&it.catch(function(){})}}catch($){if($&&K&&typeof $.stack=="string")return[$.stack,K.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),_=d[0],T=d[1];if(_&&T){var x=_.split(`
`),Q=T.split(`
`);for(h=l=0;l<x.length&&!x[l].includes("DetermineComponentFrameRoot");)l++;for(;h<Q.length&&!Q[h].includes("DetermineComponentFrameRoot");)h++;if(l===x.length||h===Q.length)for(l=x.length-1,h=Q.length-1;1<=l&&0<=h&&x[l]!==Q[h];)h--;for(;1<=l&&0<=h;l--,h--)if(x[l]!==Q[h]){if(l!==1||h!==1)do if(l--,h--,0>h||x[l]!==Q[h]){var tt=`
`+x[l].replace(" at new "," at ");return e.displayName&&tt.includes("<anonymous>")&&(tt=tt.replace("<anonymous>",e.displayName)),tt}while(1<=l&&0<=h);break}}}finally{Cr=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?wn(a):""}function Jn(e){switch(e.tag){case 26:case 27:case 5:return wn(e.type);case 16:return wn("Lazy");case 13:return wn("Suspense");case 19:return wn("SuspenseList");case 0:case 15:return Ee(e.type,!1);case 11:return Ee(e.type.render,!1);case 1:return Ee(e.type,!0);case 31:return wn("Activity");default:return""}}function Jr(e){try{var n="";do n+=Jn(e),e=e.return;while(e);return n}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function nn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function cl(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function ah(e){var n=cl(e)?"checked":"value",a=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),l=""+e[n];if(!e.hasOwnProperty(n)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,d=a.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(_){l=""+_,d.call(this,_)}}),Object.defineProperty(e,n,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(_){l=""+_},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function as(e){e._valueTracker||(e._valueTracker=ah(e))}function hl(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var a=n.getValue(),l="";return e&&(l=cl(e)?e.checked?"true":"false":e.value),e=l,e!==a?(n.setValue(e),!0):!1}function Ea(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var sh=/[\n"\\]/g;function Pe(e){return e.replace(sh,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Ln(e,n,a,l,h,d,_,T){e.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?e.type=_:e.removeAttribute("type"),n!=null?_==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+nn(n)):e.value!==""+nn(n)&&(e.value=""+nn(n)):_!=="submit"&&_!=="reset"||e.removeAttribute("value"),n!=null?Ii(e,_,nn(n)):a!=null?Ii(e,_,nn(a)):l!=null&&e.removeAttribute("value"),h==null&&d!=null&&(e.defaultChecked=!!d),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?e.name=""+nn(T):e.removeAttribute("name")}function Ta(e,n,a,l,h,d,_,T){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),n!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||n!=null))return;a=a!=null?""+nn(a):"",n=n!=null?""+nn(n):a,T||n===e.value||(e.value=n),e.defaultValue=n}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=T?e.checked:!!l,e.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(e.name=_)}function Ii(e,n,a){n==="number"&&Ea(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function Wr(e,n,a,l){if(e=e.options,n){n={};for(var h=0;h<a.length;h++)n["$"+a[h]]=!0;for(a=0;a<e.length;a++)h=n.hasOwnProperty("$"+e[a].value),e[a].selected!==h&&(e[a].selected=h),h&&l&&(e[a].defaultSelected=!0)}else{for(a=""+nn(a),n=null,h=0;h<e.length;h++){if(e[h].value===a){e[h].selected=!0,l&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function pe(e,n,a){if(n!=null&&(n=""+nn(n),n!==e.value&&(e.value=n),a==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=a!=null?""+nn(a):""}function Sa(e,n,a,l){if(n==null){if(l!=null){if(a!=null)throw Error(s(92));if(Kt(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),n=a}a=nn(n),e.defaultValue=a,l=e.textContent,l===a&&l!==""&&l!==null&&(e.value=l)}function Wn(e,n){if(n){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=n;return}}e.textContent=n}var Aa=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ho(e,n,a){var l=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":l?e.setProperty(n,a):typeof a!="number"||a===0||Aa.has(n)?n==="float"?e.cssFloat=a:e[n]=(""+a).trim():e[n]=a+"px"}function fl(e,n,a){if(n!=null&&typeof n!="object")throw Error(s(62));if(e=e.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var h in n)l=n[h],n.hasOwnProperty(h)&&a[h]!==l&&Ho(e,h,l)}else for(var d in n)n.hasOwnProperty(d)&&Ho(e,d,n[d])}function dl(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var lh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),oh=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ss(e){return oh.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var ti=null;function tr(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ei=null,ni=null;function ml(e){var n=Xt(e);if(n&&(e=n.stateNode)){var a=e[ct]||null;t:switch(e=n.stateNode,n.type){case"input":if(Ln(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Pe(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var l=a[n];if(l!==e&&l.form===e.form){var h=l[ct]||null;if(!h)throw Error(s(90));Ln(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<a.length;n++)l=a[n],l.form===e.form&&hl(l)}break t;case"textarea":pe(e,a.value,a.defaultValue);break t;case"select":n=a.value,n!=null&&Wr(e,!!a.multiple,n,!1)}}}var Dr=!1;function qo(e,n,a){if(Dr)return e(n,a);Dr=!0;try{var l=e(n);return l}finally{if(Dr=!1,(ei!==null||ni!==null)&&(Uu(),ei&&(n=ei,e=ni,ni=ei=null,ml(n),e)))for(n=0;n<e.length;n++)ml(e[n])}}function ba(e,n){var a=e.stateNode;if(a===null)return null;var l=a[ct]||null;if(l===null)return null;a=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(s(231,n,typeof a));return a}var gr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),er=!1;if(gr)try{var Ra={};Object.defineProperty(Ra,"passive",{get:function(){er=!0}}),window.addEventListener("test",Ra,Ra),window.removeEventListener("test",Ra,Ra)}catch{er=!1}var xr=null,Mi=null,ri=null;function gl(){if(ri)return ri;var e,n=Mi,a=n.length,l,h="value"in xr?xr.value:xr.textContent,d=h.length;for(e=0;e<a&&n[e]===h[e];e++);var _=a-e;for(l=1;l<=_&&n[a-l]===h[d-l];l++);return ri=h.slice(e,1<l?1-l:void 0)}function Ir(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Mr(){return!0}function pl(){return!1}function Xe(e){function n(a,l,h,d,_){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var T in e)e.hasOwnProperty(T)&&(a=e[T],this[T]=a?a(d):d[T]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Mr:pl,this.isPropagationStopped=pl,this}return E(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Mr)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Mr)},persist:function(){},isPersistent:Mr}),n}var he={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ls=Xe(he),wa=E({},he,{view:0,detail:0}),Fo=Xe(wa),os,us,Nr,Ca=E({},wa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ia,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Nr&&(Nr&&e.type==="mousemove"?(os=e.screenX-Nr.screenX,us=e.screenY-Nr.screenY):us=os=0,Nr=e),os)},movementY:function(e){return"movementY"in e?e.movementY:us}}),nr=Xe(Ca),Go=E({},Ca,{dataTransfer:0}),uh=Xe(Go),Da=E({},wa,{relatedTarget:0}),cs=Xe(Da),yl=E({},he,{animationName:0,elapsedTime:0,pseudoElement:0}),hs=Xe(yl),Qo=E({},he,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),fs=Xe(Qo),ch=E({},he,{data:0}),vl=Xe(ch),xa={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Yo={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ko={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _l(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=Ko[e])?!!n[e]:!1}function Ia(){return _l}var Xo=E({},wa,{key:function(e){if(e.key){var n=xa[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Ir(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Yo[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ia,charCode:function(e){return e.type==="keypress"?Ir(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ir(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),ds=Xe(Xo),$o=E({},Ca,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),El=Xe($o),ii=E({},wa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ia}),Zo=Xe(ii),Jo=E({},he,{propertyName:0,elapsedTime:0,pseudoElement:0}),Wo=Xe(Jo),tu=E({},Ca,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),ms=Xe(tu),bn=E({},he,{newState:0,oldState:0}),eu=Xe(bn),nu=[9,13,27,32],Vr=gr&&"CompositionEvent"in window,c=null;gr&&"documentMode"in document&&(c=document.documentMode);var p=gr&&"TextEvent"in window&&!c,v=gr&&(!Vr||c&&8<c&&11>=c),b=" ",j=!1;function Z(e,n){switch(e){case"keyup":return nu.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ft(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ee=!1;function He(e,n){switch(e){case"compositionend":return ft(n);case"keypress":return n.which!==32?null:(j=!0,b);case"textInput":return e=n.data,e===b&&j?null:e;default:return null}}function ne(e,n){if(ee)return e==="compositionend"||!Vr&&Z(e,n)?(e=gl(),ri=Mi=xr=null,ee=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return v&&n.locale!=="ko"?null:n.data;default:return null}}var $e={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qe(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!$e[e.type]:n==="textarea"}function ai(e,n,a,l){ei?ni?ni.push(l):ni=[l]:ei=l,n=Hu(n,"onChange"),0<n.length&&(a=new ls("onChange","change",null,a,l),e.push({event:a,listeners:n}))}var rn=null,Or=null;function Tl(e){Ty(e,0)}function ru(e){var n=ce(e);if(hl(n))return e}function Hm(e,n){if(e==="change")return n}var qm=!1;if(gr){var hh;if(gr){var fh="oninput"in document;if(!fh){var Fm=document.createElement("div");Fm.setAttribute("oninput","return;"),fh=typeof Fm.oninput=="function"}hh=fh}else hh=!1;qm=hh&&(!document.documentMode||9<document.documentMode)}function Gm(){rn&&(rn.detachEvent("onpropertychange",Qm),Or=rn=null)}function Qm(e){if(e.propertyName==="value"&&ru(Or)){var n=[];ai(n,Or,e,tr(e)),qo(Tl,n)}}function XE(e,n,a){e==="focusin"?(Gm(),rn=n,Or=a,rn.attachEvent("onpropertychange",Qm)):e==="focusout"&&Gm()}function $E(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ru(Or)}function ZE(e,n){if(e==="click")return ru(n)}function JE(e,n){if(e==="input"||e==="change")return ru(n)}function WE(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var Un=typeof Object.is=="function"?Object.is:WE;function Sl(e,n){if(Un(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var a=Object.keys(e),l=Object.keys(n);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!Er.call(n,h)||!Un(e[h],n[h]))return!1}return!0}function Ym(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Km(e,n){var a=Ym(e);e=0;for(var l;a;){if(a.nodeType===3){if(l=e+a.textContent.length,e<=n&&l>=n)return{node:a,offset:n-e};e=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=Ym(a)}}function Xm(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Xm(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function $m(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=Ea(e.document);n instanceof e.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)e=n.contentWindow;else break;n=Ea(e.document)}return n}function dh(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var tT=gr&&"documentMode"in document&&11>=document.documentMode,gs=null,mh=null,Al=null,gh=!1;function Zm(e,n,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;gh||gs==null||gs!==Ea(l)||(l=gs,"selectionStart"in l&&dh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Al&&Sl(Al,l)||(Al=l,l=Hu(mh,"onSelect"),0<l.length&&(n=new ls("onSelect","select",null,n,a),e.push({event:n,listeners:l}),n.target=gs)))}function Ma(e,n){var a={};return a[e.toLowerCase()]=n.toLowerCase(),a["Webkit"+e]="webkit"+n,a["Moz"+e]="moz"+n,a}var ps={animationend:Ma("Animation","AnimationEnd"),animationiteration:Ma("Animation","AnimationIteration"),animationstart:Ma("Animation","AnimationStart"),transitionrun:Ma("Transition","TransitionRun"),transitionstart:Ma("Transition","TransitionStart"),transitioncancel:Ma("Transition","TransitionCancel"),transitionend:Ma("Transition","TransitionEnd")},ph={},Jm={};gr&&(Jm=document.createElement("div").style,"AnimationEvent"in window||(delete ps.animationend.animation,delete ps.animationiteration.animation,delete ps.animationstart.animation),"TransitionEvent"in window||delete ps.transitionend.transition);function Na(e){if(ph[e])return ph[e];if(!ps[e])return e;var n=ps[e],a;for(a in n)if(n.hasOwnProperty(a)&&a in Jm)return ph[e]=n[a];return e}var Wm=Na("animationend"),tg=Na("animationiteration"),eg=Na("animationstart"),eT=Na("transitionrun"),nT=Na("transitionstart"),rT=Na("transitioncancel"),ng=Na("transitionend"),rg=new Map,yh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");yh.push("scrollEnd");function pr(e,n){rg.set(e,n),je(n,[e])}var ig=new WeakMap;function rr(e,n){if(typeof e=="object"&&e!==null){var a=ig.get(e);return a!==void 0?a:(n={value:e,source:n,stack:Jr(n)},ig.set(e,n),n)}return{value:e,source:n,stack:Jr(n)}}var ir=[],ys=0,vh=0;function iu(){for(var e=ys,n=vh=ys=0;n<e;){var a=ir[n];ir[n++]=null;var l=ir[n];ir[n++]=null;var h=ir[n];ir[n++]=null;var d=ir[n];if(ir[n++]=null,l!==null&&h!==null){var _=l.pending;_===null?h.next=h:(h.next=_.next,_.next=h),l.pending=h}d!==0&&ag(a,h,d)}}function au(e,n,a,l){ir[ys++]=e,ir[ys++]=n,ir[ys++]=a,ir[ys++]=l,vh|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function _h(e,n,a,l){return au(e,n,a,l),su(e)}function vs(e,n){return au(e,null,null,n),su(e)}function ag(e,n,a){e.lanes|=a;var l=e.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=e.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(h=!0)),e=d,d=d.return;return e.tag===3?(d=e.stateNode,h&&n!==null&&(h=31-Le(a),e=d.hiddenUpdates,l=e[h],l===null?e[h]=[n]:l.push(n),n.lane=a|536870912),d):null}function su(e){if(50<Kl)throw Kl=0,wf=null,Error(s(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var _s={};function iT(e,n,a,l){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pn(e,n,a,l){return new iT(e,n,a,l)}function Eh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function si(e,n){var a=e.alternate;return a===null?(a=Pn(e.tag,n,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=n,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,n=e.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function sg(e,n){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,n=a.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function lu(e,n,a,l,h,d){var _=0;if(l=e,typeof e=="function")Eh(e)&&(_=1);else if(typeof e=="string")_=sS(e,a,At.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case w:return e=Pn(31,a,n,h),e.elementType=w,e.lanes=d,e;case O:return Va(a.children,h,d,n);case J:_=8,h|=24;break;case H:return e=Pn(12,a,n,h|2),e.elementType=H,e.lanes=d,e;case mt:return e=Pn(13,a,n,h),e.elementType=mt,e.lanes=d,e;case F:return e=Pn(19,a,n,h),e.elementType=F,e.lanes=d,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case k:case lt:_=10;break t;case W:_=9;break t;case gt:_=11;break t;case N:_=14;break t;case R:_=16,l=null;break t}_=29,a=Error(s(130,e===null?"null":typeof e,"")),l=null}return n=Pn(_,a,n,h),n.elementType=e,n.type=l,n.lanes=d,n}function Va(e,n,a,l){return e=Pn(7,e,l,n),e.lanes=a,e}function Th(e,n,a){return e=Pn(6,e,null,n),e.lanes=a,e}function Sh(e,n,a){return n=Pn(4,e.children!==null?e.children:[],e.key,n),n.lanes=a,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var Es=[],Ts=0,ou=null,uu=0,ar=[],sr=0,Oa=null,li=1,oi="";function La(e,n){Es[Ts++]=uu,Es[Ts++]=ou,ou=e,uu=n}function lg(e,n,a){ar[sr++]=li,ar[sr++]=oi,ar[sr++]=Oa,Oa=e;var l=li;e=oi;var h=32-Le(l)-1;l&=~(1<<h),a+=1;var d=32-Le(n)+h;if(30<d){var _=h-h%5;d=(l&(1<<_)-1).toString(32),l>>=_,h-=_,li=1<<32-Le(n)+h|a<<h|l,oi=d+e}else li=1<<d|a<<h|l,oi=e}function Ah(e){e.return!==null&&(La(e,1),lg(e,1,0))}function bh(e){for(;e===ou;)ou=Es[--Ts],Es[Ts]=null,uu=Es[--Ts],Es[Ts]=null;for(;e===Oa;)Oa=ar[--sr],ar[sr]=null,oi=ar[--sr],ar[sr]=null,li=ar[--sr],ar[sr]=null}var Rn=null,De=null,ue=!1,Ua=null,Lr=!1,Rh=Error(s(519));function Pa(e){var n=Error(s(418,""));throw wl(rr(n,e)),Rh}function og(e){var n=e.stateNode,a=e.type,l=e.memoizedProps;switch(n[rt]=e,n[ct]=l,a){case"dialog":Zt("cancel",n),Zt("close",n);break;case"iframe":case"object":case"embed":Zt("load",n);break;case"video":case"audio":for(a=0;a<$l.length;a++)Zt($l[a],n);break;case"source":Zt("error",n);break;case"img":case"image":case"link":Zt("error",n),Zt("load",n);break;case"details":Zt("toggle",n);break;case"input":Zt("invalid",n),Ta(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),as(n);break;case"select":Zt("invalid",n);break;case"textarea":Zt("invalid",n),Sa(n,l.value,l.defaultValue,l.children),as(n)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||l.suppressHydrationWarning===!0||Ry(n.textContent,a)?(l.popover!=null&&(Zt("beforetoggle",n),Zt("toggle",n)),l.onScroll!=null&&Zt("scroll",n),l.onScrollEnd!=null&&Zt("scrollend",n),l.onClick!=null&&(n.onclick=qu),n=!0):n=!1,n||Pa(e)}function ug(e){for(Rn=e.return;Rn;)switch(Rn.tag){case 5:case 13:Lr=!1;return;case 27:case 3:Lr=!0;return;default:Rn=Rn.return}}function bl(e){if(e!==Rn)return!1;if(!ue)return ug(e),ue=!0,!1;var n=e.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||Hf(e.type,e.memoizedProps)),a=!a),a&&De&&Pa(e),ug(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));t:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8)if(a=e.data,a==="/$"){if(n===0){De=vr(e.nextSibling);break t}n--}else a!=="$"&&a!=="$!"&&a!=="$?"||n++;e=e.nextSibling}De=null}}else n===27?(n=De,Yi(e.type)?(e=Qf,Qf=null,De=e):De=n):De=Rn?vr(e.stateNode.nextSibling):null;return!0}function Rl(){De=Rn=null,ue=!1}function cg(){var e=Ua;return e!==null&&(xn===null?xn=e:xn.push.apply(xn,e),Ua=null),e}function wl(e){Ua===null?Ua=[e]:Ua.push(e)}var wh=nt(null),za=null,ui=null;function Ni(e,n,a){ot(wh,n._currentValue),n._currentValue=a}function ci(e){e._currentValue=wh.current,dt(wh)}function Ch(e,n,a){for(;e!==null;){var l=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),e===a)break;e=e.return}}function Dh(e,n,a,l){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var d=h.dependencies;if(d!==null){var _=h.child;d=d.firstContext;t:for(;d!==null;){var T=d;d=h;for(var x=0;x<n.length;x++)if(T.context===n[x]){d.lanes|=a,T=d.alternate,T!==null&&(T.lanes|=a),Ch(d.return,a,e),l||(_=null);break t}d=T.next}}else if(h.tag===18){if(_=h.return,_===null)throw Error(s(341));_.lanes|=a,d=_.alternate,d!==null&&(d.lanes|=a),Ch(_,a,e),_=null}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===e){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}}function Cl(e,n,a,l){e=null;for(var h=n,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var _=h.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var T=h.type;Un(h.pendingProps.value,_.value)||(e!==null?e.push(T):e=[T])}}else if(h===Oe.current){if(_=h.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(no):e=[no])}h=h.return}e!==null&&Dh(n,e,a,l),n.flags|=262144}function cu(e){for(e=e.firstContext;e!==null;){if(!Un(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ba(e){za=e,ui=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function mn(e){return hg(za,e)}function hu(e,n){return za===null&&Ba(e),hg(e,n)}function hg(e,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},ui===null){if(e===null)throw Error(s(308));ui=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else ui=ui.next=n;return a}var aT=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(a,l){e.push(l)}};this.abort=function(){n.aborted=!0,e.forEach(function(a){return a()})}},sT=i.unstable_scheduleCallback,lT=i.unstable_NormalPriority,Fe={$$typeof:lt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function xh(){return{controller:new aT,data:new Map,refCount:0}}function Dl(e){e.refCount--,e.refCount===0&&sT(lT,function(){e.controller.abort()})}var xl=null,Ih=0,Ss=0,As=null;function oT(e,n){if(xl===null){var a=xl=[];Ih=0,Ss=Vf(),As={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Ih++,n.then(fg,fg),n}function fg(){if(--Ih===0&&xl!==null){As!==null&&(As.status="fulfilled");var e=xl;xl=null,Ss=0,As=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function uT(e,n){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return e.then(function(){l.status="fulfilled",l.value=n;for(var h=0;h<a.length;h++)(0,a[h])(n)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var dg=Y.S;Y.S=function(e,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&oT(e,n),dg!==null&&dg(e,n)};var ka=nt(null);function Mh(){var e=ka.current;return e!==null?e:Se.pooledCache}function fu(e,n){n===null?ot(ka,ka.current):ot(ka,n.pool)}function mg(){var e=Mh();return e===null?null:{parent:Fe._currentValue,pool:e}}var Il=Error(s(460)),gg=Error(s(474)),du=Error(s(542)),Nh={then:function(){}};function pg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function mu(){}function yg(e,n,a){switch(a=e[a],a===void 0?e.push(n):a!==n&&(n.then(mu,mu),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,_g(e),e;default:if(typeof n.status=="string")n.then(mu,mu);else{if(e=Se,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=n,e.status="pending",e.then(function(l){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=l}},function(l){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,_g(e),e}throw Ml=n,Il}}var Ml=null;function vg(){if(Ml===null)throw Error(s(459));var e=Ml;return Ml=null,e}function _g(e){if(e===Il||e===du)throw Error(s(483))}var Vi=!1;function Vh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Oh(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Oi(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Li(e,n,a){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(de&2)!==0){var h=l.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),l.pending=n,n=su(e),ag(e,null,a),n}return au(e,l,n,a),su(e)}function Nl(e,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var l=n.lanes;l&=e.pendingLanes,a|=l,n.lanes=a,br(e,a)}}function Lh(e,n){var a=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=_:d=d.next=_,a=a.next}while(a!==null);d===null?h=d=n:d=d.next=n}else h=d=n;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=n:e.next=n,a.lastBaseUpdate=n}var Uh=!1;function Vl(){if(Uh){var e=As;if(e!==null)throw e}}function Ol(e,n,a,l){Uh=!1;var h=e.updateQueue;Vi=!1;var d=h.firstBaseUpdate,_=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var x=T,Q=x.next;x.next=null,_===null?d=Q:_.next=Q,_=x;var tt=e.alternate;tt!==null&&(tt=tt.updateQueue,T=tt.lastBaseUpdate,T!==_&&(T===null?tt.firstBaseUpdate=Q:T.next=Q,tt.lastBaseUpdate=x))}if(d!==null){var it=h.baseState;_=0,tt=Q=x=null,T=d;do{var K=T.lane&-536870913,$=K!==T.lane;if($?(re&K)===K:(l&K)===K){K!==0&&K===Ss&&(Uh=!0),tt!==null&&(tt=tt.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});t:{var Lt=e,Mt=T;K=n;var _e=a;switch(Mt.tag){case 1:if(Lt=Mt.payload,typeof Lt=="function"){it=Lt.call(_e,it,K);break t}it=Lt;break t;case 3:Lt.flags=Lt.flags&-65537|128;case 0:if(Lt=Mt.payload,K=typeof Lt=="function"?Lt.call(_e,it,K):Lt,K==null)break t;it=E({},it,K);break t;case 2:Vi=!0}}K=T.callback,K!==null&&(e.flags|=64,$&&(e.flags|=8192),$=h.callbacks,$===null?h.callbacks=[K]:$.push(K))}else $={lane:K,tag:T.tag,payload:T.payload,callback:T.callback,next:null},tt===null?(Q=tt=$,x=it):tt=tt.next=$,_|=K;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;$=T,T=$.next,$.next=null,h.lastBaseUpdate=$,h.shared.pending=null}}while(!0);tt===null&&(x=it),h.baseState=x,h.firstBaseUpdate=Q,h.lastBaseUpdate=tt,d===null&&(h.shared.lanes=0),qi|=_,e.lanes=_,e.memoizedState=it}}function Eg(e,n){if(typeof e!="function")throw Error(s(191,e));e.call(n)}function Tg(e,n){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)Eg(a[e],n)}var bs=nt(null),gu=nt(0);function Sg(e,n){e=yi,ot(gu,e),ot(bs,n),yi=e|n.baseLanes}function Ph(){ot(gu,yi),ot(bs,bs.current)}function zh(){yi=gu.current,dt(bs),dt(gu)}var Ui=0,Ft=null,ye=null,ze=null,pu=!1,Rs=!1,ja=!1,yu=0,Ll=0,ws=null,cT=0;function Ie(){throw Error(s(321))}function Bh(e,n){if(n===null)return!1;for(var a=0;a<n.length&&a<e.length;a++)if(!Un(e[a],n[a]))return!1;return!0}function kh(e,n,a,l,h,d){return Ui=d,Ft=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,Y.H=e===null||e.memoizedState===null?ap:sp,ja=!1,d=a(l,h),ja=!1,Rs&&(d=bg(n,a,l,h)),Ag(e),d}function Ag(e){Y.H=Au;var n=ye!==null&&ye.next!==null;if(Ui=0,ze=ye=Ft=null,pu=!1,Ll=0,ws=null,n)throw Error(s(300));e===null||Ze||(e=e.dependencies,e!==null&&cu(e)&&(Ze=!0))}function bg(e,n,a,l){Ft=e;var h=0;do{if(Rs&&(ws=null),Ll=0,Rs=!1,25<=h)throw Error(s(301));if(h+=1,ze=ye=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}Y.H=yT,d=n(a,l)}while(Rs);return d}function hT(){var e=Y.H,n=e.useState()[0];return n=typeof n.then=="function"?Ul(n):n,e=e.useState()[0],(ye!==null?ye.memoizedState:null)!==e&&(Ft.flags|=1024),n}function jh(){var e=yu!==0;return yu=0,e}function Hh(e,n,a){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~a}function qh(e){if(pu){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}pu=!1}Ui=0,ze=ye=Ft=null,Rs=!1,Ll=yu=0,ws=null}function Cn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ze===null?Ft.memoizedState=ze=e:ze=ze.next=e,ze}function Be(){if(ye===null){var e=Ft.alternate;e=e!==null?e.memoizedState:null}else e=ye.next;var n=ze===null?Ft.memoizedState:ze.next;if(n!==null)ze=n,ye=e;else{if(e===null)throw Ft.alternate===null?Error(s(467)):Error(s(310));ye=e,e={memoizedState:ye.memoizedState,baseState:ye.baseState,baseQueue:ye.baseQueue,queue:ye.queue,next:null},ze===null?Ft.memoizedState=ze=e:ze=ze.next=e}return ze}function Fh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ul(e){var n=Ll;return Ll+=1,ws===null&&(ws=[]),e=yg(ws,e,n),n=Ft,(ze===null?n.memoizedState:ze.next)===null&&(n=n.alternate,Y.H=n===null||n.memoizedState===null?ap:sp),e}function vu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Ul(e);if(e.$$typeof===lt)return mn(e)}throw Error(s(438,String(e)))}function Gh(e){var n=null,a=Ft.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var l=Ft.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=Fh(),Ft.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(e),l=0;l<e;l++)a[l]=V;return n.index++,a}function hi(e,n){return typeof n=="function"?n(e):n}function _u(e){var n=Be();return Qh(n,ye,e)}function Qh(e,n,a){var l=e.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=e.baseQueue,d=l.pending;if(d!==null){if(h!==null){var _=h.next;h.next=d.next,d.next=_}n.baseQueue=h=d,l.pending=null}if(d=e.baseState,h===null)e.memoizedState=d;else{n=h.next;var T=_=null,x=null,Q=n,tt=!1;do{var it=Q.lane&-536870913;if(it!==Q.lane?(re&it)===it:(Ui&it)===it){var K=Q.revertLane;if(K===0)x!==null&&(x=x.next={lane:0,revertLane:0,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null}),it===Ss&&(tt=!0);else if((Ui&K)===K){Q=Q.next,K===Ss&&(tt=!0);continue}else it={lane:0,revertLane:Q.revertLane,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null},x===null?(T=x=it,_=d):x=x.next=it,Ft.lanes|=K,qi|=K;it=Q.action,ja&&a(d,it),d=Q.hasEagerState?Q.eagerState:a(d,it)}else K={lane:it,revertLane:Q.revertLane,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null},x===null?(T=x=K,_=d):x=x.next=K,Ft.lanes|=it,qi|=it;Q=Q.next}while(Q!==null&&Q!==n);if(x===null?_=d:x.next=T,!Un(d,e.memoizedState)&&(Ze=!0,tt&&(a=As,a!==null)))throw a;e.memoizedState=d,e.baseState=_,e.baseQueue=x,l.lastRenderedState=d}return h===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function Yh(e){var n=Be(),a=n.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=e;var l=a.dispatch,h=a.pending,d=n.memoizedState;if(h!==null){a.pending=null;var _=h=h.next;do d=e(d,_.action),_=_.next;while(_!==h);Un(d,n.memoizedState)||(Ze=!0),n.memoizedState=d,n.baseQueue===null&&(n.baseState=d),a.lastRenderedState=d}return[d,l]}function Rg(e,n,a){var l=Ft,h=Be(),d=ue;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=n();var _=!Un((ye||h).memoizedState,a);_&&(h.memoizedState=a,Ze=!0),h=h.queue;var T=Dg.bind(null,l,h,e);if(Pl(2048,8,T,[e]),h.getSnapshot!==n||_||ze!==null&&ze.memoizedState.tag&1){if(l.flags|=2048,Cs(9,Eu(),Cg.bind(null,l,h,a,n),null),Se===null)throw Error(s(349));d||(Ui&124)!==0||wg(l,n,a)}return a}function wg(e,n,a){e.flags|=16384,e={getSnapshot:n,value:a},n=Ft.updateQueue,n===null?(n=Fh(),Ft.updateQueue=n,n.stores=[e]):(a=n.stores,a===null?n.stores=[e]:a.push(e))}function Cg(e,n,a,l){n.value=a,n.getSnapshot=l,xg(n)&&Ig(e)}function Dg(e,n,a){return a(function(){xg(n)&&Ig(e)})}function xg(e){var n=e.getSnapshot;e=e.value;try{var a=n();return!Un(e,a)}catch{return!0}}function Ig(e){var n=vs(e,2);n!==null&&Hn(n,e,2)}function Kh(e){var n=Cn();if(typeof e=="function"){var a=e;if(e=a(),ja){fn(!0);try{a()}finally{fn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:hi,lastRenderedState:e},n}function Mg(e,n,a,l){return e.baseState=a,Qh(e,ye,typeof l=="function"?l:hi)}function fT(e,n,a,l,h){if(Su(e))throw Error(s(485));if(e=n.action,e!==null){var d={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};Y.T!==null?a(!0):d.isTransition=!1,l(d),a=n.pending,a===null?(d.next=n.pending=d,Ng(n,d)):(d.next=a.next,n.pending=a.next=d)}}function Ng(e,n){var a=n.action,l=n.payload,h=e.state;if(n.isTransition){var d=Y.T,_={};Y.T=_;try{var T=a(h,l),x=Y.S;x!==null&&x(_,T),Vg(e,n,T)}catch(Q){Xh(e,n,Q)}finally{Y.T=d}}else try{d=a(h,l),Vg(e,n,d)}catch(Q){Xh(e,n,Q)}}function Vg(e,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Og(e,n,l)},function(l){return Xh(e,n,l)}):Og(e,n,a)}function Og(e,n,a){n.status="fulfilled",n.value=a,Lg(n),e.state=a,n=e.pending,n!==null&&(a=n.next,a===n?e.pending=null:(a=a.next,n.next=a,Ng(e,a)))}function Xh(e,n,a){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=a,Lg(n),n=n.next;while(n!==l)}e.action=null}function Lg(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function Ug(e,n){return n}function Pg(e,n){if(ue){var a=Se.formState;if(a!==null){t:{var l=Ft;if(ue){if(De){e:{for(var h=De,d=Lr;h.nodeType!==8;){if(!d){h=null;break e}if(h=vr(h.nextSibling),h===null){h=null;break e}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){De=vr(h.nextSibling),l=h.data==="F!";break t}}Pa(l)}l=!1}l&&(n=a[0])}}return a=Cn(),a.memoizedState=a.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ug,lastRenderedState:n},a.queue=l,a=np.bind(null,Ft,l),l.dispatch=a,l=Kh(!1),d=tf.bind(null,Ft,!1,l.queue),l=Cn(),h={state:n,dispatch:null,action:e,pending:null},l.queue=h,a=fT.bind(null,Ft,h,d,a),h.dispatch=a,l.memoizedState=e,[n,a,!1]}function zg(e){var n=Be();return Bg(n,ye,e)}function Bg(e,n,a){if(n=Qh(e,n,Ug)[0],e=_u(hi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=Ul(n)}catch(_){throw _===Il?du:_}else l=n;n=Be();var h=n.queue,d=h.dispatch;return a!==n.memoizedState&&(Ft.flags|=2048,Cs(9,Eu(),dT.bind(null,h,a),null)),[l,d,e]}function dT(e,n){e.action=n}function kg(e){var n=Be(),a=ye;if(a!==null)return Bg(n,a,e);Be(),n=n.memoizedState,a=Be();var l=a.queue.dispatch;return a.memoizedState=e,[n,l,!1]}function Cs(e,n,a,l){return e={tag:e,create:a,deps:l,inst:n,next:null},n=Ft.updateQueue,n===null&&(n=Fh(),Ft.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=e.next=e:(l=a.next,a.next=e,e.next=l,n.lastEffect=e),e}function Eu(){return{destroy:void 0,resource:void 0}}function jg(){return Be().memoizedState}function Tu(e,n,a,l){var h=Cn();l=l===void 0?null:l,Ft.flags|=e,h.memoizedState=Cs(1|n,Eu(),a,l)}function Pl(e,n,a,l){var h=Be();l=l===void 0?null:l;var d=h.memoizedState.inst;ye!==null&&l!==null&&Bh(l,ye.memoizedState.deps)?h.memoizedState=Cs(n,d,a,l):(Ft.flags|=e,h.memoizedState=Cs(1|n,d,a,l))}function Hg(e,n){Tu(8390656,8,e,n)}function qg(e,n){Pl(2048,8,e,n)}function Fg(e,n){return Pl(4,2,e,n)}function Gg(e,n){return Pl(4,4,e,n)}function Qg(e,n){if(typeof n=="function"){e=e();var a=n(e);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Yg(e,n,a){a=a!=null?a.concat([e]):null,Pl(4,4,Qg.bind(null,n,e),a)}function $h(){}function Kg(e,n){var a=Be();n=n===void 0?null:n;var l=a.memoizedState;return n!==null&&Bh(n,l[1])?l[0]:(a.memoizedState=[e,n],e)}function Xg(e,n){var a=Be();n=n===void 0?null:n;var l=a.memoizedState;if(n!==null&&Bh(n,l[1]))return l[0];if(l=e(),ja){fn(!0);try{e()}finally{fn(!1)}}return a.memoizedState=[l,n],l}function Zh(e,n,a){return a===void 0||(Ui&1073741824)!==0?e.memoizedState=n:(e.memoizedState=a,e=Jp(),Ft.lanes|=e,qi|=e,a)}function $g(e,n,a,l){return Un(a,n)?a:bs.current!==null?(e=Zh(e,a,l),Un(e,n)||(Ze=!0),e):(Ui&42)===0?(Ze=!0,e.memoizedState=a):(e=Jp(),Ft.lanes|=e,qi|=e,n)}function Zg(e,n,a,l,h){var d=ht.p;ht.p=d!==0&&8>d?d:8;var _=Y.T,T={};Y.T=T,tf(e,!1,n,a);try{var x=h(),Q=Y.S;if(Q!==null&&Q(T,x),x!==null&&typeof x=="object"&&typeof x.then=="function"){var tt=uT(x,l);zl(e,n,tt,jn(e))}else zl(e,n,l,jn(e))}catch(it){zl(e,n,{then:function(){},status:"rejected",reason:it},jn())}finally{ht.p=d,Y.T=_}}function mT(){}function Jh(e,n,a,l){if(e.tag!==5)throw Error(s(476));var h=Jg(e).queue;Zg(e,h,n,yt,a===null?mT:function(){return Wg(e),a(l)})}function Jg(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:yt,baseState:yt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:hi,lastRenderedState:yt},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:hi,lastRenderedState:a},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Wg(e){var n=Jg(e).next.queue;zl(e,n,{},jn())}function Wh(){return mn(no)}function tp(){return Be().memoizedState}function ep(){return Be().memoizedState}function gT(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var a=jn();e=Oi(a);var l=Li(n,e,a);l!==null&&(Hn(l,n,a),Nl(l,n,a)),n={cache:xh()},e.payload=n;return}n=n.return}}function pT(e,n,a){var l=jn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Su(e)?rp(n,a):(a=_h(e,n,a,l),a!==null&&(Hn(a,e,l),ip(a,n,l)))}function np(e,n,a){var l=jn();zl(e,n,a,l)}function zl(e,n,a,l){var h={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Su(e))rp(n,h);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=n.lastRenderedReducer,d!==null))try{var _=n.lastRenderedState,T=d(_,a);if(h.hasEagerState=!0,h.eagerState=T,Un(T,_))return au(e,n,h,0),Se===null&&iu(),!1}catch{}finally{}if(a=_h(e,n,h,l),a!==null)return Hn(a,e,l),ip(a,n,l),!0}return!1}function tf(e,n,a,l){if(l={lane:2,revertLane:Vf(),action:l,hasEagerState:!1,eagerState:null,next:null},Su(e)){if(n)throw Error(s(479))}else n=_h(e,a,l,2),n!==null&&Hn(n,e,2)}function Su(e){var n=e.alternate;return e===Ft||n!==null&&n===Ft}function rp(e,n){Rs=pu=!0;var a=e.pending;a===null?n.next=n:(n.next=a.next,a.next=n),e.pending=n}function ip(e,n,a){if((a&4194048)!==0){var l=n.lanes;l&=e.pendingLanes,a|=l,n.lanes=a,br(e,a)}}var Au={readContext:mn,use:vu,useCallback:Ie,useContext:Ie,useEffect:Ie,useImperativeHandle:Ie,useLayoutEffect:Ie,useInsertionEffect:Ie,useMemo:Ie,useReducer:Ie,useRef:Ie,useState:Ie,useDebugValue:Ie,useDeferredValue:Ie,useTransition:Ie,useSyncExternalStore:Ie,useId:Ie,useHostTransitionStatus:Ie,useFormState:Ie,useActionState:Ie,useOptimistic:Ie,useMemoCache:Ie,useCacheRefresh:Ie},ap={readContext:mn,use:vu,useCallback:function(e,n){return Cn().memoizedState=[e,n===void 0?null:n],e},useContext:mn,useEffect:Hg,useImperativeHandle:function(e,n,a){a=a!=null?a.concat([e]):null,Tu(4194308,4,Qg.bind(null,n,e),a)},useLayoutEffect:function(e,n){return Tu(4194308,4,e,n)},useInsertionEffect:function(e,n){Tu(4,2,e,n)},useMemo:function(e,n){var a=Cn();n=n===void 0?null:n;var l=e();if(ja){fn(!0);try{e()}finally{fn(!1)}}return a.memoizedState=[l,n],l},useReducer:function(e,n,a){var l=Cn();if(a!==void 0){var h=a(n);if(ja){fn(!0);try{a(n)}finally{fn(!1)}}}else h=n;return l.memoizedState=l.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},l.queue=e,e=e.dispatch=pT.bind(null,Ft,e),[l.memoizedState,e]},useRef:function(e){var n=Cn();return e={current:e},n.memoizedState=e},useState:function(e){e=Kh(e);var n=e.queue,a=np.bind(null,Ft,n);return n.dispatch=a,[e.memoizedState,a]},useDebugValue:$h,useDeferredValue:function(e,n){var a=Cn();return Zh(a,e,n)},useTransition:function(){var e=Kh(!1);return e=Zg.bind(null,Ft,e.queue,!0,!1),Cn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,a){var l=Ft,h=Cn();if(ue){if(a===void 0)throw Error(s(407));a=a()}else{if(a=n(),Se===null)throw Error(s(349));(re&124)!==0||wg(l,n,a)}h.memoizedState=a;var d={value:a,getSnapshot:n};return h.queue=d,Hg(Dg.bind(null,l,d,e),[e]),l.flags|=2048,Cs(9,Eu(),Cg.bind(null,l,d,a,n),null),a},useId:function(){var e=Cn(),n=Se.identifierPrefix;if(ue){var a=oi,l=li;a=(l&~(1<<32-Le(l)-1)).toString(32)+a,n="«"+n+"R"+a,a=yu++,0<a&&(n+="H"+a.toString(32)),n+="»"}else a=cT++,n="«"+n+"r"+a.toString(32)+"»";return e.memoizedState=n},useHostTransitionStatus:Wh,useFormState:Pg,useActionState:Pg,useOptimistic:function(e){var n=Cn();n.memoizedState=n.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=tf.bind(null,Ft,!0,a),a.dispatch=n,[e,n]},useMemoCache:Gh,useCacheRefresh:function(){return Cn().memoizedState=gT.bind(null,Ft)}},sp={readContext:mn,use:vu,useCallback:Kg,useContext:mn,useEffect:qg,useImperativeHandle:Yg,useInsertionEffect:Fg,useLayoutEffect:Gg,useMemo:Xg,useReducer:_u,useRef:jg,useState:function(){return _u(hi)},useDebugValue:$h,useDeferredValue:function(e,n){var a=Be();return $g(a,ye.memoizedState,e,n)},useTransition:function(){var e=_u(hi)[0],n=Be().memoizedState;return[typeof e=="boolean"?e:Ul(e),n]},useSyncExternalStore:Rg,useId:tp,useHostTransitionStatus:Wh,useFormState:zg,useActionState:zg,useOptimistic:function(e,n){var a=Be();return Mg(a,ye,e,n)},useMemoCache:Gh,useCacheRefresh:ep},yT={readContext:mn,use:vu,useCallback:Kg,useContext:mn,useEffect:qg,useImperativeHandle:Yg,useInsertionEffect:Fg,useLayoutEffect:Gg,useMemo:Xg,useReducer:Yh,useRef:jg,useState:function(){return Yh(hi)},useDebugValue:$h,useDeferredValue:function(e,n){var a=Be();return ye===null?Zh(a,e,n):$g(a,ye.memoizedState,e,n)},useTransition:function(){var e=Yh(hi)[0],n=Be().memoizedState;return[typeof e=="boolean"?e:Ul(e),n]},useSyncExternalStore:Rg,useId:tp,useHostTransitionStatus:Wh,useFormState:kg,useActionState:kg,useOptimistic:function(e,n){var a=Be();return ye!==null?Mg(a,ye,e,n):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:Gh,useCacheRefresh:ep},Ds=null,Bl=0;function bu(e){var n=Bl;return Bl+=1,Ds===null&&(Ds=[]),yg(Ds,e,n)}function kl(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Ru(e,n){throw n.$$typeof===S?Error(s(525)):(e=Object.prototype.toString.call(n),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function lp(e){var n=e._init;return n(e._payload)}function op(e){function n(z,L){if(e){var q=z.deletions;q===null?(z.deletions=[L],z.flags|=16):q.push(L)}}function a(z,L){if(!e)return null;for(;L!==null;)n(z,L),L=L.sibling;return null}function l(z){for(var L=new Map;z!==null;)z.key!==null?L.set(z.key,z):L.set(z.index,z),z=z.sibling;return L}function h(z,L){return z=si(z,L),z.index=0,z.sibling=null,z}function d(z,L,q){return z.index=q,e?(q=z.alternate,q!==null?(q=q.index,q<L?(z.flags|=67108866,L):q):(z.flags|=67108866,L)):(z.flags|=1048576,L)}function _(z){return e&&z.alternate===null&&(z.flags|=67108866),z}function T(z,L,q,et){return L===null||L.tag!==6?(L=Th(q,z.mode,et),L.return=z,L):(L=h(L,q),L.return=z,L)}function x(z,L,q,et){var Et=q.type;return Et===O?tt(z,L,q.props.children,et,q.key):L!==null&&(L.elementType===Et||typeof Et=="object"&&Et!==null&&Et.$$typeof===R&&lp(Et)===L.type)?(L=h(L,q.props),kl(L,q),L.return=z,L):(L=lu(q.type,q.key,q.props,null,z.mode,et),kl(L,q),L.return=z,L)}function Q(z,L,q,et){return L===null||L.tag!==4||L.stateNode.containerInfo!==q.containerInfo||L.stateNode.implementation!==q.implementation?(L=Sh(q,z.mode,et),L.return=z,L):(L=h(L,q.children||[]),L.return=z,L)}function tt(z,L,q,et,Et){return L===null||L.tag!==7?(L=Va(q,z.mode,et,Et),L.return=z,L):(L=h(L,q),L.return=z,L)}function it(z,L,q){if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return L=Th(""+L,z.mode,q),L.return=z,L;if(typeof L=="object"&&L!==null){switch(L.$$typeof){case A:return q=lu(L.type,L.key,L.props,null,z.mode,q),kl(q,L),q.return=z,q;case D:return L=Sh(L,z.mode,q),L.return=z,L;case R:var et=L._init;return L=et(L._payload),it(z,L,q)}if(Kt(L)||P(L))return L=Va(L,z.mode,q,null),L.return=z,L;if(typeof L.then=="function")return it(z,bu(L),q);if(L.$$typeof===lt)return it(z,hu(z,L),q);Ru(z,L)}return null}function K(z,L,q,et){var Et=L!==null?L.key:null;if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return Et!==null?null:T(z,L,""+q,et);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case A:return q.key===Et?x(z,L,q,et):null;case D:return q.key===Et?Q(z,L,q,et):null;case R:return Et=q._init,q=Et(q._payload),K(z,L,q,et)}if(Kt(q)||P(q))return Et!==null?null:tt(z,L,q,et,null);if(typeof q.then=="function")return K(z,L,bu(q),et);if(q.$$typeof===lt)return K(z,L,hu(z,q),et);Ru(z,q)}return null}function $(z,L,q,et,Et){if(typeof et=="string"&&et!==""||typeof et=="number"||typeof et=="bigint")return z=z.get(q)||null,T(L,z,""+et,Et);if(typeof et=="object"&&et!==null){switch(et.$$typeof){case A:return z=z.get(et.key===null?q:et.key)||null,x(L,z,et,Et);case D:return z=z.get(et.key===null?q:et.key)||null,Q(L,z,et,Et);case R:var Yt=et._init;return et=Yt(et._payload),$(z,L,q,et,Et)}if(Kt(et)||P(et))return z=z.get(q)||null,tt(L,z,et,Et,null);if(typeof et.then=="function")return $(z,L,q,bu(et),Et);if(et.$$typeof===lt)return $(z,L,q,hu(L,et),Et);Ru(L,et)}return null}function Lt(z,L,q,et){for(var Et=null,Yt=null,Rt=L,Vt=L=0,We=null;Rt!==null&&Vt<q.length;Vt++){Rt.index>Vt?(We=Rt,Rt=null):We=Rt.sibling;var le=K(z,Rt,q[Vt],et);if(le===null){Rt===null&&(Rt=We);break}e&&Rt&&le.alternate===null&&n(z,Rt),L=d(le,L,Vt),Yt===null?Et=le:Yt.sibling=le,Yt=le,Rt=We}if(Vt===q.length)return a(z,Rt),ue&&La(z,Vt),Et;if(Rt===null){for(;Vt<q.length;Vt++)Rt=it(z,q[Vt],et),Rt!==null&&(L=d(Rt,L,Vt),Yt===null?Et=Rt:Yt.sibling=Rt,Yt=Rt);return ue&&La(z,Vt),Et}for(Rt=l(Rt);Vt<q.length;Vt++)We=$(Rt,z,Vt,q[Vt],et),We!==null&&(e&&We.alternate!==null&&Rt.delete(We.key===null?Vt:We.key),L=d(We,L,Vt),Yt===null?Et=We:Yt.sibling=We,Yt=We);return e&&Rt.forEach(function(Ji){return n(z,Ji)}),ue&&La(z,Vt),Et}function Mt(z,L,q,et){if(q==null)throw Error(s(151));for(var Et=null,Yt=null,Rt=L,Vt=L=0,We=null,le=q.next();Rt!==null&&!le.done;Vt++,le=q.next()){Rt.index>Vt?(We=Rt,Rt=null):We=Rt.sibling;var Ji=K(z,Rt,le.value,et);if(Ji===null){Rt===null&&(Rt=We);break}e&&Rt&&Ji.alternate===null&&n(z,Rt),L=d(Ji,L,Vt),Yt===null?Et=Ji:Yt.sibling=Ji,Yt=Ji,Rt=We}if(le.done)return a(z,Rt),ue&&La(z,Vt),Et;if(Rt===null){for(;!le.done;Vt++,le=q.next())le=it(z,le.value,et),le!==null&&(L=d(le,L,Vt),Yt===null?Et=le:Yt.sibling=le,Yt=le);return ue&&La(z,Vt),Et}for(Rt=l(Rt);!le.done;Vt++,le=q.next())le=$(Rt,z,Vt,le.value,et),le!==null&&(e&&le.alternate!==null&&Rt.delete(le.key===null?Vt:le.key),L=d(le,L,Vt),Yt===null?Et=le:Yt.sibling=le,Yt=le);return e&&Rt.forEach(function(vS){return n(z,vS)}),ue&&La(z,Vt),Et}function _e(z,L,q,et){if(typeof q=="object"&&q!==null&&q.type===O&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case A:t:{for(var Et=q.key;L!==null;){if(L.key===Et){if(Et=q.type,Et===O){if(L.tag===7){a(z,L.sibling),et=h(L,q.props.children),et.return=z,z=et;break t}}else if(L.elementType===Et||typeof Et=="object"&&Et!==null&&Et.$$typeof===R&&lp(Et)===L.type){a(z,L.sibling),et=h(L,q.props),kl(et,q),et.return=z,z=et;break t}a(z,L);break}else n(z,L);L=L.sibling}q.type===O?(et=Va(q.props.children,z.mode,et,q.key),et.return=z,z=et):(et=lu(q.type,q.key,q.props,null,z.mode,et),kl(et,q),et.return=z,z=et)}return _(z);case D:t:{for(Et=q.key;L!==null;){if(L.key===Et)if(L.tag===4&&L.stateNode.containerInfo===q.containerInfo&&L.stateNode.implementation===q.implementation){a(z,L.sibling),et=h(L,q.children||[]),et.return=z,z=et;break t}else{a(z,L);break}else n(z,L);L=L.sibling}et=Sh(q,z.mode,et),et.return=z,z=et}return _(z);case R:return Et=q._init,q=Et(q._payload),_e(z,L,q,et)}if(Kt(q))return Lt(z,L,q,et);if(P(q)){if(Et=P(q),typeof Et!="function")throw Error(s(150));return q=Et.call(q),Mt(z,L,q,et)}if(typeof q.then=="function")return _e(z,L,bu(q),et);if(q.$$typeof===lt)return _e(z,L,hu(z,q),et);Ru(z,q)}return typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint"?(q=""+q,L!==null&&L.tag===6?(a(z,L.sibling),et=h(L,q),et.return=z,z=et):(a(z,L),et=Th(q,z.mode,et),et.return=z,z=et),_(z)):a(z,L)}return function(z,L,q,et){try{Bl=0;var Et=_e(z,L,q,et);return Ds=null,Et}catch(Rt){if(Rt===Il||Rt===du)throw Rt;var Yt=Pn(29,Rt,null,z.mode);return Yt.lanes=et,Yt.return=z,Yt}finally{}}}var xs=op(!0),up=op(!1),lr=nt(null),Ur=null;function Pi(e){var n=e.alternate;ot(Ge,Ge.current&1),ot(lr,e),Ur===null&&(n===null||bs.current!==null||n.memoizedState!==null)&&(Ur=e)}function cp(e){if(e.tag===22){if(ot(Ge,Ge.current),ot(lr,e),Ur===null){var n=e.alternate;n!==null&&n.memoizedState!==null&&(Ur=e)}}else zi()}function zi(){ot(Ge,Ge.current),ot(lr,lr.current)}function fi(e){dt(lr),Ur===e&&(Ur=null),dt(Ge)}var Ge=nt(0);function wu(e){for(var n=e;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||Gf(a)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function ef(e,n,a,l){n=e.memoizedState,a=a(l,n),a=a==null?n:E({},n,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var nf={enqueueSetState:function(e,n,a){e=e._reactInternals;var l=jn(),h=Oi(l);h.payload=n,a!=null&&(h.callback=a),n=Li(e,h,l),n!==null&&(Hn(n,e,l),Nl(n,e,l))},enqueueReplaceState:function(e,n,a){e=e._reactInternals;var l=jn(),h=Oi(l);h.tag=1,h.payload=n,a!=null&&(h.callback=a),n=Li(e,h,l),n!==null&&(Hn(n,e,l),Nl(n,e,l))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var a=jn(),l=Oi(a);l.tag=2,n!=null&&(l.callback=n),n=Li(e,l,a),n!==null&&(Hn(n,e,a),Nl(n,e,a))}};function hp(e,n,a,l,h,d,_){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,d,_):n.prototype&&n.prototype.isPureReactComponent?!Sl(a,l)||!Sl(h,d):!0}function fp(e,n,a,l){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,l),n.state!==e&&nf.enqueueReplaceState(n,n.state,null)}function Ha(e,n){var a=n;if("ref"in n){a={};for(var l in n)l!=="ref"&&(a[l]=n[l])}if(e=e.defaultProps){a===n&&(a=E({},a));for(var h in e)a[h]===void 0&&(a[h]=e[h])}return a}var Cu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function dp(e){Cu(e)}function mp(e){console.error(e)}function gp(e){Cu(e)}function Du(e,n){try{var a=e.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function pp(e,n,a){try{var l=e.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function rf(e,n,a){return a=Oi(a),a.tag=3,a.payload={element:null},a.callback=function(){Du(e,n)},a}function yp(e){return e=Oi(e),e.tag=3,e}function vp(e,n,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;e.payload=function(){return h(d)},e.callback=function(){pp(n,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(e.callback=function(){pp(n,a,l),typeof h!="function"&&(Fi===null?Fi=new Set([this]):Fi.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function vT(e,n,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=a.alternate,n!==null&&Cl(n,a,h,!0),a=lr.current,a!==null){switch(a.tag){case 13:return Ur===null?Df():a.alternate===null&&xe===0&&(xe=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===Nh?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([l]):n.add(l),If(e,l,h)),!1;case 22:return a.flags|=65536,l===Nh?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([l]):a.add(l)),If(e,l,h)),!1}throw Error(s(435,a.tag))}return If(e,l,h),Df(),!1}if(ue)return n=lr.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,l!==Rh&&(e=Error(s(422),{cause:l}),wl(rr(e,a)))):(l!==Rh&&(n=Error(s(423),{cause:l}),wl(rr(n,a))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,l=rr(l,a),h=rf(e.stateNode,l,h),Lh(e,h),xe!==4&&(xe=2)),!1;var d=Error(s(520),{cause:l});if(d=rr(d,a),Yl===null?Yl=[d]:Yl.push(d),xe!==4&&(xe=2),n===null)return!0;l=rr(l,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,e=h&-h,a.lanes|=e,e=rf(a.stateNode,l,e),Lh(a,e),!1;case 1:if(n=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Fi===null||!Fi.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=yp(h),vp(h,e,a,l),Lh(a,h),!1}a=a.return}while(a!==null);return!1}var _p=Error(s(461)),Ze=!1;function an(e,n,a,l){n.child=e===null?up(n,null,a,l):xs(n,e.child,a,l)}function Ep(e,n,a,l,h){a=a.render;var d=n.ref;if("ref"in l){var _={};for(var T in l)T!=="ref"&&(_[T]=l[T])}else _=l;return Ba(n),l=kh(e,n,a,_,d,h),T=jh(),e!==null&&!Ze?(Hh(e,n,h),di(e,n,h)):(ue&&T&&Ah(n),n.flags|=1,an(e,n,l,h),n.child)}function Tp(e,n,a,l,h){if(e===null){var d=a.type;return typeof d=="function"&&!Eh(d)&&d.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=d,Sp(e,n,d,l,h)):(e=lu(a.type,null,l,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(d=e.child,!ff(e,h)){var _=d.memoizedProps;if(a=a.compare,a=a!==null?a:Sl,a(_,l)&&e.ref===n.ref)return di(e,n,h)}return n.flags|=1,e=si(d,l),e.ref=n.ref,e.return=n,n.child=e}function Sp(e,n,a,l,h){if(e!==null){var d=e.memoizedProps;if(Sl(d,l)&&e.ref===n.ref)if(Ze=!1,n.pendingProps=l=d,ff(e,h))(e.flags&131072)!==0&&(Ze=!0);else return n.lanes=e.lanes,di(e,n,h)}return af(e,n,a,l,h)}function Ap(e,n,a){var l=n.pendingProps,h=l.children,d=e!==null?e.memoizedState:null;if(l.mode==="hidden"){if((n.flags&128)!==0){if(l=d!==null?d.baseLanes|a:a,e!==null){for(h=n.child=e.child,d=0;h!==null;)d=d|h.lanes|h.childLanes,h=h.sibling;n.childLanes=d&~l}else n.childLanes=0,n.child=null;return bp(e,n,l,a)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&fu(n,d!==null?d.cachePool:null),d!==null?Sg(n,d):Ph(),cp(n);else return n.lanes=n.childLanes=536870912,bp(e,n,d!==null?d.baseLanes|a:a,a)}else d!==null?(fu(n,d.cachePool),Sg(n,d),zi(),n.memoizedState=null):(e!==null&&fu(n,null),Ph(),zi());return an(e,n,h,a),n.child}function bp(e,n,a,l){var h=Mh();return h=h===null?null:{parent:Fe._currentValue,pool:h},n.memoizedState={baseLanes:a,cachePool:h},e!==null&&fu(n,null),Ph(),cp(n),e!==null&&Cl(e,n,l,!0),null}function xu(e,n){var a=n.ref;if(a===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(e===null||e.ref!==a)&&(n.flags|=4194816)}}function af(e,n,a,l,h){return Ba(n),a=kh(e,n,a,l,void 0,h),l=jh(),e!==null&&!Ze?(Hh(e,n,h),di(e,n,h)):(ue&&l&&Ah(n),n.flags|=1,an(e,n,a,h),n.child)}function Rp(e,n,a,l,h,d){return Ba(n),n.updateQueue=null,a=bg(n,l,a,h),Ag(e),l=jh(),e!==null&&!Ze?(Hh(e,n,d),di(e,n,d)):(ue&&l&&Ah(n),n.flags|=1,an(e,n,a,d),n.child)}function wp(e,n,a,l,h){if(Ba(n),n.stateNode===null){var d=_s,_=a.contextType;typeof _=="object"&&_!==null&&(d=mn(_)),d=new a(l,d),n.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=nf,n.stateNode=d,d._reactInternals=n,d=n.stateNode,d.props=l,d.state=n.memoizedState,d.refs={},Vh(n),_=a.contextType,d.context=typeof _=="object"&&_!==null?mn(_):_s,d.state=n.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(ef(n,a,_,l),d.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&nf.enqueueReplaceState(d,d.state,null),Ol(n,l,d,h),Vl(),d.state=n.memoizedState),typeof d.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(e===null){d=n.stateNode;var T=n.memoizedProps,x=Ha(a,T);d.props=x;var Q=d.context,tt=a.contextType;_=_s,typeof tt=="object"&&tt!==null&&(_=mn(tt));var it=a.getDerivedStateFromProps;tt=typeof it=="function"||typeof d.getSnapshotBeforeUpdate=="function",T=n.pendingProps!==T,tt||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T||Q!==_)&&fp(n,d,l,_),Vi=!1;var K=n.memoizedState;d.state=K,Ol(n,l,d,h),Vl(),Q=n.memoizedState,T||K!==Q||Vi?(typeof it=="function"&&(ef(n,a,it,l),Q=n.memoizedState),(x=Vi||hp(n,a,x,l,K,Q,_))?(tt||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(n.flags|=4194308)):(typeof d.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=Q),d.props=l,d.state=Q,d.context=_,l=x):(typeof d.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{d=n.stateNode,Oh(e,n),_=n.memoizedProps,tt=Ha(a,_),d.props=tt,it=n.pendingProps,K=d.context,Q=a.contextType,x=_s,typeof Q=="object"&&Q!==null&&(x=mn(Q)),T=a.getDerivedStateFromProps,(Q=typeof T=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==it||K!==x)&&fp(n,d,l,x),Vi=!1,K=n.memoizedState,d.state=K,Ol(n,l,d,h),Vl();var $=n.memoizedState;_!==it||K!==$||Vi||e!==null&&e.dependencies!==null&&cu(e.dependencies)?(typeof T=="function"&&(ef(n,a,T,l),$=n.memoizedState),(tt=Vi||hp(n,a,tt,l,K,$,x)||e!==null&&e.dependencies!==null&&cu(e.dependencies))?(Q||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,$,x),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,$,x)),typeof d.componentDidUpdate=="function"&&(n.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===e.memoizedProps&&K===e.memoizedState||(n.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&K===e.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=$),d.props=l,d.state=$,d.context=x,l=tt):(typeof d.componentDidUpdate!="function"||_===e.memoizedProps&&K===e.memoizedState||(n.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&K===e.memoizedState||(n.flags|=1024),l=!1)}return d=l,xu(e,n),l=(n.flags&128)!==0,d||l?(d=n.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),n.flags|=1,e!==null&&l?(n.child=xs(n,e.child,null,h),n.child=xs(n,null,a,h)):an(e,n,a,h),n.memoizedState=d.state,e=n.child):e=di(e,n,h),e}function Cp(e,n,a,l){return Rl(),n.flags|=256,an(e,n,a,l),n.child}var sf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function lf(e){return{baseLanes:e,cachePool:mg()}}function of(e,n,a){return e=e!==null?e.childLanes&~a:0,n&&(e|=or),e}function Dp(e,n,a){var l=n.pendingProps,h=!1,d=(n.flags&128)!==0,_;if((_=d)||(_=e!==null&&e.memoizedState===null?!1:(Ge.current&2)!==0),_&&(h=!0,n.flags&=-129),_=(n.flags&32)!==0,n.flags&=-33,e===null){if(ue){if(h?Pi(n):zi(),ue){var T=De,x;if(x=T){t:{for(x=T,T=Lr;x.nodeType!==8;){if(!T){T=null;break t}if(x=vr(x.nextSibling),x===null){T=null;break t}}T=x}T!==null?(n.memoizedState={dehydrated:T,treeContext:Oa!==null?{id:li,overflow:oi}:null,retryLane:536870912,hydrationErrors:null},x=Pn(18,null,null,0),x.stateNode=T,x.return=n,n.child=x,Rn=n,De=null,x=!0):x=!1}x||Pa(n)}if(T=n.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return Gf(T)?n.lanes=32:n.lanes=536870912,null;fi(n)}return T=l.children,l=l.fallback,h?(zi(),h=n.mode,T=Iu({mode:"hidden",children:T},h),l=Va(l,h,a,null),T.return=n,l.return=n,T.sibling=l,n.child=T,h=n.child,h.memoizedState=lf(a),h.childLanes=of(e,_,a),n.memoizedState=sf,l):(Pi(n),uf(n,T))}if(x=e.memoizedState,x!==null&&(T=x.dehydrated,T!==null)){if(d)n.flags&256?(Pi(n),n.flags&=-257,n=cf(e,n,a)):n.memoizedState!==null?(zi(),n.child=e.child,n.flags|=128,n=null):(zi(),h=l.fallback,T=n.mode,l=Iu({mode:"visible",children:l.children},T),h=Va(h,T,a,null),h.flags|=2,l.return=n,h.return=n,l.sibling=h,n.child=l,xs(n,e.child,null,a),l=n.child,l.memoizedState=lf(a),l.childLanes=of(e,_,a),n.memoizedState=sf,n=h);else if(Pi(n),Gf(T)){if(_=T.nextSibling&&T.nextSibling.dataset,_)var Q=_.dgst;_=Q,l=Error(s(419)),l.stack="",l.digest=_,wl({value:l,source:null,stack:null}),n=cf(e,n,a)}else if(Ze||Cl(e,n,a,!1),_=(a&e.childLanes)!==0,Ze||_){if(_=Se,_!==null&&(l=a&-a,l=(l&42)!==0?1:Rr(l),l=(l&(_.suspendedLanes|a))!==0?0:l,l!==0&&l!==x.retryLane))throw x.retryLane=l,vs(e,l),Hn(_,e,l),_p;T.data==="$?"||Df(),n=cf(e,n,a)}else T.data==="$?"?(n.flags|=192,n.child=e.child,n=null):(e=x.treeContext,De=vr(T.nextSibling),Rn=n,ue=!0,Ua=null,Lr=!1,e!==null&&(ar[sr++]=li,ar[sr++]=oi,ar[sr++]=Oa,li=e.id,oi=e.overflow,Oa=n),n=uf(n,l.children),n.flags|=4096);return n}return h?(zi(),h=l.fallback,T=n.mode,x=e.child,Q=x.sibling,l=si(x,{mode:"hidden",children:l.children}),l.subtreeFlags=x.subtreeFlags&65011712,Q!==null?h=si(Q,h):(h=Va(h,T,a,null),h.flags|=2),h.return=n,l.return=n,l.sibling=h,n.child=l,l=h,h=n.child,T=e.child.memoizedState,T===null?T=lf(a):(x=T.cachePool,x!==null?(Q=Fe._currentValue,x=x.parent!==Q?{parent:Q,pool:Q}:x):x=mg(),T={baseLanes:T.baseLanes|a,cachePool:x}),h.memoizedState=T,h.childLanes=of(e,_,a),n.memoizedState=sf,l):(Pi(n),a=e.child,e=a.sibling,a=si(a,{mode:"visible",children:l.children}),a.return=n,a.sibling=null,e!==null&&(_=n.deletions,_===null?(n.deletions=[e],n.flags|=16):_.push(e)),n.child=a,n.memoizedState=null,a)}function uf(e,n){return n=Iu({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Iu(e,n){return e=Pn(22,e,null,n),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function cf(e,n,a){return xs(n,e.child,null,a),e=uf(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function xp(e,n,a){e.lanes|=n;var l=e.alternate;l!==null&&(l.lanes|=n),Ch(e.return,n,a)}function hf(e,n,a,l,h){var d=e.memoizedState;d===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h}:(d.isBackwards=n,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=a,d.tailMode=h)}function Ip(e,n,a){var l=n.pendingProps,h=l.revealOrder,d=l.tail;if(an(e,n,l.children,a),l=Ge.current,(l&2)!==0)l=l&1|2,n.flags|=128;else{if(e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&xp(e,a,n);else if(e.tag===19)xp(e,a,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}l&=1}switch(ot(Ge,l),h){case"forwards":for(a=n.child,h=null;a!==null;)e=a.alternate,e!==null&&wu(e)===null&&(h=a),a=a.sibling;a=h,a===null?(h=n.child,n.child=null):(h=a.sibling,a.sibling=null),hf(n,!1,h,a,d);break;case"backwards":for(a=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&wu(e)===null){n.child=h;break}e=h.sibling,h.sibling=a,a=h,h=e}hf(n,!0,a,null,d);break;case"together":hf(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function di(e,n,a){if(e!==null&&(n.dependencies=e.dependencies),qi|=n.lanes,(a&n.childLanes)===0)if(e!==null){if(Cl(e,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(s(153));if(n.child!==null){for(e=n.child,a=si(e,e.pendingProps),n.child=a,a.return=n;e.sibling!==null;)e=e.sibling,a=a.sibling=si(e,e.pendingProps),a.return=n;a.sibling=null}return n.child}function ff(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&cu(e)))}function _T(e,n,a){switch(n.tag){case 3:ge(n,n.stateNode.containerInfo),Ni(n,Fe,e.memoizedState.cache),Rl();break;case 27:case 5:Ae(n);break;case 4:ge(n,n.stateNode.containerInfo);break;case 10:Ni(n,n.type,n.memoizedProps.value);break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(Pi(n),n.flags|=128,null):(a&n.child.childLanes)!==0?Dp(e,n,a):(Pi(n),e=di(e,n,a),e!==null?e.sibling:null);Pi(n);break;case 19:var h=(e.flags&128)!==0;if(l=(a&n.childLanes)!==0,l||(Cl(e,n,a,!1),l=(a&n.childLanes)!==0),h){if(l)return Ip(e,n,a);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ot(Ge,Ge.current),l)break;return null;case 22:case 23:return n.lanes=0,Ap(e,n,a);case 24:Ni(n,Fe,e.memoizedState.cache)}return di(e,n,a)}function Mp(e,n,a){if(e!==null)if(e.memoizedProps!==n.pendingProps)Ze=!0;else{if(!ff(e,a)&&(n.flags&128)===0)return Ze=!1,_T(e,n,a);Ze=(e.flags&131072)!==0}else Ze=!1,ue&&(n.flags&1048576)!==0&&lg(n,uu,n.index);switch(n.lanes=0,n.tag){case 16:t:{e=n.pendingProps;var l=n.elementType,h=l._init;if(l=h(l._payload),n.type=l,typeof l=="function")Eh(l)?(e=Ha(l,e),n.tag=1,n=wp(null,n,l,e,a)):(n.tag=0,n=af(null,n,l,e,a));else{if(l!=null){if(h=l.$$typeof,h===gt){n.tag=11,n=Ep(null,n,l,e,a);break t}else if(h===N){n.tag=14,n=Tp(null,n,l,e,a);break t}}throw n=jt(l)||l,Error(s(306,n,""))}}return n;case 0:return af(e,n,n.type,n.pendingProps,a);case 1:return l=n.type,h=Ha(l,n.pendingProps),wp(e,n,l,h,a);case 3:t:{if(ge(n,n.stateNode.containerInfo),e===null)throw Error(s(387));l=n.pendingProps;var d=n.memoizedState;h=d.element,Oh(e,n),Ol(n,l,null,a);var _=n.memoizedState;if(l=_.cache,Ni(n,Fe,l),l!==d.cache&&Dh(n,[Fe],a,!0),Vl(),l=_.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:_.cache},n.updateQueue.baseState=d,n.memoizedState=d,n.flags&256){n=Cp(e,n,l,a);break t}else if(l!==h){h=rr(Error(s(424)),n),wl(h),n=Cp(e,n,l,a);break t}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(De=vr(e.firstChild),Rn=n,ue=!0,Ua=null,Lr=!0,a=up(n,null,l,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Rl(),l===h){n=di(e,n,a);break t}an(e,n,l,a)}n=n.child}return n;case 26:return xu(e,n),e===null?(a=Ly(n.type,null,n.pendingProps,null))?n.memoizedState=a:ue||(a=n.type,e=n.pendingProps,l=Fu(Ct.current).createElement(a),l[rt]=n,l[ct]=e,ln(l,a,e),te(l),n.stateNode=l):n.memoizedState=Ly(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return Ae(n),e===null&&ue&&(l=n.stateNode=Ny(n.type,n.pendingProps,Ct.current),Rn=n,Lr=!0,h=De,Yi(n.type)?(Qf=h,De=vr(l.firstChild)):De=h),an(e,n,n.pendingProps.children,a),xu(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&ue&&((h=l=De)&&(l=YT(l,n.type,n.pendingProps,Lr),l!==null?(n.stateNode=l,Rn=n,De=vr(l.firstChild),Lr=!1,h=!0):h=!1),h||Pa(n)),Ae(n),h=n.type,d=n.pendingProps,_=e!==null?e.memoizedProps:null,l=d.children,Hf(h,d)?l=null:_!==null&&Hf(h,_)&&(n.flags|=32),n.memoizedState!==null&&(h=kh(e,n,hT,null,null,a),no._currentValue=h),xu(e,n),an(e,n,l,a),n.child;case 6:return e===null&&ue&&((e=a=De)&&(a=KT(a,n.pendingProps,Lr),a!==null?(n.stateNode=a,Rn=n,De=null,e=!0):e=!1),e||Pa(n)),null;case 13:return Dp(e,n,a);case 4:return ge(n,n.stateNode.containerInfo),l=n.pendingProps,e===null?n.child=xs(n,null,l,a):an(e,n,l,a),n.child;case 11:return Ep(e,n,n.type,n.pendingProps,a);case 7:return an(e,n,n.pendingProps,a),n.child;case 8:return an(e,n,n.pendingProps.children,a),n.child;case 12:return an(e,n,n.pendingProps.children,a),n.child;case 10:return l=n.pendingProps,Ni(n,n.type,l.value),an(e,n,l.children,a),n.child;case 9:return h=n.type._context,l=n.pendingProps.children,Ba(n),h=mn(h),l=l(h),n.flags|=1,an(e,n,l,a),n.child;case 14:return Tp(e,n,n.type,n.pendingProps,a);case 15:return Sp(e,n,n.type,n.pendingProps,a);case 19:return Ip(e,n,a);case 31:return l=n.pendingProps,a=n.mode,l={mode:l.mode,children:l.children},e===null?(a=Iu(l,a),a.ref=n.ref,n.child=a,a.return=n,n=a):(a=si(e.child,l),a.ref=n.ref,n.child=a,a.return=n,n=a),n;case 22:return Ap(e,n,a);case 24:return Ba(n),l=mn(Fe),e===null?(h=Mh(),h===null&&(h=Se,d=xh(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),n.memoizedState={parent:l,cache:h},Vh(n),Ni(n,Fe,h)):((e.lanes&a)!==0&&(Oh(e,n),Ol(n,null,null,a),Vl()),h=e.memoizedState,d=n.memoizedState,h.parent!==l?(h={parent:l,cache:l},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Ni(n,Fe,l)):(l=d.cache,Ni(n,Fe,l),l!==h.cache&&Dh(n,[Fe],a,!0))),an(e,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}function mi(e){e.flags|=4}function Np(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!ky(n)){if(n=lr.current,n!==null&&((re&4194048)===re?Ur!==null:(re&62914560)!==re&&(re&536870912)===0||n!==Ur))throw Ml=Nh,gg;e.flags|=8192}}function Mu(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?_a():536870912,e.lanes|=n,Vs|=n)}function jl(e,n){if(!ue)switch(e.tailMode){case"hidden":n=e.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function we(e){var n=e.alternate!==null&&e.alternate.child===e.child,a=0,l=0;if(n)for(var h=e.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=l,e.childLanes=a,n}function ET(e,n,a){var l=n.pendingProps;switch(bh(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return we(n),null;case 1:return we(n),null;case 3:return a=n.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),ci(Fe),Qn(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(bl(n)?mi(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,cg())),we(n),null;case 26:return a=n.memoizedState,e===null?(mi(n),a!==null?(we(n),Np(n,a)):(we(n),n.flags&=-16777217)):a?a!==e.memoizedState?(mi(n),we(n),Np(n,a)):(we(n),n.flags&=-16777217):(e.memoizedProps!==l&&mi(n),we(n),n.flags&=-16777217),null;case 27:hn(n),a=Ct.current;var h=n.type;if(e!==null&&n.stateNode!=null)e.memoizedProps!==l&&mi(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return we(n),null}e=At.current,bl(n)?og(n):(e=Ny(h,l,a),n.stateNode=e,mi(n))}return we(n),null;case 5:if(hn(n),a=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==l&&mi(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return we(n),null}if(e=At.current,bl(n))og(n);else{switch(h=Fu(Ct.current),e){case 1:e=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:e=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":e=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":e=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":e=h.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?e.multiple=!0:l.size&&(e.size=l.size);break;default:e=typeof l.is=="string"?h.createElement(a,{is:l.is}):h.createElement(a)}}e[rt]=n,e[ct]=l;t:for(h=n.child;h!==null;){if(h.tag===5||h.tag===6)e.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===n)break t;for(;h.sibling===null;){if(h.return===null||h.return===n)break t;h=h.return}h.sibling.return=h.return,h=h.sibling}n.stateNode=e;t:switch(ln(e,a,l),a){case"button":case"input":case"select":case"textarea":e=!!l.autoFocus;break t;case"img":e=!0;break t;default:e=!1}e&&mi(n)}}return we(n),n.flags&=-16777217,null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==l&&mi(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(s(166));if(e=Ct.current,bl(n)){if(e=n.stateNode,a=n.memoizedProps,l=null,h=Rn,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}e[rt]=n,e=!!(e.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||Ry(e.nodeValue,a)),e||Pa(n)}else e=Fu(e).createTextNode(l),e[rt]=n,n.stateNode=e}return we(n),null;case 13:if(l=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=bl(n),l!==null&&l.dehydrated!==null){if(e===null){if(!h)throw Error(s(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[rt]=n}else Rl(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;we(n),h=!1}else h=cg(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(fi(n),n):(fi(n),null)}if(fi(n),(n.flags&128)!==0)return n.lanes=a,n;if(a=l!==null,e=e!==null&&e.memoizedState!==null,a){l=n.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)}return a!==e&&a&&(n.child.flags|=8192),Mu(n,n.updateQueue),we(n),null;case 4:return Qn(),e===null&&Pf(n.stateNode.containerInfo),we(n),null;case 10:return ci(n.type),we(n),null;case 19:if(dt(Ge),h=n.memoizedState,h===null)return we(n),null;if(l=(n.flags&128)!==0,d=h.rendering,d===null)if(l)jl(h,!1);else{if(xe!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(d=wu(e),d!==null){for(n.flags|=128,jl(h,!1),e=d.updateQueue,n.updateQueue=e,Mu(n,e),n.subtreeFlags=0,e=a,a=n.child;a!==null;)sg(a,e),a=a.sibling;return ot(Ge,Ge.current&1|2),n.child}e=e.sibling}h.tail!==null&&En()>Ou&&(n.flags|=128,l=!0,jl(h,!1),n.lanes=4194304)}else{if(!l)if(e=wu(d),e!==null){if(n.flags|=128,l=!0,e=e.updateQueue,n.updateQueue=e,Mu(n,e),jl(h,!0),h.tail===null&&h.tailMode==="hidden"&&!d.alternate&&!ue)return we(n),null}else 2*En()-h.renderingStartTime>Ou&&a!==536870912&&(n.flags|=128,l=!0,jl(h,!1),n.lanes=4194304);h.isBackwards?(d.sibling=n.child,n.child=d):(e=h.last,e!==null?e.sibling=d:n.child=d,h.last=d)}return h.tail!==null?(n=h.tail,h.rendering=n,h.tail=n.sibling,h.renderingStartTime=En(),n.sibling=null,e=Ge.current,ot(Ge,l?e&1|2:e&1),n):(we(n),null);case 22:case 23:return fi(n),zh(),l=n.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(a&536870912)!==0&&(n.flags&128)===0&&(we(n),n.subtreeFlags&6&&(n.flags|=8192)):we(n),a=n.updateQueue,a!==null&&Mu(n,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==a&&(n.flags|=2048),e!==null&&dt(ka),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),ci(Fe),we(n),null;case 25:return null;case 30:return null}throw Error(s(156,n.tag))}function TT(e,n){switch(bh(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return ci(Fe),Qn(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return hn(n),null;case 13:if(fi(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(s(340));Rl()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return dt(Ge),null;case 4:return Qn(),null;case 10:return ci(n.type),null;case 22:case 23:return fi(n),zh(),e!==null&&dt(ka),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return ci(Fe),null;case 25:return null;default:return null}}function Vp(e,n){switch(bh(n),n.tag){case 3:ci(Fe),Qn();break;case 26:case 27:case 5:hn(n);break;case 4:Qn();break;case 13:fi(n);break;case 19:dt(Ge);break;case 10:ci(n.type);break;case 22:case 23:fi(n),zh(),e!==null&&dt(ka);break;case 24:ci(Fe)}}function Hl(e,n){try{var a=n.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&e)===e){l=void 0;var d=a.create,_=a.inst;l=d(),_.destroy=l}a=a.next}while(a!==h)}}catch(T){Te(n,n.return,T)}}function Bi(e,n,a){try{var l=n.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&e)===e){var _=l.inst,T=_.destroy;if(T!==void 0){_.destroy=void 0,h=n;var x=a,Q=T;try{Q()}catch(tt){Te(h,x,tt)}}}l=l.next}while(l!==d)}}catch(tt){Te(n,n.return,tt)}}function Op(e){var n=e.updateQueue;if(n!==null){var a=e.stateNode;try{Tg(n,a)}catch(l){Te(e,e.return,l)}}}function Lp(e,n,a){a.props=Ha(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(l){Te(e,n,l)}}function ql(e,n){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof a=="function"?e.refCleanup=a(l):a.current=l}}catch(h){Te(e,n,h)}}function Pr(e,n){var a=e.ref,l=e.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){Te(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Te(e,n,h)}else a.current=null}function Up(e){var n=e.type,a=e.memoizedProps,l=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){Te(e,e.return,h)}}function df(e,n,a){try{var l=e.stateNode;HT(l,e.type,a,n),l[ct]=n}catch(h){Te(e,e.return,h)}}function Pp(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Yi(e.type)||e.tag===4}function mf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||Pp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Yi(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function gf(e,n,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(e),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=qu));else if(l!==4&&(l===27&&Yi(e.type)&&(a=e.stateNode,n=null),e=e.child,e!==null))for(gf(e,n,a),e=e.sibling;e!==null;)gf(e,n,a),e=e.sibling}function Nu(e,n,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?a.insertBefore(e,n):a.appendChild(e);else if(l!==4&&(l===27&&Yi(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(Nu(e,n,a),e=e.sibling;e!==null;)Nu(e,n,a),e=e.sibling}function zp(e){var n=e.stateNode,a=e.memoizedProps;try{for(var l=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);ln(n,l,a),n[rt]=e,n[ct]=a}catch(d){Te(e,e.return,d)}}var gi=!1,Me=!1,pf=!1,Bp=typeof WeakSet=="function"?WeakSet:Set,Je=null;function ST(e,n){if(e=e.containerInfo,kf=$u,e=$m(e),dh(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break t}var _=0,T=-1,x=-1,Q=0,tt=0,it=e,K=null;e:for(;;){for(var $;it!==a||h!==0&&it.nodeType!==3||(T=_+h),it!==d||l!==0&&it.nodeType!==3||(x=_+l),it.nodeType===3&&(_+=it.nodeValue.length),($=it.firstChild)!==null;)K=it,it=$;for(;;){if(it===e)break e;if(K===a&&++Q===h&&(T=_),K===d&&++tt===l&&(x=_),($=it.nextSibling)!==null)break;it=K,K=it.parentNode}it=$}a=T===-1||x===-1?null:{start:T,end:x}}else a=null}a=a||{start:0,end:0}}else a=null;for(jf={focusedElem:e,selectionRange:a},$u=!1,Je=n;Je!==null;)if(n=Je,e=n.child,(n.subtreeFlags&1024)!==0&&e!==null)e.return=n,Je=e;else for(;Je!==null;){switch(n=Je,d=n.alternate,e=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,a=n,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var Lt=Ha(a.type,h,a.elementType===a.type);e=l.getSnapshotBeforeUpdate(Lt,d),l.__reactInternalSnapshotBeforeUpdate=e}catch(Mt){Te(a,a.return,Mt)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,a=e.nodeType,a===9)Ff(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Ff(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=n.sibling,e!==null){e.return=n.return,Je=e;break}Je=n.return}}function kp(e,n,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:ki(e,a),l&4&&Hl(5,a);break;case 1:if(ki(e,a),l&4)if(e=a.stateNode,n===null)try{e.componentDidMount()}catch(_){Te(a,a.return,_)}else{var h=Ha(a.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(_){Te(a,a.return,_)}}l&64&&Op(a),l&512&&ql(a,a.return);break;case 3:if(ki(e,a),l&64&&(e=a.updateQueue,e!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{Tg(e,n)}catch(_){Te(a,a.return,_)}}break;case 27:n===null&&l&4&&zp(a);case 26:case 5:ki(e,a),n===null&&l&4&&Up(a),l&512&&ql(a,a.return);break;case 12:ki(e,a);break;case 13:ki(e,a),l&4&&qp(e,a),l&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=MT.bind(null,a),XT(e,a))));break;case 22:if(l=a.memoizedState!==null||gi,!l){n=n!==null&&n.memoizedState!==null||Me,h=gi;var d=Me;gi=l,(Me=n)&&!d?ji(e,a,(a.subtreeFlags&8772)!==0):ki(e,a),gi=h,Me=d}break;case 30:break;default:ki(e,a)}}function jp(e){var n=e.alternate;n!==null&&(e.alternate=null,jp(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&St(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var be=null,Dn=!1;function pi(e,n,a){for(a=a.child;a!==null;)Hp(e,n,a),a=a.sibling}function Hp(e,n,a){if(qt&&typeof qt.onCommitFiberUnmount=="function")try{qt.onCommitFiberUnmount(oe,a)}catch{}switch(a.tag){case 26:Me||Pr(a,n),pi(e,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Me||Pr(a,n);var l=be,h=Dn;Yi(a.type)&&(be=a.stateNode,Dn=!1),pi(e,n,a),Jl(a.stateNode),be=l,Dn=h;break;case 5:Me||Pr(a,n);case 6:if(l=be,h=Dn,be=null,pi(e,n,a),be=l,Dn=h,be!==null)if(Dn)try{(be.nodeType===9?be.body:be.nodeName==="HTML"?be.ownerDocument.body:be).removeChild(a.stateNode)}catch(d){Te(a,n,d)}else try{be.removeChild(a.stateNode)}catch(d){Te(a,n,d)}break;case 18:be!==null&&(Dn?(e=be,Iy(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),so(e)):Iy(be,a.stateNode));break;case 4:l=be,h=Dn,be=a.stateNode.containerInfo,Dn=!0,pi(e,n,a),be=l,Dn=h;break;case 0:case 11:case 14:case 15:Me||Bi(2,a,n),Me||Bi(4,a,n),pi(e,n,a);break;case 1:Me||(Pr(a,n),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Lp(a,n,l)),pi(e,n,a);break;case 21:pi(e,n,a);break;case 22:Me=(l=Me)||a.memoizedState!==null,pi(e,n,a),Me=l;break;default:pi(e,n,a)}}function qp(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{so(e)}catch(a){Te(n,n.return,a)}}function AT(e){switch(e.tag){case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new Bp),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new Bp),n;default:throw Error(s(435,e.tag))}}function yf(e,n){var a=AT(e);n.forEach(function(l){var h=NT.bind(null,e,l);a.has(l)||(a.add(l),l.then(h,h))})}function zn(e,n){var a=n.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=e,_=n,T=_;t:for(;T!==null;){switch(T.tag){case 27:if(Yi(T.type)){be=T.stateNode,Dn=!1;break t}break;case 5:be=T.stateNode,Dn=!1;break t;case 3:case 4:be=T.stateNode.containerInfo,Dn=!0;break t}T=T.return}if(be===null)throw Error(s(160));Hp(d,_,h),be=null,Dn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)Fp(n,e),n=n.sibling}var yr=null;function Fp(e,n){var a=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:zn(n,e),Bn(e),l&4&&(Bi(3,e,e.return),Hl(3,e),Bi(5,e,e.return));break;case 1:zn(n,e),Bn(e),l&512&&(Me||a===null||Pr(a,a.return)),l&64&&gi&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=yr;if(zn(n,e),Bn(e),l&512&&(Me||a===null||Pr(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=e.memoizedState,a===null)if(l===null)if(e.stateNode===null){t:{l=e.type,a=e.memoizedProps,h=h.ownerDocument||h;e:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[It]||d[rt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),ln(d,l,a),d[rt]=e,te(d),l=d;break t;case"link":var _=zy("link","href",h).get(l+(a.href||""));if(_){for(var T=0;T<_.length;T++)if(d=_[T],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(T,1);break e}}d=h.createElement(l),ln(d,l,a),h.head.appendChild(d);break;case"meta":if(_=zy("meta","content",h).get(l+(a.content||""))){for(T=0;T<_.length;T++)if(d=_[T],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(T,1);break e}}d=h.createElement(l),ln(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[rt]=e,te(d),l=d}e.stateNode=l}else By(h,e.type,e.stateNode);else e.stateNode=Py(h,l,e.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?By(h,e.type,e.stateNode):Py(h,l,e.memoizedProps)):l===null&&e.stateNode!==null&&df(e,e.memoizedProps,a.memoizedProps)}break;case 27:zn(n,e),Bn(e),l&512&&(Me||a===null||Pr(a,a.return)),a!==null&&l&4&&df(e,e.memoizedProps,a.memoizedProps);break;case 5:if(zn(n,e),Bn(e),l&512&&(Me||a===null||Pr(a,a.return)),e.flags&32){h=e.stateNode;try{Wn(h,"")}catch($){Te(e,e.return,$)}}l&4&&e.stateNode!=null&&(h=e.memoizedProps,df(e,h,a!==null?a.memoizedProps:h)),l&1024&&(pf=!0);break;case 6:if(zn(n,e),Bn(e),l&4){if(e.stateNode===null)throw Error(s(162));l=e.memoizedProps,a=e.stateNode;try{a.nodeValue=l}catch($){Te(e,e.return,$)}}break;case 3:if(Yu=null,h=yr,yr=Gu(n.containerInfo),zn(n,e),yr=h,Bn(e),l&4&&a!==null&&a.memoizedState.isDehydrated)try{so(n.containerInfo)}catch($){Te(e,e.return,$)}pf&&(pf=!1,Gp(e));break;case 4:l=yr,yr=Gu(e.stateNode.containerInfo),zn(n,e),Bn(e),yr=l;break;case 12:zn(n,e),Bn(e);break;case 13:zn(n,e),Bn(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Af=En()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,yf(e,l)));break;case 22:h=e.memoizedState!==null;var x=a!==null&&a.memoizedState!==null,Q=gi,tt=Me;if(gi=Q||h,Me=tt||x,zn(n,e),Me=tt,gi=Q,Bn(e),l&8192)t:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(a===null||x||gi||Me||qa(e)),a=null,n=e;;){if(n.tag===5||n.tag===26){if(a===null){x=a=n;try{if(d=x.stateNode,h)_=d.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{T=x.stateNode;var it=x.memoizedProps.style,K=it!=null&&it.hasOwnProperty("display")?it.display:null;T.style.display=K==null||typeof K=="boolean"?"":(""+K).trim()}}catch($){Te(x,x.return,$)}}}else if(n.tag===6){if(a===null){x=n;try{x.stateNode.nodeValue=h?"":x.memoizedProps}catch($){Te(x,x.return,$)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=e.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,yf(e,a))));break;case 19:zn(n,e),Bn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,yf(e,l)));break;case 30:break;case 21:break;default:zn(n,e),Bn(e)}}function Bn(e){var n=e.flags;if(n&2){try{for(var a,l=e.return;l!==null;){if(Pp(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=mf(e);Nu(e,d,h);break;case 5:var _=a.stateNode;a.flags&32&&(Wn(_,""),a.flags&=-33);var T=mf(e);Nu(e,T,_);break;case 3:case 4:var x=a.stateNode.containerInfo,Q=mf(e);gf(e,Q,x);break;default:throw Error(s(161))}}catch(tt){Te(e,e.return,tt)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Gp(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;Gp(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function ki(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)kp(e,n.alternate,n),n=n.sibling}function qa(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Bi(4,n,n.return),qa(n);break;case 1:Pr(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&Lp(n,n.return,a),qa(n);break;case 27:Jl(n.stateNode);case 26:case 5:Pr(n,n.return),qa(n);break;case 22:n.memoizedState===null&&qa(n);break;case 30:qa(n);break;default:qa(n)}e=e.sibling}}function ji(e,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,h=e,d=n,_=d.flags;switch(d.tag){case 0:case 11:case 15:ji(h,d,a),Hl(4,d);break;case 1:if(ji(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(Q){Te(l,l.return,Q)}if(l=d,h=l.updateQueue,h!==null){var T=l.stateNode;try{var x=h.shared.hiddenCallbacks;if(x!==null)for(h.shared.hiddenCallbacks=null,h=0;h<x.length;h++)Eg(x[h],T)}catch(Q){Te(l,l.return,Q)}}a&&_&64&&Op(d),ql(d,d.return);break;case 27:zp(d);case 26:case 5:ji(h,d,a),a&&l===null&&_&4&&Up(d),ql(d,d.return);break;case 12:ji(h,d,a);break;case 13:ji(h,d,a),a&&_&4&&qp(h,d);break;case 22:d.memoizedState===null&&ji(h,d,a),ql(d,d.return);break;case 30:break;default:ji(h,d,a)}n=n.sibling}}function vf(e,n){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Dl(a))}function _f(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Dl(e))}function zr(e,n,a,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Qp(e,n,a,l),n=n.sibling}function Qp(e,n,a,l){var h=n.flags;switch(n.tag){case 0:case 11:case 15:zr(e,n,a,l),h&2048&&Hl(9,n);break;case 1:zr(e,n,a,l);break;case 3:zr(e,n,a,l),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Dl(e)));break;case 12:if(h&2048){zr(e,n,a,l),e=n.stateNode;try{var d=n.memoizedProps,_=d.id,T=d.onPostCommit;typeof T=="function"&&T(_,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(x){Te(n,n.return,x)}}else zr(e,n,a,l);break;case 13:zr(e,n,a,l);break;case 23:break;case 22:d=n.stateNode,_=n.alternate,n.memoizedState!==null?d._visibility&2?zr(e,n,a,l):Fl(e,n):d._visibility&2?zr(e,n,a,l):(d._visibility|=2,Is(e,n,a,l,(n.subtreeFlags&10256)!==0)),h&2048&&vf(_,n);break;case 24:zr(e,n,a,l),h&2048&&_f(n.alternate,n);break;default:zr(e,n,a,l)}}function Is(e,n,a,l,h){for(h=h&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var d=e,_=n,T=a,x=l,Q=_.flags;switch(_.tag){case 0:case 11:case 15:Is(d,_,T,x,h),Hl(8,_);break;case 23:break;case 22:var tt=_.stateNode;_.memoizedState!==null?tt._visibility&2?Is(d,_,T,x,h):Fl(d,_):(tt._visibility|=2,Is(d,_,T,x,h)),h&&Q&2048&&vf(_.alternate,_);break;case 24:Is(d,_,T,x,h),h&&Q&2048&&_f(_.alternate,_);break;default:Is(d,_,T,x,h)}n=n.sibling}}function Fl(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=e,l=n,h=l.flags;switch(l.tag){case 22:Fl(a,l),h&2048&&vf(l.alternate,l);break;case 24:Fl(a,l),h&2048&&_f(l.alternate,l);break;default:Fl(a,l)}n=n.sibling}}var Gl=8192;function Ms(e){if(e.subtreeFlags&Gl)for(e=e.child;e!==null;)Yp(e),e=e.sibling}function Yp(e){switch(e.tag){case 26:Ms(e),e.flags&Gl&&e.memoizedState!==null&&oS(yr,e.memoizedState,e.memoizedProps);break;case 5:Ms(e);break;case 3:case 4:var n=yr;yr=Gu(e.stateNode.containerInfo),Ms(e),yr=n;break;case 22:e.memoizedState===null&&(n=e.alternate,n!==null&&n.memoizedState!==null?(n=Gl,Gl=16777216,Ms(e),Gl=n):Ms(e));break;default:Ms(e)}}function Kp(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function Ql(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];Je=l,$p(l,e)}Kp(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Xp(e),e=e.sibling}function Xp(e){switch(e.tag){case 0:case 11:case 15:Ql(e),e.flags&2048&&Bi(9,e,e.return);break;case 3:Ql(e);break;case 12:Ql(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,Vu(e)):Ql(e);break;default:Ql(e)}}function Vu(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];Je=l,$p(l,e)}Kp(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Bi(8,n,n.return),Vu(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,Vu(n));break;default:Vu(n)}e=e.sibling}}function $p(e,n){for(;Je!==null;){var a=Je;switch(a.tag){case 0:case 11:case 15:Bi(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Dl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Je=l;else t:for(a=e;Je!==null;){l=Je;var h=l.sibling,d=l.return;if(jp(l),l===a){Je=null;break t}if(h!==null){h.return=d,Je=h;break t}Je=d}}}var bT={getCacheForType:function(e){var n=mn(Fe),a=n.data.get(e);return a===void 0&&(a=e(),n.data.set(e,a)),a}},RT=typeof WeakMap=="function"?WeakMap:Map,de=0,Se=null,$t=null,re=0,me=0,kn=null,Hi=!1,Ns=!1,Ef=!1,yi=0,xe=0,qi=0,Fa=0,Tf=0,or=0,Vs=0,Yl=null,xn=null,Sf=!1,Af=0,Ou=1/0,Lu=null,Fi=null,sn=0,Gi=null,Os=null,Ls=0,bf=0,Rf=null,Zp=null,Kl=0,wf=null;function jn(){if((de&2)!==0&&re!==0)return re&-re;if(Y.T!==null){var e=Ss;return e!==0?e:Vf()}return M()}function Jp(){or===0&&(or=(re&536870912)===0||ue?Zr():536870912);var e=lr.current;return e!==null&&(e.flags|=32),or}function Hn(e,n,a){(e===Se&&(me===2||me===9)||e.cancelPendingCommit!==null)&&(Us(e,0),Qi(e,re,or,!1)),mr(e,a),((de&2)===0||e!==Se)&&(e===Se&&((de&2)===0&&(Fa|=a),xe===4&&Qi(e,re,or,!1)),Br(e))}function Wp(e,n,a){if((de&6)!==0)throw Error(s(327));var l=!a&&(n&124)===0&&(n&e.expiredLanes)===0||Xn(e,n),h=l?DT(e,n):xf(e,n,!0),d=l;do{if(h===0){Ns&&!l&&Qi(e,n,0,!1);break}else{if(a=e.current.alternate,d&&!wT(a)){h=xf(e,n,!1),d=!1;continue}if(h===2){if(d=n,e.errorRecoveryDisabledLanes&d)var _=0;else _=e.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){n=_;t:{var T=e;h=Yl;var x=T.current.memoizedState.isDehydrated;if(x&&(Us(T,_).flags|=256),_=xf(T,_,!1),_!==2){if(Ef&&!x){T.errorRecoveryDisabledLanes|=d,Fa|=d,h=4;break t}d=xn,xn=h,d!==null&&(xn===null?xn=d:xn.push.apply(xn,d))}h=_}if(d=!1,h!==2)continue}}if(h===1){Us(e,0),Qi(e,n,0,!0);break}t:{switch(l=e,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((n&4194048)!==n)break;case 6:Qi(l,n,or,!Hi);break t;case 2:xn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((n&62914560)===n&&(h=Af+300-En(),10<h)){if(Qi(l,n,or,!Hi),$r(l,0,!0)!==0)break t;l.timeoutHandle=Dy(ty.bind(null,l,a,xn,Lu,Sf,n,or,Fa,Vs,Hi,d,2,-0,0),h);break t}ty(l,a,xn,Lu,Sf,n,or,Fa,Vs,Hi,d,0,-0,0)}}break}while(!0);Br(e)}function ty(e,n,a,l,h,d,_,T,x,Q,tt,it,K,$){if(e.timeoutHandle=-1,it=n.subtreeFlags,(it&8192||(it&16785408)===16785408)&&(eo={stylesheets:null,count:0,unsuspend:lS},Yp(n),it=uS(),it!==null)){e.cancelPendingCommit=it(ly.bind(null,e,n,d,a,l,h,_,T,x,tt,1,K,$)),Qi(e,d,_,!Q);return}ly(e,n,d,a,l,h,_,T,x)}function wT(e){for(var n=e;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!Un(d(),h))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Qi(e,n,a,l){n&=~Tf,n&=~Fa,e.suspendedLanes|=n,e.pingedLanes&=~n,l&&(e.warmLanes|=n),l=e.expirationTimes;for(var h=n;0<h;){var d=31-Le(h),_=1<<d;l[d]=-1,h&=~_}a!==0&&Tn(e,a,n)}function Uu(){return(de&6)===0?(Xl(0),!1):!0}function Cf(){if($t!==null){if(me===0)var e=$t.return;else e=$t,ui=za=null,qh(e),Ds=null,Bl=0,e=$t;for(;e!==null;)Vp(e.alternate,e),e=e.return;$t=null}}function Us(e,n){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,FT(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),Cf(),Se=e,$t=a=si(e.current,null),re=n,me=0,kn=null,Hi=!1,Ns=Xn(e,n),Ef=!1,Vs=or=Tf=Fa=qi=xe=0,xn=Yl=null,Sf=!1,(n&8)!==0&&(n|=n&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=n;0<l;){var h=31-Le(l),d=1<<h;n|=e[h],l&=~d}return yi=n,iu(),a}function ey(e,n){Ft=null,Y.H=Au,n===Il||n===du?(n=vg(),me=3):n===gg?(n=vg(),me=4):me=n===_p?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,kn=n,$t===null&&(xe=1,Du(e,rr(n,e.current)))}function ny(){var e=Y.H;return Y.H=Au,e===null?Au:e}function ry(){var e=Y.A;return Y.A=bT,e}function Df(){xe=4,Hi||(re&4194048)!==re&&lr.current!==null||(Ns=!0),(qi&134217727)===0&&(Fa&134217727)===0||Se===null||Qi(Se,re,or,!1)}function xf(e,n,a){var l=de;de|=2;var h=ny(),d=ry();(Se!==e||re!==n)&&(Lu=null,Us(e,n)),n=!1;var _=xe;t:do try{if(me!==0&&$t!==null){var T=$t,x=kn;switch(me){case 8:Cf(),_=6;break t;case 3:case 2:case 9:case 6:lr.current===null&&(n=!0);var Q=me;if(me=0,kn=null,Ps(e,T,x,Q),a&&Ns){_=0;break t}break;default:Q=me,me=0,kn=null,Ps(e,T,x,Q)}}CT(),_=xe;break}catch(tt){ey(e,tt)}while(!0);return n&&e.shellSuspendCounter++,ui=za=null,de=l,Y.H=h,Y.A=d,$t===null&&(Se=null,re=0,iu()),_}function CT(){for(;$t!==null;)iy($t)}function DT(e,n){var a=de;de|=2;var l=ny(),h=ry();Se!==e||re!==n?(Lu=null,Ou=En()+500,Us(e,n)):Ns=Xn(e,n);t:do try{if(me!==0&&$t!==null){n=$t;var d=kn;e:switch(me){case 1:me=0,kn=null,Ps(e,n,d,1);break;case 2:case 9:if(pg(d)){me=0,kn=null,ay(n);break}n=function(){me!==2&&me!==9||Se!==e||(me=7),Br(e)},d.then(n,n);break t;case 3:me=7;break t;case 4:me=5;break t;case 7:pg(d)?(me=0,kn=null,ay(n)):(me=0,kn=null,Ps(e,n,d,7));break;case 5:var _=null;switch($t.tag){case 26:_=$t.memoizedState;case 5:case 27:var T=$t;if(!_||ky(_)){me=0,kn=null;var x=T.sibling;if(x!==null)$t=x;else{var Q=T.return;Q!==null?($t=Q,Pu(Q)):$t=null}break e}}me=0,kn=null,Ps(e,n,d,5);break;case 6:me=0,kn=null,Ps(e,n,d,6);break;case 8:Cf(),xe=6;break t;default:throw Error(s(462))}}xT();break}catch(tt){ey(e,tt)}while(!0);return ui=za=null,Y.H=l,Y.A=h,de=a,$t!==null?0:(Se=null,re=0,iu(),xe)}function xT(){for(;$t!==null&&!ya();)iy($t)}function iy(e){var n=Mp(e.alternate,e,yi);e.memoizedProps=e.pendingProps,n===null?Pu(e):$t=n}function ay(e){var n=e,a=n.alternate;switch(n.tag){case 15:case 0:n=Rp(a,n,n.pendingProps,n.type,void 0,re);break;case 11:n=Rp(a,n,n.pendingProps,n.type.render,n.ref,re);break;case 5:qh(n);default:Vp(a,n),n=$t=sg(n,yi),n=Mp(a,n,yi)}e.memoizedProps=e.pendingProps,n===null?Pu(e):$t=n}function Ps(e,n,a,l){ui=za=null,qh(n),Ds=null,Bl=0;var h=n.return;try{if(vT(e,h,n,a,re)){xe=1,Du(e,rr(a,e.current)),$t=null;return}}catch(d){if(h!==null)throw $t=h,d;xe=1,Du(e,rr(a,e.current)),$t=null;return}n.flags&32768?(ue||l===1?e=!0:Ns||(re&536870912)!==0?e=!1:(Hi=e=!0,(l===2||l===9||l===3||l===6)&&(l=lr.current,l!==null&&l.tag===13&&(l.flags|=16384))),sy(n,e)):Pu(n)}function Pu(e){var n=e;do{if((n.flags&32768)!==0){sy(n,Hi);return}e=n.return;var a=ET(n.alternate,n,yi);if(a!==null){$t=a;return}if(n=n.sibling,n!==null){$t=n;return}$t=n=e}while(n!==null);xe===0&&(xe=5)}function sy(e,n){do{var a=TT(e.alternate,e);if(a!==null){a.flags&=32767,$t=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(e=e.sibling,e!==null)){$t=e;return}$t=e=a}while(e!==null);xe=6,$t=null}function ly(e,n,a,l,h,d,_,T,x){e.cancelPendingCommit=null;do zu();while(sn!==0);if((de&6)!==0)throw Error(s(327));if(n!==null){if(n===e.current)throw Error(s(177));if(d=n.lanes|n.childLanes,d|=vh,Ci(e,a,d,_,T,x),e===Se&&($t=Se=null,re=0),Os=n,Gi=e,Ls=a,bf=d,Rf=h,Zp=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,VT(Xr,function(){return fy(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=Y.T,Y.T=null,h=ht.p,ht.p=2,_=de,de|=4;try{ST(e,n,a)}finally{de=_,ht.p=h,Y.T=l}}sn=1,oy(),uy(),cy()}}function oy(){if(sn===1){sn=0;var e=Gi,n=Os,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=Y.T,Y.T=null;var l=ht.p;ht.p=2;var h=de;de|=4;try{Fp(n,e);var d=jf,_=$m(e.containerInfo),T=d.focusedElem,x=d.selectionRange;if(_!==T&&T&&T.ownerDocument&&Xm(T.ownerDocument.documentElement,T)){if(x!==null&&dh(T)){var Q=x.start,tt=x.end;if(tt===void 0&&(tt=Q),"selectionStart"in T)T.selectionStart=Q,T.selectionEnd=Math.min(tt,T.value.length);else{var it=T.ownerDocument||document,K=it&&it.defaultView||window;if(K.getSelection){var $=K.getSelection(),Lt=T.textContent.length,Mt=Math.min(x.start,Lt),_e=x.end===void 0?Mt:Math.min(x.end,Lt);!$.extend&&Mt>_e&&(_=_e,_e=Mt,Mt=_);var z=Km(T,Mt),L=Km(T,_e);if(z&&L&&($.rangeCount!==1||$.anchorNode!==z.node||$.anchorOffset!==z.offset||$.focusNode!==L.node||$.focusOffset!==L.offset)){var q=it.createRange();q.setStart(z.node,z.offset),$.removeAllRanges(),Mt>_e?($.addRange(q),$.extend(L.node,L.offset)):(q.setEnd(L.node,L.offset),$.addRange(q))}}}}for(it=[],$=T;$=$.parentNode;)$.nodeType===1&&it.push({element:$,left:$.scrollLeft,top:$.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<it.length;T++){var et=it[T];et.element.scrollLeft=et.left,et.element.scrollTop=et.top}}$u=!!kf,jf=kf=null}finally{de=h,ht.p=l,Y.T=a}}e.current=n,sn=2}}function uy(){if(sn===2){sn=0;var e=Gi,n=Os,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=Y.T,Y.T=null;var l=ht.p;ht.p=2;var h=de;de|=4;try{kp(e,n.alternate,n)}finally{de=h,ht.p=l,Y.T=a}}sn=3}}function cy(){if(sn===4||sn===3){sn=0,rs();var e=Gi,n=Os,a=Ls,l=Zp;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?sn=5:(sn=0,Os=Gi=null,hy(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(Fi=null),Di(a),n=n.stateNode,qt&&typeof qt.onCommitFiberRoot=="function")try{qt.onCommitFiberRoot(oe,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=Y.T,h=ht.p,ht.p=2,Y.T=null;try{for(var d=e.onRecoverableError,_=0;_<l.length;_++){var T=l[_];d(T.value,{componentStack:T.stack})}}finally{Y.T=n,ht.p=h}}(Ls&3)!==0&&zu(),Br(e),h=e.pendingLanes,(a&4194090)!==0&&(h&42)!==0?e===wf?Kl++:(Kl=0,wf=e):Kl=0,Xl(0)}}function hy(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Dl(n)))}function zu(e){return oy(),uy(),cy(),fy()}function fy(){if(sn!==5)return!1;var e=Gi,n=bf;bf=0;var a=Di(Ls),l=Y.T,h=ht.p;try{ht.p=32>a?32:a,Y.T=null,a=Rf,Rf=null;var d=Gi,_=Ls;if(sn=0,Os=Gi=null,Ls=0,(de&6)!==0)throw Error(s(331));var T=de;if(de|=4,Xp(d.current),Qp(d,d.current,_,a),de=T,Xl(0,!1),qt&&typeof qt.onPostCommitFiberRoot=="function")try{qt.onPostCommitFiberRoot(oe,d)}catch{}return!0}finally{ht.p=h,Y.T=l,hy(e,n)}}function dy(e,n,a){n=rr(a,n),n=rf(e.stateNode,n,2),e=Li(e,n,2),e!==null&&(mr(e,2),Br(e))}function Te(e,n,a){if(e.tag===3)dy(e,e,a);else for(;n!==null;){if(n.tag===3){dy(n,e,a);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Fi===null||!Fi.has(l))){e=rr(a,e),a=yp(2),l=Li(n,a,2),l!==null&&(vp(a,l,n,e),mr(l,2),Br(l));break}}n=n.return}}function If(e,n,a){var l=e.pingCache;if(l===null){l=e.pingCache=new RT;var h=new Set;l.set(n,h)}else h=l.get(n),h===void 0&&(h=new Set,l.set(n,h));h.has(a)||(Ef=!0,h.add(a),e=IT.bind(null,e,n,a),n.then(e,e))}function IT(e,n,a){var l=e.pingCache;l!==null&&l.delete(n),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,Se===e&&(re&a)===a&&(xe===4||xe===3&&(re&62914560)===re&&300>En()-Af?(de&2)===0&&Us(e,0):Tf|=a,Vs===re&&(Vs=0)),Br(e)}function my(e,n){n===0&&(n=_a()),e=vs(e,n),e!==null&&(mr(e,n),Br(e))}function MT(e){var n=e.memoizedState,a=0;n!==null&&(a=n.retryLane),my(e,a)}function NT(e,n){var a=0;switch(e.tag){case 13:var l=e.stateNode,h=e.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(n),my(e,a)}function VT(e,n){return Kr(e,n)}var Bu=null,zs=null,Mf=!1,ku=!1,Nf=!1,Ga=0;function Br(e){e!==zs&&e.next===null&&(zs===null?Bu=zs=e:zs=zs.next=e),ku=!0,Mf||(Mf=!0,LT())}function Xl(e,n){if(!Nf&&ku){Nf=!0;do for(var a=!1,l=Bu;l!==null;){if(e!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var _=l.suspendedLanes,T=l.pingedLanes;d=(1<<31-Le(42|e)+1)-1,d&=h&~(_&~T),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,vy(l,d))}else d=re,d=$r(l,l===Se?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Xn(l,d)||(a=!0,vy(l,d));l=l.next}while(a);Nf=!1}}function OT(){gy()}function gy(){ku=Mf=!1;var e=0;Ga!==0&&(qT()&&(e=Ga),Ga=0);for(var n=En(),a=null,l=Bu;l!==null;){var h=l.next,d=py(l,n);d===0?(l.next=null,a===null?Bu=h:a.next=h,h===null&&(zs=a)):(a=l,(e!==0||(d&3)!==0)&&(ku=!0)),l=h}Xl(e)}function py(e,n){for(var a=e.suspendedLanes,l=e.pingedLanes,h=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var _=31-Le(d),T=1<<_,x=h[_];x===-1?((T&a)===0||(T&l)!==0)&&(h[_]=wi(T,n)):x<=n&&(e.expiredLanes|=T),d&=~T}if(n=Se,a=re,a=$r(e,e===n?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,a===0||e===n&&(me===2||me===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&_n(l),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||Xn(e,a)){if(n=a&-a,n===e.callbackPriority)return n;switch(l!==null&&_n(l),Di(a)){case 2:case 8:a=Ai;break;case 32:a=Xr;break;case 268435456:a=Yn;break;default:a=Xr}return l=yy.bind(null,e),a=Kr(a,l),e.callbackPriority=n,e.callbackNode=a,n}return l!==null&&l!==null&&_n(l),e.callbackPriority=2,e.callbackNode=null,2}function yy(e,n){if(sn!==0&&sn!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(zu()&&e.callbackNode!==a)return null;var l=re;return l=$r(e,e===Se?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(Wp(e,l,n),py(e,En()),e.callbackNode!=null&&e.callbackNode===a?yy.bind(null,e):null)}function vy(e,n){if(zu())return null;Wp(e,n,!0)}function LT(){GT(function(){(de&6)!==0?Kr(va,OT):gy()})}function Vf(){return Ga===0&&(Ga=Zr()),Ga}function _y(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:ss(""+e)}function Ey(e,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,e.id&&a.setAttribute("form",e.id),n.parentNode.insertBefore(a,n),e=new FormData(e),a.parentNode.removeChild(a),e}function UT(e,n,a,l,h){if(n==="submit"&&a&&a.stateNode===h){var d=_y((h[ct]||null).action),_=l.submitter;_&&(n=(n=_[ct]||null)?_y(n.formAction):_.getAttribute("formAction"),n!==null&&(d=n,_=null));var T=new ls("action","action",null,l,h);e.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Ga!==0){var x=_?Ey(h,_):new FormData(h);Jh(a,{pending:!0,data:x,method:h.method,action:d},null,x)}}else typeof d=="function"&&(T.preventDefault(),x=_?Ey(h,_):new FormData(h),Jh(a,{pending:!0,data:x,method:h.method,action:d},d,x))},currentTarget:h}]})}}for(var Of=0;Of<yh.length;Of++){var Lf=yh[Of],PT=Lf.toLowerCase(),zT=Lf[0].toUpperCase()+Lf.slice(1);pr(PT,"on"+zT)}pr(Wm,"onAnimationEnd"),pr(tg,"onAnimationIteration"),pr(eg,"onAnimationStart"),pr("dblclick","onDoubleClick"),pr("focusin","onFocus"),pr("focusout","onBlur"),pr(eT,"onTransitionRun"),pr(nT,"onTransitionStart"),pr(rT,"onTransitionCancel"),pr(ng,"onTransitionEnd"),Sn("onMouseEnter",["mouseout","mouseover"]),Sn("onMouseLeave",["mouseout","mouseover"]),Sn("onPointerEnter",["pointerout","pointerover"]),Sn("onPointerLeave",["pointerout","pointerover"]),je("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),je("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),je("onBeforeInput",["compositionend","keypress","textInput","paste"]),je("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),je("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),je("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var $l="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),BT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat($l));function Ty(e,n){n=(n&4)!==0;for(var a=0;a<e.length;a++){var l=e[a],h=l.event;l=l.listeners;t:{var d=void 0;if(n)for(var _=l.length-1;0<=_;_--){var T=l[_],x=T.instance,Q=T.currentTarget;if(T=T.listener,x!==d&&h.isPropagationStopped())break t;d=T,h.currentTarget=Q;try{d(h)}catch(tt){Cu(tt)}h.currentTarget=null,d=x}else for(_=0;_<l.length;_++){if(T=l[_],x=T.instance,Q=T.currentTarget,T=T.listener,x!==d&&h.isPropagationStopped())break t;d=T,h.currentTarget=Q;try{d(h)}catch(tt){Cu(tt)}h.currentTarget=null,d=x}}}}function Zt(e,n){var a=n[Dt];a===void 0&&(a=n[Dt]=new Set);var l=e+"__bubble";a.has(l)||(Sy(n,e,2,!1),a.add(l))}function Uf(e,n,a){var l=0;n&&(l|=4),Sy(a,e,l,n)}var ju="_reactListening"+Math.random().toString(36).slice(2);function Pf(e){if(!e[ju]){e[ju]=!0,Qt.forEach(function(a){a!=="selectionchange"&&(BT.has(a)||Uf(a,!1,e),Uf(a,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[ju]||(n[ju]=!0,Uf("selectionchange",!1,n))}}function Sy(e,n,a,l){switch(Qy(n)){case 2:var h=fS;break;case 8:h=dS;break;default:h=Zf}a=h.bind(null,n,a,e),h=void 0,!er||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),l?h!==void 0?e.addEventListener(n,a,{capture:!0,passive:h}):e.addEventListener(n,a,!0):h!==void 0?e.addEventListener(n,a,{passive:h}):e.addEventListener(n,a,!1)}function zf(e,n,a,l,h){var d=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var T=l.stateNode.containerInfo;if(T===h)break;if(_===4)for(_=l.return;_!==null;){var x=_.tag;if((x===3||x===4)&&_.stateNode.containerInfo===h)return;_=_.return}for(;T!==null;){if(_=Nt(T),_===null)return;if(x=_.tag,x===5||x===6||x===26||x===27){l=d=_;continue t}T=T.parentNode}}l=l.return}qo(function(){var Q=d,tt=tr(a),it=[];t:{var K=rg.get(e);if(K!==void 0){var $=ls,Lt=e;switch(e){case"keypress":if(Ir(a)===0)break t;case"keydown":case"keyup":$=ds;break;case"focusin":Lt="focus",$=cs;break;case"focusout":Lt="blur",$=cs;break;case"beforeblur":case"afterblur":$=cs;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":$=nr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":$=uh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":$=Zo;break;case Wm:case tg:case eg:$=hs;break;case ng:$=Wo;break;case"scroll":case"scrollend":$=Fo;break;case"wheel":$=ms;break;case"copy":case"cut":case"paste":$=fs;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":$=El;break;case"toggle":case"beforetoggle":$=eu}var Mt=(n&4)!==0,_e=!Mt&&(e==="scroll"||e==="scrollend"),z=Mt?K!==null?K+"Capture":null:K;Mt=[];for(var L=Q,q;L!==null;){var et=L;if(q=et.stateNode,et=et.tag,et!==5&&et!==26&&et!==27||q===null||z===null||(et=ba(L,z),et!=null&&Mt.push(Zl(L,et,q))),_e)break;L=L.return}0<Mt.length&&(K=new $(K,Lt,null,a,tt),it.push({event:K,listeners:Mt}))}}if((n&7)===0){t:{if(K=e==="mouseover"||e==="pointerover",$=e==="mouseout"||e==="pointerout",K&&a!==ti&&(Lt=a.relatedTarget||a.fromElement)&&(Nt(Lt)||Lt[vt]))break t;if(($||K)&&(K=tt.window===tt?tt:(K=tt.ownerDocument)?K.defaultView||K.parentWindow:window,$?(Lt=a.relatedTarget||a.toElement,$=Q,Lt=Lt?Nt(Lt):null,Lt!==null&&(_e=u(Lt),Mt=Lt.tag,Lt!==_e||Mt!==5&&Mt!==27&&Mt!==6)&&(Lt=null)):($=null,Lt=Q),$!==Lt)){if(Mt=nr,et="onMouseLeave",z="onMouseEnter",L="mouse",(e==="pointerout"||e==="pointerover")&&(Mt=El,et="onPointerLeave",z="onPointerEnter",L="pointer"),_e=$==null?K:ce($),q=Lt==null?K:ce(Lt),K=new Mt(et,L+"leave",$,a,tt),K.target=_e,K.relatedTarget=q,et=null,Nt(tt)===Q&&(Mt=new Mt(z,L+"enter",Lt,a,tt),Mt.target=q,Mt.relatedTarget=_e,et=Mt),_e=et,$&&Lt)e:{for(Mt=$,z=Lt,L=0,q=Mt;q;q=Bs(q))L++;for(q=0,et=z;et;et=Bs(et))q++;for(;0<L-q;)Mt=Bs(Mt),L--;for(;0<q-L;)z=Bs(z),q--;for(;L--;){if(Mt===z||z!==null&&Mt===z.alternate)break e;Mt=Bs(Mt),z=Bs(z)}Mt=null}else Mt=null;$!==null&&Ay(it,K,$,Mt,!1),Lt!==null&&_e!==null&&Ay(it,_e,Lt,Mt,!0)}}t:{if(K=Q?ce(Q):window,$=K.nodeName&&K.nodeName.toLowerCase(),$==="select"||$==="input"&&K.type==="file")var Et=Hm;else if(qe(K))if(qm)Et=JE;else{Et=$E;var Yt=XE}else $=K.nodeName,!$||$.toLowerCase()!=="input"||K.type!=="checkbox"&&K.type!=="radio"?Q&&dl(Q.elementType)&&(Et=Hm):Et=ZE;if(Et&&(Et=Et(e,Q))){ai(it,Et,a,tt);break t}Yt&&Yt(e,K,Q),e==="focusout"&&Q&&K.type==="number"&&Q.memoizedProps.value!=null&&Ii(K,"number",K.value)}switch(Yt=Q?ce(Q):window,e){case"focusin":(qe(Yt)||Yt.contentEditable==="true")&&(gs=Yt,mh=Q,Al=null);break;case"focusout":Al=mh=gs=null;break;case"mousedown":gh=!0;break;case"contextmenu":case"mouseup":case"dragend":gh=!1,Zm(it,a,tt);break;case"selectionchange":if(tT)break;case"keydown":case"keyup":Zm(it,a,tt)}var Rt;if(Vr)t:{switch(e){case"compositionstart":var Vt="onCompositionStart";break t;case"compositionend":Vt="onCompositionEnd";break t;case"compositionupdate":Vt="onCompositionUpdate";break t}Vt=void 0}else ee?Z(e,a)&&(Vt="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(Vt="onCompositionStart");Vt&&(v&&a.locale!=="ko"&&(ee||Vt!=="onCompositionStart"?Vt==="onCompositionEnd"&&ee&&(Rt=gl()):(xr=tt,Mi="value"in xr?xr.value:xr.textContent,ee=!0)),Yt=Hu(Q,Vt),0<Yt.length&&(Vt=new vl(Vt,e,null,a,tt),it.push({event:Vt,listeners:Yt}),Rt?Vt.data=Rt:(Rt=ft(a),Rt!==null&&(Vt.data=Rt)))),(Rt=p?He(e,a):ne(e,a))&&(Vt=Hu(Q,"onBeforeInput"),0<Vt.length&&(Yt=new vl("onBeforeInput","beforeinput",null,a,tt),it.push({event:Yt,listeners:Vt}),Yt.data=Rt)),UT(it,e,Q,a,tt)}Ty(it,n)})}function Zl(e,n,a){return{instance:e,listener:n,currentTarget:a}}function Hu(e,n){for(var a=n+"Capture",l=[];e!==null;){var h=e,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=ba(e,a),h!=null&&l.unshift(Zl(e,h,d)),h=ba(e,n),h!=null&&l.push(Zl(e,h,d))),e.tag===3)return l;e=e.return}return[]}function Bs(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Ay(e,n,a,l,h){for(var d=n._reactName,_=[];a!==null&&a!==l;){var T=a,x=T.alternate,Q=T.stateNode;if(T=T.tag,x!==null&&x===l)break;T!==5&&T!==26&&T!==27||Q===null||(x=Q,h?(Q=ba(a,d),Q!=null&&_.unshift(Zl(a,Q,x))):h||(Q=ba(a,d),Q!=null&&_.push(Zl(a,Q,x)))),a=a.return}_.length!==0&&e.push({event:n,listeners:_})}var kT=/\r\n?/g,jT=/\u0000|\uFFFD/g;function by(e){return(typeof e=="string"?e:""+e).replace(kT,`
`).replace(jT,"")}function Ry(e,n){return n=by(n),by(e)===n}function qu(){}function ve(e,n,a,l,h,d){switch(a){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||Wn(e,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&Wn(e,""+l);break;case"className":An(e,"class",l);break;case"tabIndex":An(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":An(e,a,l);break;case"style":fl(e,l,d);break;case"data":if(n!=="object"){An(e,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||a!=="href")){e.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=ss(""+l),e.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(n!=="input"&&ve(e,n,"name",h.name,h,null),ve(e,n,"formEncType",h.formEncType,h,null),ve(e,n,"formMethod",h.formMethod,h,null),ve(e,n,"formTarget",h.formTarget,h,null)):(ve(e,n,"encType",h.encType,h,null),ve(e,n,"method",h.method,h,null),ve(e,n,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=ss(""+l),e.setAttribute(a,l);break;case"onClick":l!=null&&(e.onclick=qu);break;case"onScroll":l!=null&&Zt("scroll",e);break;case"onScrollEnd":l!=null&&Zt("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}a=ss(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""+l):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":l===!0?e.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,l):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(a,l):e.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(a):e.setAttribute(a,l);break;case"popover":Zt("beforetoggle",e),Zt("toggle",e),dn(e,"popover",l);break;case"xlinkActuate":Ut(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Ut(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Ut(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Ut(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Ut(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Ut(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Ut(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Ut(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Ut(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":dn(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=lh.get(a)||a,dn(e,a,l))}}function Bf(e,n,a,l,h,d){switch(a){case"style":fl(e,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"children":typeof l=="string"?Wn(e,l):(typeof l=="number"||typeof l=="bigint")&&Wn(e,""+l);break;case"onScroll":l!=null&&Zt("scroll",e);break;case"onScrollEnd":l!=null&&Zt("scrollend",e);break;case"onClick":l!=null&&(e.onclick=qu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Zn.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),n=a.slice(2,h?a.length-7:void 0),d=e[ct]||null,d=d!=null?d[a]:null,typeof d=="function"&&e.removeEventListener(n,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(n,l,h);break t}a in e?e[a]=l:l===!0?e.setAttribute(a,""):dn(e,a,l)}}}function ln(e,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Zt("error",e),Zt("load",e);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var _=a[d];if(_!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:ve(e,n,d,_,a,null)}}h&&ve(e,n,"srcSet",a.srcSet,a,null),l&&ve(e,n,"src",a.src,a,null);return;case"input":Zt("invalid",e);var T=d=_=h=null,x=null,Q=null;for(l in a)if(a.hasOwnProperty(l)){var tt=a[l];if(tt!=null)switch(l){case"name":h=tt;break;case"type":_=tt;break;case"checked":x=tt;break;case"defaultChecked":Q=tt;break;case"value":d=tt;break;case"defaultValue":T=tt;break;case"children":case"dangerouslySetInnerHTML":if(tt!=null)throw Error(s(137,n));break;default:ve(e,n,l,tt,a,null)}}Ta(e,d,T,x,Q,_,h,!1),as(e);return;case"select":Zt("invalid",e),l=_=d=null;for(h in a)if(a.hasOwnProperty(h)&&(T=a[h],T!=null))switch(h){case"value":d=T;break;case"defaultValue":_=T;break;case"multiple":l=T;default:ve(e,n,h,T,a,null)}n=d,a=_,e.multiple=!!l,n!=null?Wr(e,!!l,n,!1):a!=null&&Wr(e,!!l,a,!0);return;case"textarea":Zt("invalid",e),d=h=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(T=a[_],T!=null))switch(_){case"value":l=T;break;case"defaultValue":h=T;break;case"children":d=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(s(91));break;default:ve(e,n,_,T,a,null)}Sa(e,l,h,d),as(e);return;case"option":for(x in a)if(a.hasOwnProperty(x)&&(l=a[x],l!=null))switch(x){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:ve(e,n,x,l,a,null)}return;case"dialog":Zt("beforetoggle",e),Zt("toggle",e),Zt("cancel",e),Zt("close",e);break;case"iframe":case"object":Zt("load",e);break;case"video":case"audio":for(l=0;l<$l.length;l++)Zt($l[l],e);break;case"image":Zt("error",e),Zt("load",e);break;case"details":Zt("toggle",e);break;case"embed":case"source":case"link":Zt("error",e),Zt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Q in a)if(a.hasOwnProperty(Q)&&(l=a[Q],l!=null))switch(Q){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:ve(e,n,Q,l,a,null)}return;default:if(dl(n)){for(tt in a)a.hasOwnProperty(tt)&&(l=a[tt],l!==void 0&&Bf(e,n,tt,l,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(l=a[T],l!=null&&ve(e,n,T,l,a,null))}function HT(e,n,a,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,_=null,T=null,x=null,Q=null,tt=null;for($ in a){var it=a[$];if(a.hasOwnProperty($)&&it!=null)switch($){case"checked":break;case"value":break;case"defaultValue":x=it;default:l.hasOwnProperty($)||ve(e,n,$,null,l,it)}}for(var K in l){var $=l[K];if(it=a[K],l.hasOwnProperty(K)&&($!=null||it!=null))switch(K){case"type":d=$;break;case"name":h=$;break;case"checked":Q=$;break;case"defaultChecked":tt=$;break;case"value":_=$;break;case"defaultValue":T=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(s(137,n));break;default:$!==it&&ve(e,n,K,$,l,it)}}Ln(e,_,T,x,Q,tt,d,h);return;case"select":$=_=T=K=null;for(d in a)if(x=a[d],a.hasOwnProperty(d)&&x!=null)switch(d){case"value":break;case"multiple":$=x;default:l.hasOwnProperty(d)||ve(e,n,d,null,l,x)}for(h in l)if(d=l[h],x=a[h],l.hasOwnProperty(h)&&(d!=null||x!=null))switch(h){case"value":K=d;break;case"defaultValue":T=d;break;case"multiple":_=d;default:d!==x&&ve(e,n,h,d,l,x)}n=T,a=_,l=$,K!=null?Wr(e,!!a,K,!1):!!l!=!!a&&(n!=null?Wr(e,!!a,n,!0):Wr(e,!!a,a?[]:"",!1));return;case"textarea":$=K=null;for(T in a)if(h=a[T],a.hasOwnProperty(T)&&h!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:ve(e,n,T,null,l,h)}for(_ in l)if(h=l[_],d=a[_],l.hasOwnProperty(_)&&(h!=null||d!=null))switch(_){case"value":K=h;break;case"defaultValue":$=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&ve(e,n,_,h,l,d)}pe(e,K,$);return;case"option":for(var Lt in a)if(K=a[Lt],a.hasOwnProperty(Lt)&&K!=null&&!l.hasOwnProperty(Lt))switch(Lt){case"selected":e.selected=!1;break;default:ve(e,n,Lt,null,l,K)}for(x in l)if(K=l[x],$=a[x],l.hasOwnProperty(x)&&K!==$&&(K!=null||$!=null))switch(x){case"selected":e.selected=K&&typeof K!="function"&&typeof K!="symbol";break;default:ve(e,n,x,K,l,$)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Mt in a)K=a[Mt],a.hasOwnProperty(Mt)&&K!=null&&!l.hasOwnProperty(Mt)&&ve(e,n,Mt,null,l,K);for(Q in l)if(K=l[Q],$=a[Q],l.hasOwnProperty(Q)&&K!==$&&(K!=null||$!=null))switch(Q){case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(s(137,n));break;default:ve(e,n,Q,K,l,$)}return;default:if(dl(n)){for(var _e in a)K=a[_e],a.hasOwnProperty(_e)&&K!==void 0&&!l.hasOwnProperty(_e)&&Bf(e,n,_e,void 0,l,K);for(tt in l)K=l[tt],$=a[tt],!l.hasOwnProperty(tt)||K===$||K===void 0&&$===void 0||Bf(e,n,tt,K,l,$);return}}for(var z in a)K=a[z],a.hasOwnProperty(z)&&K!=null&&!l.hasOwnProperty(z)&&ve(e,n,z,null,l,K);for(it in l)K=l[it],$=a[it],!l.hasOwnProperty(it)||K===$||K==null&&$==null||ve(e,n,it,K,l,$)}var kf=null,jf=null;function Fu(e){return e.nodeType===9?e:e.ownerDocument}function wy(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Cy(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function Hf(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var qf=null;function qT(){var e=window.event;return e&&e.type==="popstate"?e===qf?!1:(qf=e,!0):(qf=null,!1)}var Dy=typeof setTimeout=="function"?setTimeout:void 0,FT=typeof clearTimeout=="function"?clearTimeout:void 0,xy=typeof Promise=="function"?Promise:void 0,GT=typeof queueMicrotask=="function"?queueMicrotask:typeof xy<"u"?function(e){return xy.resolve(null).then(e).catch(QT)}:Dy;function QT(e){setTimeout(function(){throw e})}function Yi(e){return e==="head"}function Iy(e,n){var a=n,l=0,h=0;do{var d=a.nextSibling;if(e.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(0<l&&8>l){a=l;var _=e.ownerDocument;if(a&1&&Jl(_.documentElement),a&2&&Jl(_.body),a&4)for(a=_.head,Jl(a),_=a.firstChild;_;){var T=_.nextSibling,x=_.nodeName;_[It]||x==="SCRIPT"||x==="STYLE"||x==="LINK"&&_.rel.toLowerCase()==="stylesheet"||a.removeChild(_),_=T}}if(h===0){e.removeChild(d),so(n);return}h--}else a==="$"||a==="$?"||a==="$!"?h++:l=a.charCodeAt(0)-48;else l=0;a=d}while(a);so(n)}function Ff(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Ff(a),St(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function YT(e,n,a,l){for(;e.nodeType===1;){var h=a;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[It])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=vr(e.nextSibling),e===null)break}return null}function KT(e,n,a){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=vr(e.nextSibling),e===null))return null;return e}function Gf(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function XT(e,n){var a=e.ownerDocument;if(e.data!=="$?"||a.readyState==="complete")n();else{var l=function(){n(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function vr(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return e}var Qf=null;function My(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"){if(n===0)return e;n--}else a==="/$"&&n++}e=e.previousSibling}return null}function Ny(e,n,a){switch(n=Fu(a),e){case"html":if(e=n.documentElement,!e)throw Error(s(452));return e;case"head":if(e=n.head,!e)throw Error(s(453));return e;case"body":if(e=n.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function Jl(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);St(e)}var ur=new Map,Vy=new Set;function Gu(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var vi=ht.d;ht.d={f:$T,r:ZT,D:JT,C:WT,L:tS,m:eS,X:rS,S:nS,M:iS};function $T(){var e=vi.f(),n=Uu();return e||n}function ZT(e){var n=Xt(e);n!==null&&n.tag===5&&n.type==="form"?Wg(n):vi.r(e)}var ks=typeof document>"u"?null:document;function Oy(e,n,a){var l=ks;if(l&&typeof n=="string"&&n){var h=Pe(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),Vy.has(h)||(Vy.add(h),e={rel:e,crossOrigin:a,href:n},l.querySelector(h)===null&&(n=l.createElement("link"),ln(n,"link",e),te(n),l.head.appendChild(n)))}}function JT(e){vi.D(e),Oy("dns-prefetch",e,null)}function WT(e,n){vi.C(e,n),Oy("preconnect",e,n)}function tS(e,n,a){vi.L(e,n,a);var l=ks;if(l&&e&&n){var h='link[rel="preload"][as="'+Pe(n)+'"]';n==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+Pe(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+Pe(a.imageSizes)+'"]')):h+='[href="'+Pe(e)+'"]';var d=h;switch(n){case"style":d=js(e);break;case"script":d=Hs(e)}ur.has(d)||(e=E({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:e,as:n},a),ur.set(d,e),l.querySelector(h)!==null||n==="style"&&l.querySelector(Wl(d))||n==="script"&&l.querySelector(to(d))||(n=l.createElement("link"),ln(n,"link",e),te(n),l.head.appendChild(n)))}}function eS(e,n){vi.m(e,n);var a=ks;if(a&&e){var l=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+Pe(l)+'"][href="'+Pe(e)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Hs(e)}if(!ur.has(d)&&(e=E({rel:"modulepreload",href:e},n),ur.set(d,e),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(to(d)))return}l=a.createElement("link"),ln(l,"link",e),te(l),a.head.appendChild(l)}}}function nS(e,n,a){vi.S(e,n,a);var l=ks;if(l&&e){var h=se(l).hoistableStyles,d=js(e);n=n||"default";var _=h.get(d);if(!_){var T={loading:0,preload:null};if(_=l.querySelector(Wl(d)))T.loading=5;else{e=E({rel:"stylesheet",href:e,"data-precedence":n},a),(a=ur.get(d))&&Yf(e,a);var x=_=l.createElement("link");te(x),ln(x,"link",e),x._p=new Promise(function(Q,tt){x.onload=Q,x.onerror=tt}),x.addEventListener("load",function(){T.loading|=1}),x.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Qu(_,n,l)}_={type:"stylesheet",instance:_,count:1,state:T},h.set(d,_)}}}function rS(e,n){vi.X(e,n);var a=ks;if(a&&e){var l=se(a).hoistableScripts,h=Hs(e),d=l.get(h);d||(d=a.querySelector(to(h)),d||(e=E({src:e,async:!0},n),(n=ur.get(h))&&Kf(e,n),d=a.createElement("script"),te(d),ln(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function iS(e,n){vi.M(e,n);var a=ks;if(a&&e){var l=se(a).hoistableScripts,h=Hs(e),d=l.get(h);d||(d=a.querySelector(to(h)),d||(e=E({src:e,async:!0,type:"module"},n),(n=ur.get(h))&&Kf(e,n),d=a.createElement("script"),te(d),ln(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function Ly(e,n,a,l){var h=(h=Ct.current)?Gu(h):null;if(!h)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=js(a.href),a=se(h).hoistableStyles,l=a.get(n),l||(l={type:"style",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=js(a.href);var d=se(h).hoistableStyles,_=d.get(e);if(_||(h=h.ownerDocument||h,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,_),(d=h.querySelector(Wl(e)))&&!d._p&&(_.instance=d,_.state.loading=5),ur.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},ur.set(e,a),d||aS(h,e,a,_.state))),n&&l===null)throw Error(s(528,""));return _}if(n&&l!==null)throw Error(s(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Hs(a),a=se(h).hoistableScripts,l=a.get(n),l||(l={type:"script",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function js(e){return'href="'+Pe(e)+'"'}function Wl(e){return'link[rel="stylesheet"]['+e+"]"}function Uy(e){return E({},e,{"data-precedence":e.precedence,precedence:null})}function aS(e,n,a,l){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=e.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),ln(n,"link",a),te(n),e.head.appendChild(n))}function Hs(e){return'[src="'+Pe(e)+'"]'}function to(e){return"script[async]"+e}function Py(e,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var l=e.querySelector('style[data-href~="'+Pe(a.href)+'"]');if(l)return n.instance=l,te(l),l;var h=E({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),te(l),ln(l,"style",h),Qu(l,a.precedence,e),n.instance=l;case"stylesheet":h=js(a.href);var d=e.querySelector(Wl(h));if(d)return n.state.loading|=4,n.instance=d,te(d),d;l=Uy(a),(h=ur.get(h))&&Yf(l,h),d=(e.ownerDocument||e).createElement("link"),te(d);var _=d;return _._p=new Promise(function(T,x){_.onload=T,_.onerror=x}),ln(d,"link",l),n.state.loading|=4,Qu(d,a.precedence,e),n.instance=d;case"script":return d=Hs(a.src),(h=e.querySelector(to(d)))?(n.instance=h,te(h),h):(l=a,(h=ur.get(d))&&(l=E({},a),Kf(l,h)),e=e.ownerDocument||e,h=e.createElement("script"),te(h),ln(h,"link",l),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,Qu(l,a.precedence,e));return n.instance}function Qu(e,n,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,_=0;_<l.length;_++){var T=l[_];if(T.dataset.precedence===n)d=T;else if(d!==h)break}d?d.parentNode.insertBefore(e,d.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(e,n.firstChild))}function Yf(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function Kf(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var Yu=null;function zy(e,n,a){if(Yu===null){var l=new Map,h=Yu=new Map;h.set(a,l)}else h=Yu,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(e))return l;for(l.set(e,null),a=a.getElementsByTagName(e),h=0;h<a.length;h++){var d=a[h];if(!(d[It]||d[rt]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(n)||"";_=e+_;var T=l.get(_);T?T.push(d):l.set(_,[d])}}return l}function By(e,n,a){e=e.ownerDocument||e,e.head.insertBefore(a,n==="title"?e.querySelector("head > title"):null)}function sS(e,n,a){if(a===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function ky(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var eo=null;function lS(){}function oS(e,n,a){if(eo===null)throw Error(s(475));var l=eo;if(n.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var h=js(a.href),d=e.querySelector(Wl(h));if(d){e=d._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(l.count++,l=Ku.bind(l),e.then(l,l)),n.state.loading|=4,n.instance=d,te(d);return}d=e.ownerDocument||e,a=Uy(a),(h=ur.get(h))&&Yf(a,h),d=d.createElement("link"),te(d);var _=d;_._p=new Promise(function(T,x){_.onload=T,_.onerror=x}),ln(d,"link",a),n.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(n,e),(e=n.state.preload)&&(n.state.loading&3)===0&&(l.count++,n=Ku.bind(l),e.addEventListener("load",n),e.addEventListener("error",n))}}function uS(){if(eo===null)throw Error(s(475));var e=eo;return e.stylesheets&&e.count===0&&Xf(e,e.stylesheets),0<e.count?function(n){var a=setTimeout(function(){if(e.stylesheets&&Xf(e,e.stylesheets),e.unsuspend){var l=e.unsuspend;e.unsuspend=null,l()}},6e4);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(a)}}:null}function Ku(){if(this.count--,this.count===0){if(this.stylesheets)Xf(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Xu=null;function Xf(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Xu=new Map,n.forEach(cS,e),Xu=null,Ku.call(e))}function cS(e,n){if(!(n.state.loading&4)){var a=Xu.get(e);if(a)var l=a.get(null);else{a=new Map,Xu.set(e,a);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var _=h[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}h=n.instance,_=h.getAttribute("data-precedence"),d=a.get(_)||l,d===l&&a.set(null,h),a.set(_,h),this.count++,l=Ku.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var no={$$typeof:lt,Provider:null,Consumer:null,_currentValue:yt,_currentValue2:yt,_threadCount:0};function hS(e,n,a,l,h,d,_,T){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=$n(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=$n(0),this.hiddenUpdates=$n(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function jy(e,n,a,l,h,d,_,T,x,Q,tt,it){return e=new hS(e,n,a,_,T,x,Q,it),n=1,d===!0&&(n|=24),d=Pn(3,null,null,n),e.current=d,d.stateNode=e,n=xh(),n.refCount++,e.pooledCache=n,n.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:n},Vh(d),e}function Hy(e){return e?(e=_s,e):_s}function qy(e,n,a,l,h,d){h=Hy(h),l.context===null?l.context=h:l.pendingContext=h,l=Oi(n),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Li(e,l,n),a!==null&&(Hn(a,e,n),Nl(a,e,n))}function Fy(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<n?a:n}}function $f(e,n){Fy(e,n),(e=e.alternate)&&Fy(e,n)}function Gy(e){if(e.tag===13){var n=vs(e,67108864);n!==null&&Hn(n,e,67108864),$f(e,67108864)}}var $u=!0;function fS(e,n,a,l){var h=Y.T;Y.T=null;var d=ht.p;try{ht.p=2,Zf(e,n,a,l)}finally{ht.p=d,Y.T=h}}function dS(e,n,a,l){var h=Y.T;Y.T=null;var d=ht.p;try{ht.p=8,Zf(e,n,a,l)}finally{ht.p=d,Y.T=h}}function Zf(e,n,a,l){if($u){var h=Jf(l);if(h===null)zf(e,n,l,Zu,a),Yy(e,l);else if(gS(h,e,n,a,l))l.stopPropagation();else if(Yy(e,l),n&4&&-1<mS.indexOf(e)){for(;h!==null;){var d=Xt(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=Nn(d.pendingLanes);if(_!==0){var T=d;for(T.pendingLanes|=2,T.entangledLanes|=2;_;){var x=1<<31-Le(_);T.entanglements[1]|=x,_&=~x}Br(d),(de&6)===0&&(Ou=En()+500,Xl(0))}}break;case 13:T=vs(d,2),T!==null&&Hn(T,d,2),Uu(),$f(d,2)}if(d=Jf(l),d===null&&zf(e,n,l,Zu,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else zf(e,n,l,null,a)}}function Jf(e){return e=tr(e),Wf(e)}var Zu=null;function Wf(e){if(Zu=null,e=Nt(e),e!==null){var n=u(e);if(n===null)e=null;else{var a=n.tag;if(a===13){if(e=f(n),e!==null)return e;e=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return Zu=e,null}function Qy(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ul()){case va:return 2;case Ai:return 8;case Xr:case dr:return 32;case Yn:return 268435456;default:return 32}default:return 32}}var td=!1,Ki=null,Xi=null,$i=null,ro=new Map,io=new Map,Zi=[],mS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Yy(e,n){switch(e){case"focusin":case"focusout":Ki=null;break;case"dragenter":case"dragleave":Xi=null;break;case"mouseover":case"mouseout":$i=null;break;case"pointerover":case"pointerout":ro.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":io.delete(n.pointerId)}}function ao(e,n,a,l,h,d){return e===null||e.nativeEvent!==d?(e={blockedOn:n,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},n!==null&&(n=Xt(n),n!==null&&Gy(n)),e):(e.eventSystemFlags|=l,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function gS(e,n,a,l,h){switch(n){case"focusin":return Ki=ao(Ki,e,n,a,l,h),!0;case"dragenter":return Xi=ao(Xi,e,n,a,l,h),!0;case"mouseover":return $i=ao($i,e,n,a,l,h),!0;case"pointerover":var d=h.pointerId;return ro.set(d,ao(ro.get(d)||null,e,n,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,io.set(d,ao(io.get(d)||null,e,n,a,l,h)),!0}return!1}function Ky(e){var n=Nt(e.target);if(n!==null){var a=u(n);if(a!==null){if(n=a.tag,n===13){if(n=f(a),n!==null){e.blockedOn=n,B(e.priority,function(){if(a.tag===13){var l=jn();l=Rr(l);var h=vs(a,l);h!==null&&Hn(h,a,l),$f(a,l)}});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ju(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var a=Jf(e.nativeEvent);if(a===null){a=e.nativeEvent;var l=new a.constructor(a.type,a);ti=l,a.target.dispatchEvent(l),ti=null}else return n=Xt(a),n!==null&&Gy(n),e.blockedOn=a,!1;n.shift()}return!0}function Xy(e,n,a){Ju(e)&&a.delete(n)}function pS(){td=!1,Ki!==null&&Ju(Ki)&&(Ki=null),Xi!==null&&Ju(Xi)&&(Xi=null),$i!==null&&Ju($i)&&($i=null),ro.forEach(Xy),io.forEach(Xy)}function Wu(e,n){e.blockedOn===n&&(e.blockedOn=null,td||(td=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,pS)))}var tc=null;function $y(e){tc!==e&&(tc=e,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){tc===e&&(tc=null);for(var n=0;n<e.length;n+=3){var a=e[n],l=e[n+1],h=e[n+2];if(typeof l!="function"){if(Wf(l||a)===null)continue;break}var d=Xt(a);d!==null&&(e.splice(n,3),n-=3,Jh(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function so(e){function n(x){return Wu(x,e)}Ki!==null&&Wu(Ki,e),Xi!==null&&Wu(Xi,e),$i!==null&&Wu($i,e),ro.forEach(n),io.forEach(n);for(var a=0;a<Zi.length;a++){var l=Zi[a];l.blockedOn===e&&(l.blockedOn=null)}for(;0<Zi.length&&(a=Zi[0],a.blockedOn===null);)Ky(a),a.blockedOn===null&&Zi.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],_=h[ct]||null;if(typeof d=="function")_||$y(a);else if(_){var T=null;if(d&&d.hasAttribute("formAction")){if(h=d,_=d[ct]||null)T=_.formAction;else if(Wf(h)!==null)continue}else T=_.action;typeof T=="function"?a[l+1]=T:(a.splice(l,3),l-=3),$y(a)}}}function ed(e){this._internalRoot=e}ec.prototype.render=ed.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(s(409));var a=n.current,l=jn();qy(a,l,e,n,null,null)},ec.prototype.unmount=ed.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;qy(e.current,2,null,e,null,null),Uu(),n[vt]=null}};function ec(e){this._internalRoot=e}ec.prototype.unstable_scheduleHydration=function(e){if(e){var n=M();e={blockedOn:null,target:e,priority:n};for(var a=0;a<Zi.length&&n!==0&&n<Zi[a].priority;a++);Zi.splice(a,0,e),a===0&&Ky(e)}};var Zy=t.version;if(Zy!=="19.1.0")throw Error(s(527,Zy,"19.1.0"));ht.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=g(n),e=e!==null?y(e):null,e=e===null?null:e.stateNode,e};var yS={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:Y,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var nc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!nc.isDisabled&&nc.supportsFiber)try{oe=nc.inject(yS),qt=nc}catch{}}return oo.createRoot=function(e,n){if(!o(e))throw Error(s(299));var a=!1,l="",h=dp,d=mp,_=gp,T=null;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(d=n.onCaughtError),n.onRecoverableError!==void 0&&(_=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(T=n.unstable_transitionCallbacks)),n=jy(e,1,!1,null,null,a,l,h,d,_,T,null),e[vt]=n.current,Pf(e),new ed(n)},oo.hydrateRoot=function(e,n,a){if(!o(e))throw Error(s(299));var l=!1,h="",d=dp,_=mp,T=gp,x=null,Q=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(x=a.unstable_transitionCallbacks),a.formState!==void 0&&(Q=a.formState)),n=jy(e,1,!0,n,a??null,l,h,d,_,T,x,Q),n.context=Hy(null),a=n.current,l=jn(),l=Rr(l),h=Oi(l),h.callback=null,Li(a,h,l),a=l,n.current.lanes=a,mr(n,a),Br(n),e[vt]=n.current,Pf(e),new ec(n)},oo.version="19.1.0",oo}var lv;function wS(){if(lv)return id.exports;lv=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),id.exports=RS(),id.exports}var CS=wS(),uo={},ov;function DS(){if(ov)return uo;ov=1,Object.defineProperty(uo,"__esModule",{value:!0}),uo.parse=f,uo.serialize=y;const i=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,t=/^[\u0021-\u003A\u003C-\u007E]*$/,r=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,u=(()=>{const A=function(){};return A.prototype=Object.create(null),A})();function f(A,D){const O=new u,J=A.length;if(J<2)return O;const H=(D==null?void 0:D.decode)||E;let k=0;do{const W=A.indexOf("=",k);if(W===-1)break;const lt=A.indexOf(";",k),gt=lt===-1?J:lt;if(W>gt){k=A.lastIndexOf(";",W-1)+1;continue}const mt=m(A,k,W),F=g(A,W,mt),N=A.slice(mt,F);if(O[N]===void 0){let R=m(A,W+1,gt),w=g(A,gt,R);const V=H(A.slice(R,w));O[N]=V}k=gt+1}while(k<J);return O}function m(A,D,O){do{const J=A.charCodeAt(D);if(J!==32&&J!==9)return D}while(++D<O);return O}function g(A,D,O){for(;D>O;){const J=A.charCodeAt(--D);if(J!==32&&J!==9)return D+1}return O}function y(A,D,O){const J=(O==null?void 0:O.encode)||encodeURIComponent;if(!i.test(A))throw new TypeError(`argument name is invalid: ${A}`);const H=J(D);if(!t.test(H))throw new TypeError(`argument val is invalid: ${D}`);let k=A+"="+H;if(!O)return k;if(O.maxAge!==void 0){if(!Number.isInteger(O.maxAge))throw new TypeError(`option maxAge is invalid: ${O.maxAge}`);k+="; Max-Age="+O.maxAge}if(O.domain){if(!r.test(O.domain))throw new TypeError(`option domain is invalid: ${O.domain}`);k+="; Domain="+O.domain}if(O.path){if(!s.test(O.path))throw new TypeError(`option path is invalid: ${O.path}`);k+="; Path="+O.path}if(O.expires){if(!S(O.expires)||!Number.isFinite(O.expires.valueOf()))throw new TypeError(`option expires is invalid: ${O.expires}`);k+="; Expires="+O.expires.toUTCString()}if(O.httpOnly&&(k+="; HttpOnly"),O.secure&&(k+="; Secure"),O.partitioned&&(k+="; Partitioned"),O.priority)switch(typeof O.priority=="string"?O.priority.toLowerCase():void 0){case"low":k+="; Priority=Low";break;case"medium":k+="; Priority=Medium";break;case"high":k+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${O.priority}`)}if(O.sameSite)switch(typeof O.sameSite=="string"?O.sameSite.toLowerCase():O.sameSite){case!0:case"strict":k+="; SameSite=Strict";break;case"lax":k+="; SameSite=Lax";break;case"none":k+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${O.sameSite}`)}return k}function E(A){if(A.indexOf("%")===-1)return A;try{return decodeURIComponent(A)}catch{return A}}function S(A){return o.call(A)==="[object Date]"}return uo}DS();/**
 * react-router v7.5.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var B_=i=>{throw TypeError(i)},xS=(i,t,r)=>t.has(i)||B_("Cannot "+r),od=(i,t,r)=>(xS(i,t,"read from private field"),r?r.call(i):t.get(i)),IS=(i,t,r)=>t.has(i)?B_("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(i):t.set(i,r),uv="popstate";function MS(i={}){function t(o,u){let{pathname:f="/",search:m="",hash:g=""}=Si(o.location.hash.substring(1));return!f.startsWith("/")&&!f.startsWith(".")&&(f="/"+f),bo("",{pathname:f,search:m,hash:g},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function r(o,u){let f=o.document.querySelector("base"),m="";if(f&&f.getAttribute("href")){let g=o.location.href,y=g.indexOf("#");m=y===-1?g:g.slice(0,y)}return m+"#"+(typeof u=="string"?u:la(u))}function s(o,u){Ve(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(u)})`)}return VS(t,r,s,i)}function Jt(i,t){if(i===!1||i===null||typeof i>"u")throw new Error(t)}function Ve(i,t){if(!i){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function NS(){return Math.random().toString(36).substring(2,10)}function cv(i,t){return{usr:i.state,key:i.key,idx:t}}function bo(i,t,r=null,s){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof t=="string"?Si(t):t,state:r,key:t&&t.key||s||NS()}}function la({pathname:i="/",search:t="",hash:r=""}){return t&&t!=="?"&&(i+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(i+=r.charAt(0)==="#"?r:"#"+r),i}function Si(i){let t={};if(i){let r=i.indexOf("#");r>=0&&(t.hash=i.substring(r),i=i.substring(0,r));let s=i.indexOf("?");s>=0&&(t.search=i.substring(s),i=i.substring(0,s)),i&&(t.pathname=i)}return t}function VS(i,t,r,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,f=o.history,m="POP",g=null,y=E();y==null&&(y=0,f.replaceState({...f.state,idx:y},""));function E(){return(f.state||{idx:null}).idx}function S(){m="POP";let H=E(),k=H==null?null:H-y;y=H,g&&g({action:m,location:J.location,delta:k})}function A(H,k){m="PUSH";let W=bo(J.location,H,k);r&&r(W,H),y=E()+1;let lt=cv(W,y),gt=J.createHref(W);try{f.pushState(lt,"",gt)}catch(mt){if(mt instanceof DOMException&&mt.name==="DataCloneError")throw mt;o.location.assign(gt)}u&&g&&g({action:m,location:J.location,delta:1})}function D(H,k){m="REPLACE";let W=bo(J.location,H,k);r&&r(W,H),y=E();let lt=cv(W,y),gt=J.createHref(W);f.replaceState(lt,"",gt),u&&g&&g({action:m,location:J.location,delta:0})}function O(H){let k=o.location.origin!=="null"?o.location.origin:o.location.href,W=typeof H=="string"?H:la(H);return W=W.replace(/ $/,"%20"),Jt(k,`No window.location.(origin|href) available to create URL for href: ${W}`),new URL(W,k)}let J={get action(){return m},get location(){return i(o,f)},listen(H){if(g)throw new Error("A history only accepts one active listener");return o.addEventListener(uv,S),g=H,()=>{o.removeEventListener(uv,S),g=null}},createHref(H){return t(o,H)},createURL:O,encodeLocation(H){let k=O(H);return{pathname:k.pathname,search:k.search,hash:k.hash}},push:A,replace:D,go(H){return f.go(H)}};return J}var mo,hv=class{constructor(i){if(IS(this,mo,new Map),i)for(let[t,r]of i)this.set(t,r)}get(i){if(od(this,mo).has(i))return od(this,mo).get(i);if(i.defaultValue!==void 0)return i.defaultValue;throw new Error("No value found for context")}set(i,t){od(this,mo).set(i,t)}};mo=new WeakMap;var OS=new Set(["lazy","caseSensitive","path","id","index","children"]);function LS(i){return OS.has(i)}var US=new Set(["lazy","caseSensitive","path","id","index","unstable_middleware","children"]);function PS(i){return US.has(i)}function zS(i){return i.index===!0}function Ec(i,t,r=[],s={}){return i.map((o,u)=>{let f=[...r,String(u)],m=typeof o.id=="string"?o.id:f.join("-");if(Jt(o.index!==!0||!o.children,"Cannot specify children on an index route"),Jt(!s[m],`Found a route id collision on id "${m}".  Route id's must be globally unique within Data Router usages`),zS(o)){let g={...o,...t(o),id:m};return s[m]=g,g}else{let g={...o,...t(o),id:m,children:void 0};return s[m]=g,o.children&&(g.children=Ec(o.children,t,f,s)),g}})}function ta(i,t,r="/"){return hc(i,t,r,!1)}function hc(i,t,r,s){let o=typeof t=="string"?Si(t):t,u=fr(o.pathname||"/",r);if(u==null)return null;let f=k_(i);kS(f);let m=null;for(let g=0;m==null&&g<f.length;++g){let y=ZS(u);m=XS(f[g],y,s)}return m}function BS(i,t){let{route:r,pathname:s,params:o}=i;return{id:r.id,pathname:s,params:o,data:t[r.id],handle:r.handle}}function k_(i,t=[],r=[],s=""){let o=(u,f,m)=>{let g={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:f,route:u};g.relativePath.startsWith("/")&&(Jt(g.relativePath.startsWith(s),`Absolute route path "${g.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(s.length));let y=jr([s,g.relativePath]),E=r.concat(g);u.children&&u.children.length>0&&(Jt(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),k_(u.children,t,E,y)),!(u.path==null&&!u.index)&&t.push({path:y,score:YS(y,u.index),routesMeta:E})};return i.forEach((u,f)=>{var m;if(u.path===""||!((m=u.path)!=null&&m.includes("?")))o(u,f);else for(let g of j_(u.path))o(u,f,g)}),t}function j_(i){let t=i.split("/");if(t.length===0)return[];let[r,...s]=t,o=r.endsWith("?"),u=r.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let f=j_(s.join("/")),m=[];return m.push(...f.map(g=>g===""?u:[u,g].join("/"))),o&&m.push(...f),m.map(g=>i.startsWith("/")&&g===""?"/":g)}function kS(i){i.sort((t,r)=>t.score!==r.score?r.score-t.score:KS(t.routesMeta.map(s=>s.childrenIndex),r.routesMeta.map(s=>s.childrenIndex)))}var jS=/^:[\w-]+$/,HS=3,qS=2,FS=1,GS=10,QS=-2,fv=i=>i==="*";function YS(i,t){let r=i.split("/"),s=r.length;return r.some(fv)&&(s+=QS),t&&(s+=qS),r.filter(o=>!fv(o)).reduce((o,u)=>o+(jS.test(u)?HS:u===""?FS:GS),s)}function KS(i,t){return i.length===t.length&&i.slice(0,-1).every((s,o)=>s===t[o])?i[i.length-1]-t[t.length-1]:0}function XS(i,t,r=!1){let{routesMeta:s}=i,o={},u="/",f=[];for(let m=0;m<s.length;++m){let g=s[m],y=m===s.length-1,E=u==="/"?t:t.slice(u.length)||"/",S=Tc({path:g.relativePath,caseSensitive:g.caseSensitive,end:y},E),A=g.route;if(!S&&y&&r&&!s[s.length-1].route.index&&(S=Tc({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},E)),!S)return null;Object.assign(o,S.params),f.push({params:o,pathname:jr([u,S.pathname]),pathnameBase:tA(jr([u,S.pathnameBase])),route:A}),S.pathnameBase!=="/"&&(u=jr([u,S.pathnameBase]))}return f}function Tc(i,t){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[r,s]=$S(i.path,i.caseSensitive,i.end),o=t.match(r);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((y,{paramName:E,isOptional:S},A)=>{if(E==="*"){let O=m[A]||"";f=u.slice(0,u.length-O.length).replace(/(.)\/+$/,"$1")}const D=m[A];return S&&!D?y[E]=void 0:y[E]=(D||"").replace(/%2F/g,"/"),y},{}),pathname:u,pathnameBase:f,pattern:i}}function $S(i,t=!1,r=!0){Ve(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let s=[],o="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,g)=>(s.push({paramName:m,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)"));return i.endsWith("*")?(s.push({paramName:"*"}),o+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?o+="\\/*$":i!==""&&i!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),s]}function ZS(i){try{return i.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Ve(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),i}}function fr(i,t){if(t==="/")return i;if(!i.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,s=i.charAt(r);return s&&s!=="/"?null:i.slice(r)||"/"}function JS(i,t="/"){let{pathname:r,search:s="",hash:o=""}=typeof i=="string"?Si(i):i;return{pathname:r?r.startsWith("/")?r:WS(r,t):t,search:eA(s),hash:nA(o)}}function WS(i,t){let r=t.replace(/\/+$/,"").split("/");return i.split("/").forEach(o=>{o===".."?r.length>1&&r.pop():o!=="."&&r.push(o)}),r.length>1?r.join("/"):"/"}function ud(i,t,r,s){return`Cannot include a '${i}' character in a manually specified \`to.${t}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function H_(i){return i.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function $d(i){let t=H_(i);return t.map((r,s)=>s===t.length-1?r.pathname:r.pathnameBase)}function Zd(i,t,r,s=!1){let o;typeof i=="string"?o=Si(i):(o={...i},Jt(!o.pathname||!o.pathname.includes("?"),ud("?","pathname","search",o)),Jt(!o.pathname||!o.pathname.includes("#"),ud("#","pathname","hash",o)),Jt(!o.search||!o.search.includes("#"),ud("#","search","hash",o)));let u=i===""||o.pathname==="",f=u?"/":o.pathname,m;if(f==null)m=r;else{let S=t.length-1;if(!s&&f.startsWith("..")){let A=f.split("/");for(;A[0]==="..";)A.shift(),S-=1;o.pathname=A.join("/")}m=S>=0?t[S]:"/"}let g=JS(o,m),y=f&&f!=="/"&&f.endsWith("/"),E=(u||f===".")&&r.endsWith("/");return!g.pathname.endsWith("/")&&(y||E)&&(g.pathname+="/"),g}var jr=i=>i.join("/").replace(/\/\/+/g,"/"),tA=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),eA=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,nA=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i,Sc=class{constructor(i,t,r,s=!1){this.status=i,this.statusText=t||"",this.internal=s,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}};function Ro(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}var q_=["POST","PUT","PATCH","DELETE"],rA=new Set(q_),iA=["GET",...q_],aA=new Set(iA),sA=new Set([301,302,303,307,308]),lA=new Set([307,308]),cd={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},oA={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},co={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},Jd=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,uA=i=>({hasErrorBoundary:!!i.hasErrorBoundary}),F_="remix-router-transitions",G_=Symbol("ResetLoaderData");function cA(i){const t=i.window?i.window:typeof window<"u"?window:void 0,r=typeof t<"u"&&typeof t.document<"u"&&typeof t.document.createElement<"u";Jt(i.routes.length>0,"You must provide a non-empty routes array to createRouter");let s=i.hydrationRouteProperties||[],o=i.mapRouteProperties||uA,u={},f=Ec(i.routes,o,void 0,u),m,g=i.basename||"/",y=i.dataStrategy||gA,E={unstable_middleware:!1,...i.future},S=null,A=new Set,D=null,O=null,J=null,H=i.hydrationData!=null,k=ta(f,i.history.location,g),W=!1,lt=null;if(k==null&&!i.patchRoutesOnNavigation){let M=cr(404,{pathname:i.history.location.pathname}),{matches:B,route:G}=bv(f);k=B,lt={[G.id]:M}}k&&!i.hydrationData&&Tn(k,f,i.history.location.pathname).active&&(k=null);let gt;if(k)if(k.some(M=>M.route.lazy))gt=!1;else if(!k.some(M=>M.route.loader))gt=!0;else{let M=i.hydrationData?i.hydrationData.loaderData:null,B=i.hydrationData?i.hydrationData.errors:null;if(B){let G=k.findIndex(rt=>B[rt.route.id]!==void 0);gt=k.slice(0,G+1).every(rt=>!Sd(rt.route,M,B))}else gt=k.every(G=>!Sd(G.route,M,B))}else{gt=!1,k=[];let M=Tn(null,f,i.history.location.pathname);M.active&&M.matches&&(W=!0,k=M.matches)}let mt,F={historyAction:i.history.action,location:i.history.location,matches:k,initialized:gt,navigation:cd,restoreScrollPosition:i.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:i.hydrationData&&i.hydrationData.loaderData||{},actionData:i.hydrationData&&i.hydrationData.actionData||null,errors:i.hydrationData&&i.hydrationData.errors||lt,fetchers:new Map,blockers:new Map},N="POP",R=!1,w,V=!1,U=new Map,P=null,C=!1,jt=!1,Kt=new Set,Y=new Map,ht=0,yt=-1,Pt=new Map,I=new Set,nt=new Map,dt=new Map,ot=new Set,At=new Map,kt,Ct=null;function Oe(){if(S=i.history.listen(({action:M,location:B,delta:G})=>{if(kt){kt(),kt=void 0;return}Ve(At.size===0||G!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let rt=wi({currentLocation:F.location,nextLocation:B,historyAction:M});if(rt&&G!=null){let ct=new Promise(vt=>{kt=vt});i.history.go(G*-1),Xn(rt,{state:"blocked",location:B,proceed(){Xn(rt,{state:"proceeding",proceed:void 0,reset:void 0,location:B}),ct.then(()=>i.history.go(G))},reset(){let vt=new Map(F.blockers);vt.set(rt,co),Ae({blockers:vt})}});return}return _n(M,B)}),r){wA(t,U);let M=()=>CA(t,U);t.addEventListener("pagehide",M),P=()=>t.removeEventListener("pagehide",M)}return F.initialized||_n("POP",F.location,{initialHydration:!0}),mt}function ge(){S&&S(),P&&P(),A.clear(),w&&w.abort(),F.fetchers.forEach((M,B)=>Le(B)),F.blockers.forEach((M,B)=>$r(B))}function Qn(M){return A.add(M),()=>A.delete(M)}function Ae(M,B={}){F={...F,...M};let G=[],rt=[];F.fetchers.forEach((ct,vt)=>{ct.state==="idle"&&(ot.has(vt)?G.push(vt):rt.push(vt))}),ot.forEach(ct=>{!F.fetchers.has(ct)&&!Y.has(ct)&&G.push(ct)}),[...A].forEach(ct=>ct(F,{deletedFetchers:G,viewTransitionOpts:B.viewTransitionOpts,flushSync:B.flushSync===!0})),G.forEach(ct=>Le(ct)),rt.forEach(ct=>F.fetchers.delete(ct))}function hn(M,B,{flushSync:G}={}){var bt,It;let rt=F.actionData!=null&&F.navigation.formMethod!=null&&Fn(F.navigation.formMethod)&&F.navigation.state==="loading"&&((bt=M.state)==null?void 0:bt._isRedirect)!==!0,ct;B.actionData?Object.keys(B.actionData).length>0?ct=B.actionData:ct=null:rt?ct=F.actionData:ct=null;let vt=B.loaderData?Sv(F.loaderData,B.loaderData,B.matches||[],B.errors):F.loaderData,Dt=F.blockers;Dt.size>0&&(Dt=new Map(Dt),Dt.forEach((St,Nt)=>Dt.set(Nt,co)));let _t=R===!0||F.navigation.formMethod!=null&&Fn(F.navigation.formMethod)&&((It=M.state)==null?void 0:It._isRedirect)!==!0;m&&(f=m,m=void 0),C||N==="POP"||(N==="PUSH"?i.history.push(M,M.state):N==="REPLACE"&&i.history.replace(M,M.state));let Tt;if(N==="POP"){let St=U.get(F.location.pathname);St&&St.has(M.pathname)?Tt={currentLocation:F.location,nextLocation:M}:U.has(M.pathname)&&(Tt={currentLocation:M,nextLocation:F.location})}else if(V){let St=U.get(F.location.pathname);St?St.add(M.pathname):(St=new Set([M.pathname]),U.set(F.location.pathname,St)),Tt={currentLocation:F.location,nextLocation:M}}Ae({...B,actionData:ct,loaderData:vt,historyAction:N,location:M,initialized:!0,navigation:cd,revalidation:"idle",restoreScrollPosition:Ci(M,B.matches||F.matches),preventScrollReset:_t,blockers:Dt},{viewTransitionOpts:Tt,flushSync:G===!0}),N="POP",R=!1,V=!1,C=!1,jt=!1,Ct==null||Ct.resolve(),Ct=null}async function Er(M,B){if(typeof M=="number"){i.history.go(M);return}let G=Td(F.location,F.matches,g,M,B==null?void 0:B.fromRouteId,B==null?void 0:B.relative),{path:rt,submission:ct,error:vt}=dv(!1,G,B),Dt=F.location,_t=bo(F.location,rt,B&&B.state);_t={..._t,...i.history.encodeLocation(_t)};let Tt=B&&B.replace!=null?B.replace:void 0,bt="PUSH";Tt===!0?bt="REPLACE":Tt===!1||ct!=null&&Fn(ct.formMethod)&&ct.formAction===F.location.pathname+F.location.search&&(bt="REPLACE");let It=B&&"preventScrollReset"in B?B.preventScrollReset===!0:void 0,St=(B&&B.flushSync)===!0,Nt=wi({currentLocation:Dt,nextLocation:_t,historyAction:bt});if(Nt){Xn(Nt,{state:"blocked",location:_t,proceed(){Xn(Nt,{state:"proceeding",proceed:void 0,reset:void 0,location:_t}),Er(M,B)},reset(){let Xt=new Map(F.blockers);Xt.set(Nt,co),Ae({blockers:Xt})}});return}await _n(bt,_t,{submission:ct,pendingError:vt,preventScrollReset:It,replace:B&&B.replace,enableViewTransition:B&&B.viewTransition,flushSync:St})}function Kr(){Ct||(Ct=DA()),Ri(),Ae({revalidation:"loading"});let M=Ct.promise;return F.navigation.state==="submitting"?M:F.navigation.state==="idle"?(_n(F.historyAction,F.location,{startUninterruptedRevalidation:!0}),M):(_n(N||F.historyAction,F.navigation.location,{overrideNavigation:F.navigation,enableViewTransition:V===!0}),M)}async function _n(M,B,G){w&&w.abort(),w=null,N=M,C=(G&&G.startUninterruptedRevalidation)===!0,mr(F.location,F.matches),R=(G&&G.preventScrollReset)===!0,V=(G&&G.enableViewTransition)===!0;let rt=m||f,ct=G&&G.overrideNavigation,vt=G!=null&&G.initialHydration&&F.matches&&F.matches.length>0&&!W?F.matches:ta(rt,B,g),Dt=(G&&G.flushSync)===!0;if(vt&&F.initialized&&!jt&&TA(F.location,B)&&!(G&&G.submission&&Fn(G.submission.formMethod))){hn(B,{matches:vt},{flushSync:Dt});return}let _t=Tn(vt,rt,B.pathname);if(_t.active&&_t.matches&&(vt=_t.matches),!vt){let{error:se,notFoundMatches:te,route:Qt}=Zr(B.pathname);hn(B,{matches:te,loaderData:{},errors:{[Qt.id]:se}},{flushSync:Dt});return}w=new AbortController;let Tt=qs(i.history,B,w.signal,G&&G.submission),bt=new hv(i.unstable_getContext?await i.unstable_getContext():void 0),It;if(G&&G.pendingError)It=[Ya(vt).route.id,{type:"error",error:G.pendingError}];else if(G&&G.submission&&Fn(G.submission.formMethod)){let se=await ya(Tt,B,G.submission,vt,bt,_t.active,G&&G.initialHydration===!0,{replace:G.replace,flushSync:Dt});if(se.shortCircuited)return;if(se.pendingActionResult){let[te,Qt]=se.pendingActionResult;if(qn(Qt)&&Ro(Qt.error)&&Qt.error.status===404){w=null,hn(B,{matches:se.matches,loaderData:{},errors:{[te]:Qt.error}});return}}vt=se.matches||vt,It=se.pendingActionResult,ct=hd(B,G.submission),Dt=!1,_t.active=!1,Tt=qs(i.history,Tt.url,Tt.signal)}let{shortCircuited:St,matches:Nt,loaderData:Xt,errors:ce}=await rs(Tt,B,vt,bt,_t.active,ct,G&&G.submission,G&&G.fetcherSubmission,G&&G.replace,G&&G.initialHydration===!0,Dt,It);St||(w=null,hn(B,{matches:Nt||vt,...Av(It),loaderData:Xt,errors:ce}))}async function ya(M,B,G,rt,ct,vt,Dt,_t={}){Ri();let Tt=bA(B,G);if(Ae({navigation:Tt},{flushSync:_t.flushSync===!0}),vt){let St=await br(rt,B.pathname,M.signal);if(St.type==="aborted")return{shortCircuited:!0};if(St.type==="error"){let Nt=Ya(St.partialMatches).route.id;return{matches:St.partialMatches,pendingActionResult:[Nt,{type:"error",error:St.error}]}}else if(St.matches)rt=St.matches;else{let{notFoundMatches:Nt,error:Xt,route:ce}=Zr(B.pathname);return{matches:Nt,pendingActionResult:[ce.id,{type:"error",error:Xt}]}}}let bt,It=go(rt,B);if(!It.route.action&&!It.route.lazy)bt={type:"error",error:cr(405,{method:M.method,pathname:B.pathname,routeId:It.route.id})};else{let St=Ks(o,u,M,rt,It,Dt?[]:s,ct),Nt=await Yn(M,St,ct,null);if(bt=Nt[It.route.id],!bt){for(let Xt of rt)if(Nt[Xt.route.id]){bt=Nt[Xt.route.id];break}}if(M.signal.aborted)return{shortCircuited:!0}}if(Ka(bt)){let St;return _t&&_t.replace!=null?St=_t.replace:St=_v(bt.response.headers.get("Location"),new URL(M.url),g)===F.location.pathname+F.location.search,await dr(M,bt,!0,{submission:G,replace:St}),{shortCircuited:!0}}if(qn(bt)){let St=Ya(rt,It.route.id);return(_t&&_t.replace)!==!0&&(N="PUSH"),{matches:rt,pendingActionResult:[St.route.id,bt,It.route.id]}}return{matches:rt,pendingActionResult:[It.route.id,bt]}}async function rs(M,B,G,rt,ct,vt,Dt,_t,Tt,bt,It,St){let Nt=vt||hd(B,Dt),Xt=Dt||_t||wv(Nt),ce=!C&&!bt;if(ct){if(ce){let Ue=En(St);Ae({navigation:Nt,...Ue!==void 0?{actionData:Ue}:{}},{flushSync:It})}let Ut=await br(G,B.pathname,M.signal);if(Ut.type==="aborted")return{shortCircuited:!0};if(Ut.type==="error"){let Ue=Ya(Ut.partialMatches).route.id;return{matches:Ut.partialMatches,loaderData:{},errors:{[Ue]:Ut.error}}}else if(Ut.matches)G=Ut.matches;else{let{error:Ue,notFoundMatches:On,route:wn}=Zr(B.pathname);return{matches:On,loaderData:{},errors:{[wn.id]:Ue}}}}let se=m||f,{dsMatches:te,revalidatingFetchers:Qt}=mv(M,rt,o,u,i.history,F,G,Xt,B,bt?[]:s,bt===!0,jt,Kt,ot,nt,I,se,g,St);if(yt=++ht,!i.dataStrategy&&!te.some(Ut=>Ut.shouldLoad)&&Qt.length===0){let Ut=Sr();return hn(B,{matches:G,loaderData:{},errors:St&&qn(St[1])?{[St[0]]:St[1].error}:null,...Av(St),...Ut?{fetchers:new Map(F.fetchers)}:{}},{flushSync:It}),{shortCircuited:!0}}if(ce){let Ut={};if(!ct){Ut.navigation=Nt;let Ue=En(St);Ue!==void 0&&(Ut.actionData=Ue)}Qt.length>0&&(Ut.fetchers=ul(Qt)),Ae(Ut,{flushSync:It})}Qt.forEach(Ut=>{Kn(Ut.key),Ut.controller&&Y.set(Ut.key,Ut.controller)});let Zn=()=>Qt.forEach(Ut=>Kn(Ut.key));w&&w.signal.addEventListener("abort",Zn);let{loaderResults:je,fetcherResults:Sn}=await bi(te,Qt,M,rt);if(M.signal.aborted)return{shortCircuited:!0};w&&w.signal.removeEventListener("abort",Zn),Qt.forEach(Ut=>Y.delete(Ut.key));let en=rc(je);if(en)return await dr(M,en.result,!0,{replace:Tt}),{shortCircuited:!0};if(en=rc(Sn),en)return I.add(en.key),await dr(M,en.result,!0,{replace:Tt}),{shortCircuited:!0};let{loaderData:wr,errors:Vn}=Tv(F,G,je,St,Qt,Sn);bt&&F.errors&&(Vn={...F.errors,...Vn});let xi=Sr(),dn=Ar(yt),An=xi||dn||Qt.length>0;return{matches:G,loaderData:wr,errors:Vn,...An?{fetchers:new Map(F.fetchers)}:{}}}function En(M){if(M&&!qn(M[1]))return{[M[0]]:M[1].data};if(F.actionData)return Object.keys(F.actionData).length===0?null:F.actionData}function ul(M){return M.forEach(B=>{let G=F.fetchers.get(B.key),rt=ho(void 0,G?G.data:void 0);F.fetchers.set(B.key,rt)}),new Map(F.fetchers)}async function va(M,B,G,rt){Kn(M);let ct=(rt&&rt.flushSync)===!0,vt=m||f,Dt=Td(F.location,F.matches,g,G,B,rt==null?void 0:rt.relative),_t=ta(vt,Dt,g),Tt=Tn(_t,vt,Dt);if(Tt.active&&Tt.matches&&(_t=Tt.matches),!_t){qt(M,B,cr(404,{pathname:Dt}),{flushSync:ct});return}let{path:bt,submission:It,error:St}=dv(!0,Dt,rt);if(St){qt(M,B,St,{flushSync:ct});return}let Nt=go(_t,bt),Xt=new hv(i.unstable_getContext?await i.unstable_getContext():void 0),ce=(rt&&rt.preventScrollReset)===!0;if(It&&Fn(It.formMethod)){await Ai(M,B,bt,Nt,_t,Xt,Tt.active,ct,ce,It);return}nt.set(M,{routeId:B,path:bt}),await Xr(M,B,bt,Nt,_t,Xt,Tt.active,ct,ce,It)}async function Ai(M,B,G,rt,ct,vt,Dt,_t,Tt,bt){Ri(),nt.delete(M);function It(Ee){if(!Ee.route.action&&!Ee.route.lazy){let Jn=cr(405,{method:bt.formMethod,pathname:G,routeId:B});return qt(M,B,Jn,{flushSync:_t}),!0}return!1}if(!Dt&&It(rt))return;let St=F.fetchers.get(M);oe(M,RA(bt,St),{flushSync:_t});let Nt=new AbortController,Xt=qs(i.history,G,Nt.signal,bt);if(Dt){let Ee=await br(ct,G,Xt.signal,M);if(Ee.type==="aborted")return;if(Ee.type==="error"){qt(M,B,Ee.error,{flushSync:_t});return}else if(Ee.matches){if(ct=Ee.matches,rt=go(ct,G),It(rt))return}else{qt(M,B,cr(404,{pathname:G}),{flushSync:_t});return}}Y.set(M,Nt);let ce=ht,se=Ks(o,u,Xt,ct,rt,s,vt),Qt=(await Yn(Xt,se,vt,M))[rt.route.id];if(Xt.signal.aborted){Y.get(M)===Nt&&Y.delete(M);return}if(ot.has(M)){if(Ka(Qt)||qn(Qt)){oe(M,Wi(void 0));return}}else{if(Ka(Qt))if(Y.delete(M),yt>ce){oe(M,Wi(void 0));return}else return I.add(M),oe(M,ho(bt)),dr(Xt,Qt,!1,{fetcherSubmission:bt,preventScrollReset:Tt});if(qn(Qt)){qt(M,B,Qt.error);return}}let Zn=F.navigation.location||F.location,je=qs(i.history,Zn,Nt.signal),Sn=m||f,en=F.navigation.state!=="idle"?ta(Sn,F.navigation.location,g):F.matches;Jt(en,"Didn't find any matches after fetcher action");let wr=++ht;Pt.set(M,wr);let Vn=ho(bt,Qt.data);F.fetchers.set(M,Vn);let{dsMatches:xi,revalidatingFetchers:dn}=mv(je,vt,o,u,i.history,F,en,bt,Zn,s,!1,jt,Kt,ot,nt,I,Sn,g,[rt.route.id,Qt]);dn.filter(Ee=>Ee.key!==M).forEach(Ee=>{let Jn=Ee.key,Jr=F.fetchers.get(Jn),nn=ho(void 0,Jr?Jr.data:void 0);F.fetchers.set(Jn,nn),Kn(Jn),Ee.controller&&Y.set(Jn,Ee.controller)}),Ae({fetchers:new Map(F.fetchers)});let An=()=>dn.forEach(Ee=>Kn(Ee.key));Nt.signal.addEventListener("abort",An);let{loaderResults:Ut,fetcherResults:Ue}=await bi(xi,dn,je,vt);if(Nt.signal.aborted)return;Nt.signal.removeEventListener("abort",An),Pt.delete(M),Y.delete(M),dn.forEach(Ee=>Y.delete(Ee.key));let On=rc(Ut);if(On)return dr(je,On.result,!1,{preventScrollReset:Tt});if(On=rc(Ue),On)return I.add(On.key),dr(je,On.result,!1,{preventScrollReset:Tt});let{loaderData:wn,errors:Cr}=Tv(F,en,Ut,void 0,dn,Ue);if(F.fetchers.has(M)){let Ee=Wi(Qt.data);F.fetchers.set(M,Ee)}Ar(wr),F.navigation.state==="loading"&&wr>yt?(Jt(N,"Expected pending action"),w&&w.abort(),hn(F.navigation.location,{matches:en,loaderData:wn,errors:Cr,fetchers:new Map(F.fetchers)})):(Ae({errors:Cr,loaderData:Sv(F.loaderData,wn,en,Cr),fetchers:new Map(F.fetchers)}),jt=!1)}async function Xr(M,B,G,rt,ct,vt,Dt,_t,Tt,bt){let It=F.fetchers.get(M);oe(M,ho(bt,It?It.data:void 0),{flushSync:_t});let St=new AbortController,Nt=qs(i.history,G,St.signal);if(Dt){let Qt=await br(ct,G,Nt.signal,M);if(Qt.type==="aborted")return;if(Qt.type==="error"){qt(M,B,Qt.error,{flushSync:_t});return}else if(Qt.matches)ct=Qt.matches,rt=go(ct,G);else{qt(M,B,cr(404,{pathname:G}),{flushSync:_t});return}}Y.set(M,St);let Xt=ht,ce=Ks(o,u,Nt,ct,rt,s,vt),te=(await Yn(Nt,ce,vt,M))[rt.route.id];if(Y.get(M)===St&&Y.delete(M),!Nt.signal.aborted){if(ot.has(M)){oe(M,Wi(void 0));return}if(Ka(te))if(yt>Xt){oe(M,Wi(void 0));return}else{I.add(M),await dr(Nt,te,!1,{preventScrollReset:Tt});return}if(qn(te)){qt(M,B,te.error);return}oe(M,Wi(te.data))}}async function dr(M,B,G,{submission:rt,fetcherSubmission:ct,preventScrollReset:vt,replace:Dt}={}){B.response.headers.has("X-Remix-Revalidate")&&(jt=!0);let _t=B.response.headers.get("Location");Jt(_t,"Expected a Location header on the redirect Response"),_t=_v(_t,new URL(M.url),g);let Tt=bo(F.location,_t,{_isRedirect:!0});if(r){let ce=!1;if(B.response.headers.has("X-Remix-Reload-Document"))ce=!0;else if(Jd.test(_t)){const se=i.history.createURL(_t);ce=se.origin!==t.location.origin||fr(se.pathname,g)==null}if(ce){Dt?t.location.replace(_t):t.location.assign(_t);return}}w=null;let bt=Dt===!0||B.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:It,formAction:St,formEncType:Nt}=F.navigation;!rt&&!ct&&It&&St&&Nt&&(rt=wv(F.navigation));let Xt=rt||ct;if(lA.has(B.response.status)&&Xt&&Fn(Xt.formMethod))await _n(bt,Tt,{submission:{...Xt,formAction:_t},preventScrollReset:vt||R,enableViewTransition:G?V:void 0});else{let ce=hd(Tt,rt);await _n(bt,Tt,{overrideNavigation:ce,fetcherSubmission:ct,preventScrollReset:vt||R,enableViewTransition:G?V:void 0})}}async function Yn(M,B,G,rt){let ct,vt={};try{ct=await pA(y,M,B,rt,G,!1)}catch(Dt){return B.filter(_t=>_t.shouldLoad).forEach(_t=>{vt[_t.route.id]={type:"error",error:Dt}}),vt}for(let[Dt,_t]of Object.entries(ct))if(SA(_t)){let Tt=_t.result;vt[Dt]={type:"redirect",response:_A(Tt,M,Dt,B,g)}}else vt[Dt]=await vA(_t);return vt}async function bi(M,B,G,rt){let ct=Yn(G,M,rt,null),vt=Promise.all(B.map(async Tt=>{if(Tt.matches&&Tt.match&&Tt.request&&Tt.controller){let It=(await Yn(Tt.request,Tt.matches,rt,Tt.key))[Tt.match.route.id];return{[Tt.key]:It}}else return Promise.resolve({[Tt.key]:{type:"error",error:cr(404,{pathname:Tt.path})}})})),Dt=await ct,_t=(await vt).reduce((Tt,bt)=>Object.assign(Tt,bt),{});return{loaderResults:Dt,fetcherResults:_t}}function Ri(){jt=!0,nt.forEach((M,B)=>{Y.has(B)&&Kt.add(B),Kn(B)})}function oe(M,B,G={}){F.fetchers.set(M,B),Ae({fetchers:new Map(F.fetchers)},{flushSync:(G&&G.flushSync)===!0})}function qt(M,B,G,rt={}){let ct=Ya(F.matches,B);Le(M),Ae({errors:{[ct.route.id]:G},fetchers:new Map(F.fetchers)},{flushSync:(rt&&rt.flushSync)===!0})}function fn(M){return dt.set(M,(dt.get(M)||0)+1),ot.has(M)&&ot.delete(M),F.fetchers.get(M)||oA}function Le(M){let B=F.fetchers.get(M);Y.has(M)&&!(B&&B.state==="loading"&&Pt.has(M))&&Kn(M),nt.delete(M),Pt.delete(M),I.delete(M),ot.delete(M),Kt.delete(M),F.fetchers.delete(M)}function is(M){let B=(dt.get(M)||0)-1;B<=0?(dt.delete(M),ot.add(M)):dt.set(M,B),Ae({fetchers:new Map(F.fetchers)})}function Kn(M){let B=Y.get(M);B&&(B.abort(),Y.delete(M))}function Tr(M){for(let B of M){let G=fn(B),rt=Wi(G.data);F.fetchers.set(B,rt)}}function Sr(){let M=[],B=!1;for(let G of I){let rt=F.fetchers.get(G);Jt(rt,`Expected fetcher: ${G}`),rt.state==="loading"&&(I.delete(G),M.push(G),B=!0)}return Tr(M),B}function Ar(M){let B=[];for(let[G,rt]of Pt)if(rt<M){let ct=F.fetchers.get(G);Jt(ct,`Expected fetcher: ${G}`),ct.state==="loading"&&(Kn(G),Pt.delete(G),B.push(G))}return Tr(B),B.length>0}function Nn(M,B){let G=F.blockers.get(M)||co;return At.get(M)!==B&&At.set(M,B),G}function $r(M){F.blockers.delete(M),At.delete(M)}function Xn(M,B){let G=F.blockers.get(M)||co;Jt(G.state==="unblocked"&&B.state==="blocked"||G.state==="blocked"&&B.state==="blocked"||G.state==="blocked"&&B.state==="proceeding"||G.state==="blocked"&&B.state==="unblocked"||G.state==="proceeding"&&B.state==="unblocked",`Invalid blocker state transition: ${G.state} -> ${B.state}`);let rt=new Map(F.blockers);rt.set(M,B),Ae({blockers:rt})}function wi({currentLocation:M,nextLocation:B,historyAction:G}){if(At.size===0)return;At.size>1&&Ve(!1,"A router only supports one blocker at a time");let rt=Array.from(At.entries()),[ct,vt]=rt[rt.length-1],Dt=F.blockers.get(ct);if(!(Dt&&Dt.state==="proceeding")&&vt({currentLocation:M,nextLocation:B,historyAction:G}))return ct}function Zr(M){let B=cr(404,{pathname:M}),G=m||f,{matches:rt,route:ct}=bv(G);return{notFoundMatches:rt,route:ct,error:B}}function _a(M,B,G){if(D=M,J=B,O=G||null,!H&&F.navigation===cd){H=!0;let rt=Ci(F.location,F.matches);rt!=null&&Ae({restoreScrollPosition:rt})}return()=>{D=null,J=null,O=null}}function $n(M,B){return O&&O(M,B.map(rt=>BS(rt,F.loaderData)))||M.key}function mr(M,B){if(D&&J){let G=$n(M,B);D[G]=J()}}function Ci(M,B){if(D){let G=$n(M,B),rt=D[G];if(typeof rt=="number")return rt}return null}function Tn(M,B,G){if(i.patchRoutesOnNavigation)if(M){if(Object.keys(M[0].params).length>0)return{active:!0,matches:hc(B,G,g,!0)}}else return{active:!0,matches:hc(B,G,g,!0)||[]};return{active:!1,matches:null}}async function br(M,B,G,rt){if(!i.patchRoutesOnNavigation)return{type:"success",matches:M};let ct=M;for(;;){let vt=m==null,Dt=m||f,_t=u;try{await i.patchRoutesOnNavigation({signal:G,path:B,matches:ct,fetcherKey:rt,patch:(It,St)=>{G.aborted||gv(It,St,Dt,_t,o)}})}catch(It){return{type:"error",error:It,partialMatches:ct}}finally{vt&&!G.aborted&&(f=[...f])}if(G.aborted)return{type:"aborted"};let Tt=ta(Dt,B,g);if(Tt)return{type:"success",matches:Tt};let bt=hc(Dt,B,g,!0);if(!bt||ct.length===bt.length&&ct.every((It,St)=>It.route.id===bt[St].route.id))return{type:"success",matches:null};ct=bt}}function Rr(M){u={},m=Ec(M,o,void 0,u)}function Di(M,B){let G=m==null;gv(M,B,m||f,u,o),G&&(f=[...f],Ae({}))}return mt={get basename(){return g},get future(){return E},get state(){return F},get routes(){return f},get window(){return t},initialize:Oe,subscribe:Qn,enableScrollRestoration:_a,navigate:Er,fetch:va,revalidate:Kr,createHref:M=>i.history.createHref(M),encodeLocation:M=>i.history.encodeLocation(M),getFetcher:fn,deleteFetcher:is,dispose:ge,getBlocker:Nn,deleteBlocker:$r,patchRoutes:Di,_internalFetchControllers:Y,_internalSetRoutes:Rr},mt}function hA(i){return i!=null&&("formData"in i&&i.formData!=null||"body"in i&&i.body!==void 0)}function Td(i,t,r,s,o,u){let f,m;if(o){f=[];for(let y of t)if(f.push(y),y.route.id===o){m=y;break}}else f=t,m=t[t.length-1];let g=Zd(s||".",$d(f),fr(i.pathname,r)||i.pathname,u==="path");if(s==null&&(g.search=i.search,g.hash=i.hash),(s==null||s===""||s===".")&&m){let y=Wd(g.search);if(m.route.index&&!y)g.search=g.search?g.search.replace(/^\?/,"?index&"):"?index";else if(!m.route.index&&y){let E=new URLSearchParams(g.search),S=E.getAll("index");E.delete("index"),S.filter(D=>D).forEach(D=>E.append("index",D));let A=E.toString();g.search=A?`?${A}`:""}}return r!=="/"&&(g.pathname=g.pathname==="/"?r:jr([r,g.pathname])),la(g)}function dv(i,t,r){if(!r||!hA(r))return{path:t};if(r.formMethod&&!AA(r.formMethod))return{path:t,error:cr(405,{method:r.formMethod})};let s=()=>({path:t,error:cr(400,{type:"invalid-body"})}),u=(r.formMethod||"get").toUpperCase(),f=Z_(t);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!Fn(u))return s();let S=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((A,[D,O])=>`${A}${D}=${O}
`,""):String(r.body);return{path:t,submission:{formMethod:u,formAction:f,formEncType:r.formEncType,formData:void 0,json:void 0,text:S}}}else if(r.formEncType==="application/json"){if(!Fn(u))return s();try{let S=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:t,submission:{formMethod:u,formAction:f,formEncType:r.formEncType,formData:void 0,json:S,text:void 0}}}catch{return s()}}}Jt(typeof FormData=="function","FormData is not available in this environment");let m,g;if(r.formData)m=bd(r.formData),g=r.formData;else if(r.body instanceof FormData)m=bd(r.body),g=r.body;else if(r.body instanceof URLSearchParams)m=r.body,g=Ev(m);else if(r.body==null)m=new URLSearchParams,g=new FormData;else try{m=new URLSearchParams(r.body),g=Ev(m)}catch{return s()}let y={formMethod:u,formAction:f,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:g,json:void 0,text:void 0};if(Fn(y.formMethod))return{path:t,submission:y};let E=Si(t);return i&&E.search&&Wd(E.search)&&m.append("index",""),E.search=`?${m}`,{path:la(E),submission:y}}function mv(i,t,r,s,o,u,f,m,g,y,E,S,A,D,O,J,H,k,W){var P;let lt=W?qn(W[1])?W[1].error:W[1].data:void 0,gt=o.createURL(u.location),mt=o.createURL(g),F;if(E&&u.errors){let C=Object.keys(u.errors)[0];F=f.findIndex(jt=>jt.route.id===C)}else if(W&&qn(W[1])){let C=W[0];F=f.findIndex(jt=>jt.route.id===C)-1}let N=W?W[1].statusCode:void 0,R=N&&N>=400,w={currentUrl:gt,currentParams:((P=u.matches[0])==null?void 0:P.params)||{},nextUrl:mt,nextParams:f[0].params,...m,actionResult:lt,actionStatus:N},V=f.map((C,jt)=>{let{route:Kt}=C,Y=null;if(F!=null&&jt>F?Y=!1:Kt.lazy?Y=!0:Kt.loader==null?Y=!1:E?Y=Sd(Kt,u.loaderData,u.errors):fA(u.loaderData,u.matches[jt],C)&&(Y=!0),Y!==null)return Ad(r,s,i,C,y,t,Y);let ht=R?!1:S||gt.pathname+gt.search===mt.pathname+mt.search||gt.search!==mt.search||dA(u.matches[jt],C),yt={...w,defaultShouldRevalidate:ht},Pt=Ac(C,yt);return Ad(r,s,i,C,y,t,Pt,yt)}),U=[];return O.forEach((C,jt)=>{if(E||!f.some(nt=>nt.route.id===C.routeId)||D.has(jt))return;let Kt=ta(H,C.path,k);if(!Kt){U.push({key:jt,routeId:C.routeId,path:C.path,matches:null,match:null,request:null,controller:null});return}if(J.has(jt))return;let Y=u.fetchers.get(jt),ht=go(Kt,C.path),yt=new AbortController,Pt=qs(o,C.path,yt.signal),I=null;if(A.has(jt))A.delete(jt),I=Ks(r,s,Pt,Kt,ht,y,t);else if(Y&&Y.state!=="idle"&&Y.data===void 0)S&&(I=Ks(r,s,Pt,Kt,ht,y,t));else{let nt={...w,defaultShouldRevalidate:R?!1:S};Ac(ht,nt)&&(I=Ks(r,s,Pt,Kt,ht,y,t,nt))}I&&U.push({key:jt,routeId:C.routeId,path:C.path,matches:I,match:ht,request:Pt,controller:yt})}),{dsMatches:V,revalidatingFetchers:U}}function Sd(i,t,r){if(i.lazy)return!0;if(!i.loader)return!1;let s=t!=null&&t[i.id]!==void 0,o=r!=null&&r[i.id]!==void 0;return!s&&o?!1:typeof i.loader=="function"&&i.loader.hydrate===!0?!0:!s&&!o}function fA(i,t,r){let s=!t||r.route.id!==t.route.id,o=!i.hasOwnProperty(r.route.id);return s||o}function dA(i,t){let r=i.route.path;return i.pathname!==t.pathname||r!=null&&r.endsWith("*")&&i.params["*"]!==t.params["*"]}function Ac(i,t){if(i.route.shouldRevalidate){let r=i.route.shouldRevalidate(t);if(typeof r=="boolean")return r}return t.defaultShouldRevalidate}function gv(i,t,r,s,o){let u;if(i){let g=s[i];Jt(g,`No route found to patch children into: routeId = ${i}`),g.children||(g.children=[]),u=g.children}else u=r;let f=t.filter(g=>!u.some(y=>Q_(g,y))),m=Ec(f,o,[i||"_","patch",String((u==null?void 0:u.length)||"0")],s);u.push(...m)}function Q_(i,t){return"id"in i&&"id"in t&&i.id===t.id?!0:i.index===t.index&&i.path===t.path&&i.caseSensitive===t.caseSensitive?(!i.children||i.children.length===0)&&(!t.children||t.children.length===0)?!0:i.children.every((r,s)=>{var o;return(o=t.children)==null?void 0:o.some(u=>Q_(r,u))}):!1}var pv=new WeakMap,Y_=({key:i,route:t,manifest:r,mapRouteProperties:s})=>{let o=r[t.id];if(Jt(o,"No route found in manifest"),!o.lazy||typeof o.lazy!="object")return;let u=o.lazy[i];if(!u)return;let f=pv.get(o);f||(f={},pv.set(o,f));let m=f[i];if(m)return m;let g=(async()=>{let y=LS(i),S=o[i]!==void 0&&i!=="hasErrorBoundary";if(y)Ve(!y,"Route property "+i+" is not a supported lazy route property. This property will be ignored."),f[i]=Promise.resolve();else if(S)Ve(!1,`Route "${o.id}" has a static property "${i}" defined. The lazy property will be ignored.`);else{let A=await u();A!=null&&(Object.assign(o,{[i]:A}),Object.assign(o,s(o)))}typeof o.lazy=="object"&&(o.lazy[i]=void 0,Object.values(o.lazy).every(A=>A===void 0)&&(o.lazy=void 0))})();return f[i]=g,g},yv=new WeakMap;function mA(i,t,r,s,o){let u=r[i.id];if(Jt(u,"No route found in manifest"),!i.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof i.lazy=="function"){let E=yv.get(u);if(E)return{lazyRoutePromise:E,lazyHandlerPromise:E};let S=(async()=>{Jt(typeof i.lazy=="function","No lazy route function found");let A=await i.lazy(),D={};for(let O in A){let J=A[O];if(J===void 0)continue;let H=PS(O),W=u[O]!==void 0&&O!=="hasErrorBoundary";H?Ve(!H,"Route property "+O+" is not a supported property to be returned from a lazy route function. This property will be ignored."):W?Ve(!W,`Route "${u.id}" has a static property "${O}" defined but its lazy function is also returning a value for this property. The lazy route property "${O}" will be ignored.`):D[O]=J}Object.assign(u,D),Object.assign(u,{...s(u),lazy:void 0})})();return yv.set(u,S),S.catch(()=>{}),{lazyRoutePromise:S,lazyHandlerPromise:S}}let f=Object.keys(i.lazy),m=[],g;for(let E of f){if(o&&o.includes(E))continue;let S=Y_({key:E,route:i,manifest:r,mapRouteProperties:s});S&&(m.push(S),E===t&&(g=S))}let y=m.length>0?Promise.all(m).then(()=>{}):void 0;return y==null||y.catch(()=>{}),g==null||g.catch(()=>{}),{lazyRoutePromise:y,lazyHandlerPromise:g}}async function vv(i){let t=i.matches.filter(o=>o.shouldLoad),r={};return(await Promise.all(t.map(o=>o.resolve()))).forEach((o,u)=>{r[t[u].route.id]=o}),r}async function gA(i){return i.matches.some(t=>t.route.unstable_middleware)?K_(i,!1,()=>vv(i),(t,r)=>({[r]:{type:"error",result:t}})):vv(i)}async function K_(i,t,r,s){let{matches:o,request:u,params:f,context:m}=i,g={handlerResult:void 0};try{let y=o.flatMap(S=>S.route.unstable_middleware?S.route.unstable_middleware.map(A=>[S.route.id,A]):[]),E=await X_({request:u,params:f,context:m},y,t,g,r);return t?E:g.handlerResult}catch(y){if(!g.middlewareError)throw y;let E=await s(g.middlewareError.error,g.middlewareError.routeId);return g.handlerResult?Object.assign(g.handlerResult,E):E}}async function X_(i,t,r,s,o,u=0){let{request:f}=i;if(f.signal.aborted)throw f.signal.reason?f.signal.reason:new Error(`Request aborted without an \`AbortSignal.reason\`: ${f.method} ${f.url}`);let m=t[u];if(!m)return s.handlerResult=await o(),s.handlerResult;let[g,y]=m,E=!1,S,A=async()=>{if(E)throw new Error("You may only call `next()` once per middleware");E=!0,await X_(i,t,r,s,o,u+1)};try{let D=await y({request:i.request,params:i.params,context:i.context},A);return E?D===void 0?S:D:A()}catch(D){throw s.middlewareError?s.middlewareError.error!==D&&(s.middlewareError={routeId:g,error:D}):s.middlewareError={routeId:g,error:D},D}}function $_(i,t,r,s,o){let u=Y_({key:"unstable_middleware",route:s.route,manifest:t,mapRouteProperties:i}),f=mA(s.route,Fn(r.method)?"action":"loader",t,i,o);return{middleware:u,route:f.lazyRoutePromise,handler:f.lazyHandlerPromise}}function Ad(i,t,r,s,o,u,f,m=null){let g=!1,y=$_(i,t,r,s,o);return{...s,_lazyPromises:y,shouldLoad:f,unstable_shouldRevalidateArgs:m,unstable_shouldCallHandler(E){return g=!0,m?typeof E=="boolean"?Ac(s,{...m,defaultShouldRevalidate:E}):Ac(s,m):f},resolve(E){return g||f||E&&r.method==="GET"&&(s.route.lazy||s.route.loader)?yA({request:r,match:s,lazyHandlerPromise:y==null?void 0:y.handler,lazyRoutePromise:y==null?void 0:y.route,handlerOverride:E,scopedContext:u}):Promise.resolve({type:"data",result:void 0})}}}function Ks(i,t,r,s,o,u,f,m=null){return s.map(g=>g.route.id!==o.route.id?{...g,shouldLoad:!1,unstable_shouldRevalidateArgs:m,unstable_shouldCallHandler:()=>!1,_lazyPromises:$_(i,t,r,g,u),resolve:()=>Promise.resolve({type:"data",result:void 0})}:Ad(i,t,r,g,u,f,!0,m))}async function pA(i,t,r,s,o,u){r.some(y=>{var E;return(E=y._lazyPromises)==null?void 0:E.middleware})&&await Promise.all(r.map(y=>{var E;return(E=y._lazyPromises)==null?void 0:E.middleware}));let f={request:t,params:r[0].params,context:o,matches:r},g=await i({...f,fetcherKey:s,unstable_runClientMiddleware:y=>{let E=f;return K_(E,!1,()=>y({...E,fetcherKey:s,unstable_runClientMiddleware:()=>{throw new Error("Cannot call `unstable_runClientMiddleware()` from within an `unstable_runClientMiddleware` handler")}}),(S,A)=>({[A]:{type:"error",result:S}}))}});try{await Promise.all(r.flatMap(y=>{var E,S;return[(E=y._lazyPromises)==null?void 0:E.handler,(S=y._lazyPromises)==null?void 0:S.route]}))}catch{}return g}async function yA({request:i,match:t,lazyHandlerPromise:r,lazyRoutePromise:s,handlerOverride:o,scopedContext:u}){let f,m,g=Fn(i.method),y=g?"action":"loader",E=S=>{let A,D=new Promise((H,k)=>A=k);m=()=>A(),i.signal.addEventListener("abort",m);let O=H=>typeof S!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${y}" [routeId: ${t.route.id}]`)):S({request:i,params:t.params,context:u},...H!==void 0?[H]:[]),J=(async()=>{try{return{type:"data",result:await(o?o(k=>O(k)):O())}}catch(H){return{type:"error",result:H}}})();return Promise.race([J,D])};try{let S=g?t.route.action:t.route.loader;if(r||s)if(S){let A,[D]=await Promise.all([E(S).catch(O=>{A=O}),r,s]);if(A!==void 0)throw A;f=D}else{await r;let A=g?t.route.action:t.route.loader;if(A)[f]=await Promise.all([E(A),s]);else if(y==="action"){let D=new URL(i.url),O=D.pathname+D.search;throw cr(405,{method:i.method,pathname:O,routeId:t.route.id})}else return{type:"data",result:void 0}}else if(S)f=await E(S);else{let A=new URL(i.url),D=A.pathname+A.search;throw cr(404,{pathname:D})}}catch(S){return{type:"error",result:S}}finally{m&&i.signal.removeEventListener("abort",m)}return f}async function vA(i){var s,o,u,f,m,g;let{result:t,type:r}=i;if(J_(t)){let y;try{let E=t.headers.get("Content-Type");E&&/\bapplication\/json\b/.test(E)?t.body==null?y=null:y=await t.json():y=await t.text()}catch(E){return{type:"error",error:E}}return r==="error"?{type:"error",error:new Sc(t.status,t.statusText,y),statusCode:t.status,headers:t.headers}:{type:"data",data:y,statusCode:t.status,headers:t.headers}}return r==="error"?Rv(t)?t.data instanceof Error?{type:"error",error:t.data,statusCode:(s=t.init)==null?void 0:s.status,headers:(o=t.init)!=null&&o.headers?new Headers(t.init.headers):void 0}:{type:"error",error:new Sc(((u=t.init)==null?void 0:u.status)||500,void 0,t.data),statusCode:Ro(t)?t.status:void 0,headers:(f=t.init)!=null&&f.headers?new Headers(t.init.headers):void 0}:{type:"error",error:t,statusCode:Ro(t)?t.status:void 0}:Rv(t)?{type:"data",data:t.data,statusCode:(m=t.init)==null?void 0:m.status,headers:(g=t.init)!=null&&g.headers?new Headers(t.init.headers):void 0}:{type:"data",data:t}}function _A(i,t,r,s,o){let u=i.headers.get("Location");if(Jt(u,"Redirects returned/thrown from loaders/actions must have a Location header"),!Jd.test(u)){let f=s.slice(0,s.findIndex(m=>m.route.id===r)+1);u=Td(new URL(t.url),f,o,u),i.headers.set("Location",u)}return i}function _v(i,t,r){if(Jd.test(i)){let s=i,o=s.startsWith("//")?new URL(t.protocol+s):new URL(s),u=fr(o.pathname,r)!=null;if(o.origin===t.origin&&u)return o.pathname+o.search+o.hash}return i}function qs(i,t,r,s){let o=i.createURL(Z_(t)).toString(),u={signal:r};if(s&&Fn(s.formMethod)){let{formMethod:f,formEncType:m}=s;u.method=f.toUpperCase(),m==="application/json"?(u.headers=new Headers({"Content-Type":m}),u.body=JSON.stringify(s.json)):m==="text/plain"?u.body=s.text:m==="application/x-www-form-urlencoded"&&s.formData?u.body=bd(s.formData):u.body=s.formData}return new Request(o,u)}function bd(i){let t=new URLSearchParams;for(let[r,s]of i.entries())t.append(r,typeof s=="string"?s:s.name);return t}function Ev(i){let t=new FormData;for(let[r,s]of i.entries())t.append(r,s);return t}function EA(i,t,r,s=!1,o=!1){let u={},f=null,m,g=!1,y={},E=r&&qn(r[1])?r[1].error:void 0;return i.forEach(S=>{if(!(S.route.id in t))return;let A=S.route.id,D=t[A];if(Jt(!Ka(D),"Cannot handle redirect results in processLoaderData"),qn(D)){let O=D.error;if(E!==void 0&&(O=E,E=void 0),f=f||{},o)f[A]=O;else{let J=Ya(i,A);f[J.route.id]==null&&(f[J.route.id]=O)}s||(u[A]=G_),g||(g=!0,m=Ro(D.error)?D.error.status:500),D.headers&&(y[A]=D.headers)}else u[A]=D.data,D.statusCode&&D.statusCode!==200&&!g&&(m=D.statusCode),D.headers&&(y[A]=D.headers)}),E!==void 0&&r&&(f={[r[0]]:E},r[2]&&(u[r[2]]=void 0)),{loaderData:u,errors:f,statusCode:m||200,loaderHeaders:y}}function Tv(i,t,r,s,o,u){let{loaderData:f,errors:m}=EA(t,r,s);return o.filter(g=>!g.matches||g.matches.some(y=>y.shouldLoad)).forEach(g=>{let{key:y,match:E,controller:S}=g,A=u[y];if(Jt(A,"Did not find corresponding fetcher result"),!(S&&S.signal.aborted))if(qn(A)){let D=Ya(i.matches,E==null?void 0:E.route.id);m&&m[D.route.id]||(m={...m,[D.route.id]:A.error}),i.fetchers.delete(y)}else if(Ka(A))Jt(!1,"Unhandled fetcher revalidation redirect");else{let D=Wi(A.data);i.fetchers.set(y,D)}}),{loaderData:f,errors:m}}function Sv(i,t,r,s){let o=Object.entries(t).filter(([,u])=>u!==G_).reduce((u,[f,m])=>(u[f]=m,u),{});for(let u of r){let f=u.route.id;if(!t.hasOwnProperty(f)&&i.hasOwnProperty(f)&&u.route.loader&&(o[f]=i[f]),s&&s.hasOwnProperty(f))break}return o}function Av(i){return i?qn(i[1])?{actionData:{}}:{actionData:{[i[0]]:i[1].data}}:{}}function Ya(i,t){return(t?i.slice(0,i.findIndex(s=>s.route.id===t)+1):[...i]).reverse().find(s=>s.route.hasErrorBoundary===!0)||i[0]}function bv(i){let t=i.length===1?i[0]:i.find(r=>r.index||!r.path||r.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function cr(i,{pathname:t,routeId:r,method:s,type:o,message:u}={}){let f="Unknown Server Error",m="Unknown @remix-run/router error";return i===400?(f="Bad Request",s&&t&&r?m=`You made a ${s} request to "${t}" but did not provide a \`loader\` for route "${r}", so there is no way to handle the request.`:o==="invalid-body"&&(m="Unable to encode submission body")):i===403?(f="Forbidden",m=`Route "${r}" does not match URL "${t}"`):i===404?(f="Not Found",m=`No route matches URL "${t}"`):i===405&&(f="Method Not Allowed",s&&t&&r?m=`You made a ${s.toUpperCase()} request to "${t}" but did not provide an \`action\` for route "${r}", so there is no way to handle the request.`:s&&(m=`Invalid request method "${s.toUpperCase()}"`)),new Sc(i||500,f,new Error(m),!0)}function rc(i){let t=Object.entries(i);for(let r=t.length-1;r>=0;r--){let[s,o]=t[r];if(Ka(o))return{key:s,result:o}}}function Z_(i){let t=typeof i=="string"?Si(i):i;return la({...t,hash:""})}function TA(i,t){return i.pathname!==t.pathname||i.search!==t.search?!1:i.hash===""?t.hash!=="":i.hash===t.hash?!0:t.hash!==""}function SA(i){return J_(i.result)&&sA.has(i.result.status)}function qn(i){return i.type==="error"}function Ka(i){return(i&&i.type)==="redirect"}function Rv(i){return typeof i=="object"&&i!=null&&"type"in i&&"data"in i&&"init"in i&&i.type==="DataWithResponseInit"}function J_(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.headers=="object"&&typeof i.body<"u"}function AA(i){return aA.has(i.toUpperCase())}function Fn(i){return rA.has(i.toUpperCase())}function Wd(i){return new URLSearchParams(i).getAll("index").some(t=>t==="")}function go(i,t){let r=typeof t=="string"?Si(t).search:t.search;if(i[i.length-1].route.index&&Wd(r||""))return i[i.length-1];let s=H_(i);return s[s.length-1]}function wv(i){let{formMethod:t,formAction:r,formEncType:s,text:o,formData:u,json:f}=i;if(!(!t||!r||!s)){if(o!=null)return{formMethod:t,formAction:r,formEncType:s,formData:void 0,json:void 0,text:o};if(u!=null)return{formMethod:t,formAction:r,formEncType:s,formData:u,json:void 0,text:void 0};if(f!==void 0)return{formMethod:t,formAction:r,formEncType:s,formData:void 0,json:f,text:void 0}}}function hd(i,t){return t?{state:"loading",location:i,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}:{state:"loading",location:i,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function bA(i,t){return{state:"submitting",location:i,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}}function ho(i,t){return i?{state:"loading",formMethod:i.formMethod,formAction:i.formAction,formEncType:i.formEncType,formData:i.formData,json:i.json,text:i.text,data:t}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function RA(i,t){return{state:"submitting",formMethod:i.formMethod,formAction:i.formAction,formEncType:i.formEncType,formData:i.formData,json:i.json,text:i.text,data:t?t.data:void 0}}function Wi(i){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:i}}function wA(i,t){try{let r=i.sessionStorage.getItem(F_);if(r){let s=JSON.parse(r);for(let[o,u]of Object.entries(s||{}))u&&Array.isArray(u)&&t.set(o,new Set(u||[]))}}catch{}}function CA(i,t){if(t.size>0){let r={};for(let[s,o]of t)r[s]=[...o];try{i.sessionStorage.setItem(F_,JSON.stringify(r))}catch(s){Ve(!1,`Failed to save applied view transitions in sessionStorage (${s}).`)}}}function DA(){let i,t,r=new Promise((s,o)=>{i=async u=>{s(u);try{await r}catch{}},t=async u=>{o(u);try{await r}catch{}}});return{promise:r,resolve:i,reject:t}}var Wa=X.createContext(null);Wa.displayName="DataRouter";var Oo=X.createContext(null);Oo.displayName="DataRouterState";var tm=X.createContext({isTransitioning:!1});tm.displayName="ViewTransition";var W_=X.createContext(new Map);W_.displayName="Fetchers";var xA=X.createContext(null);xA.displayName="Await";var Qr=X.createContext(null);Qr.displayName="Navigation";var kc=X.createContext(null);kc.displayName="Location";var Yr=X.createContext({outlet:null,matches:[],isDataRoute:!1});Yr.displayName="Route";var em=X.createContext(null);em.displayName="RouteError";function IA(i,{relative:t}={}){Jt(Lo(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:s}=X.useContext(Qr),{hash:o,pathname:u,search:f}=Uo(i,{relative:t}),m=u;return r!=="/"&&(m=u==="/"?r:jr([r,u])),s.createHref({pathname:m,search:f,hash:o})}function Lo(){return X.useContext(kc)!=null}function ts(){return Jt(Lo(),"useLocation() may be used only in the context of a <Router> component."),X.useContext(kc).location}var t0="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function e0(i){X.useContext(Qr).static||X.useLayoutEffect(i)}function n0(){let{isDataRoute:i}=X.useContext(Yr);return i?GA():MA()}function MA(){Jt(Lo(),"useNavigate() may be used only in the context of a <Router> component.");let i=X.useContext(Wa),{basename:t,navigator:r}=X.useContext(Qr),{matches:s}=X.useContext(Yr),{pathname:o}=ts(),u=JSON.stringify($d(s)),f=X.useRef(!1);return e0(()=>{f.current=!0}),X.useCallback((g,y={})=>{if(Ve(f.current,t0),!f.current)return;if(typeof g=="number"){r.go(g);return}let E=Zd(g,JSON.parse(u),o,y.relative==="path");i==null&&t!=="/"&&(E.pathname=E.pathname==="/"?t:jr([t,E.pathname])),(y.replace?r.replace:r.push)(E,y.state,y)},[t,r,u,o,i])}var NA=X.createContext(null);function VA(i){let t=X.useContext(Yr).outlet;return t&&X.createElement(NA.Provider,{value:i},t)}function Uo(i,{relative:t}={}){let{matches:r}=X.useContext(Yr),{pathname:s}=ts(),o=JSON.stringify($d(r));return X.useMemo(()=>Zd(i,JSON.parse(o),s,t==="path"),[i,o,s,t])}function OA(i,t,r,s){Jt(Lo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o,static:u}=X.useContext(Qr),{matches:f}=X.useContext(Yr),m=f[f.length-1],g=m?m.params:{},y=m?m.pathname:"/",E=m?m.pathnameBase:"/",S=m&&m.route;{let W=S&&S.path||"";r0(y,!S||W.endsWith("*")||W.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${W}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${W}"> to <Route path="${W==="/"?"*":`${W}/*`}">.`)}let A=ts(),D;D=A;let O=D.pathname||"/",J=O;if(E!=="/"){let W=E.replace(/^\//,"").split("/");J="/"+O.replace(/^\//,"").split("/").slice(W.length).join("/")}let H=!u&&r&&r.matches&&r.matches.length>0?r.matches:ta(i,{pathname:J});return Ve(S||H!=null,`No routes matched location "${D.pathname}${D.search}${D.hash}" `),Ve(H==null||H[H.length-1].route.element!==void 0||H[H.length-1].route.Component!==void 0||H[H.length-1].route.lazy!==void 0,`Matched leaf route at location "${D.pathname}${D.search}${D.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),BA(H&&H.map(W=>Object.assign({},W,{params:Object.assign({},g,W.params),pathname:jr([E,o.encodeLocation?o.encodeLocation(W.pathname).pathname:W.pathname]),pathnameBase:W.pathnameBase==="/"?E:jr([E,o.encodeLocation?o.encodeLocation(W.pathnameBase).pathname:W.pathnameBase])})),f,r,s)}function LA(){let i=FA(),t=Ro(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),r=i instanceof Error?i.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",i),f=X.createElement(X.Fragment,null,X.createElement("p",null,"💿 Hey developer 👋"),X.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",X.createElement("code",{style:u},"ErrorBoundary")," or"," ",X.createElement("code",{style:u},"errorElement")," prop on your route.")),X.createElement(X.Fragment,null,X.createElement("h2",null,"Unexpected Application Error!"),X.createElement("h3",{style:{fontStyle:"italic"}},t),r?X.createElement("pre",{style:o},r):null,f)}var UA=X.createElement(LA,null),PA=class extends X.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,t){return t.location!==i.location||t.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:t.error,location:t.location,revalidation:i.revalidation||t.revalidation}}componentDidCatch(i,t){console.error("React Router caught the following error during render",i,t)}render(){return this.state.error!==void 0?X.createElement(Yr.Provider,{value:this.props.routeContext},X.createElement(em.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function zA({routeContext:i,match:t,children:r}){let s=X.useContext(Wa);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),X.createElement(Yr.Provider,{value:i},r)}function BA(i,t=[],r=null,s=null){if(i==null){if(!r)return null;if(r.errors)i=r.matches;else if(t.length===0&&!r.initialized&&r.matches.length>0)i=r.matches;else return null}let o=i,u=r==null?void 0:r.errors;if(u!=null){let g=o.findIndex(y=>y.route.id&&(u==null?void 0:u[y.route.id])!==void 0);Jt(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,g+1))}let f=!1,m=-1;if(r)for(let g=0;g<o.length;g++){let y=o[g];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(m=g),y.route.id){let{loaderData:E,errors:S}=r,A=y.route.loader&&!E.hasOwnProperty(y.route.id)&&(!S||S[y.route.id]===void 0);if(y.route.lazy||A){f=!0,m>=0?o=o.slice(0,m+1):o=[o[0]];break}}}return o.reduceRight((g,y,E)=>{let S,A=!1,D=null,O=null;r&&(S=u&&y.route.id?u[y.route.id]:void 0,D=y.route.errorElement||UA,f&&(m<0&&E===0?(r0("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),A=!0,O=null):m===E&&(A=!0,O=y.route.hydrateFallbackElement||null)));let J=t.concat(o.slice(0,E+1)),H=()=>{let k;return S?k=D:A?k=O:y.route.Component?k=X.createElement(y.route.Component,null):y.route.element?k=y.route.element:k=g,X.createElement(zA,{match:y,routeContext:{outlet:g,matches:J,isDataRoute:r!=null},children:k})};return r&&(y.route.ErrorBoundary||y.route.errorElement||E===0)?X.createElement(PA,{location:r.location,revalidation:r.revalidation,component:D,error:S,children:H(),routeContext:{outlet:null,matches:J,isDataRoute:!0}}):H()},null)}function nm(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function kA(i){let t=X.useContext(Wa);return Jt(t,nm(i)),t}function jA(i){let t=X.useContext(Oo);return Jt(t,nm(i)),t}function HA(i){let t=X.useContext(Yr);return Jt(t,nm(i)),t}function rm(i){let t=HA(i),r=t.matches[t.matches.length-1];return Jt(r.route.id,`${i} can only be used on routes that contain a unique "id"`),r.route.id}function qA(){return rm("useRouteId")}function FA(){var s;let i=X.useContext(em),t=jA("useRouteError"),r=rm("useRouteError");return i!==void 0?i:(s=t.errors)==null?void 0:s[r]}function GA(){let{router:i}=kA("useNavigate"),t=rm("useNavigate"),r=X.useRef(!1);return e0(()=>{r.current=!0}),X.useCallback(async(o,u={})=>{Ve(r.current,t0),r.current&&(typeof o=="number"?i.navigate(o):await i.navigate(o,{fromRouteId:t,...u}))},[i,t])}var Cv={};function r0(i,t,r){!t&&!Cv[i]&&(Cv[i]=!0,Ve(!1,r))}var Dv={};function xv(i,t){!i&&!Dv[t]&&(Dv[t]=!0,console.warn(t))}function QA(i){let t={hasErrorBoundary:i.hasErrorBoundary||i.ErrorBoundary!=null||i.errorElement!=null};return i.Component&&(i.element&&Ve(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(t,{element:X.createElement(i.Component),Component:void 0})),i.HydrateFallback&&(i.hydrateFallbackElement&&Ve(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(t,{hydrateFallbackElement:X.createElement(i.HydrateFallback),HydrateFallback:void 0})),i.ErrorBoundary&&(i.errorElement&&Ve(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(t,{errorElement:X.createElement(i.ErrorBoundary),ErrorBoundary:void 0})),t}var YA=["HydrateFallback","hydrateFallbackElement"],KA=class{constructor(){this.status="pending",this.promise=new Promise((t,r)=>{this.resolve=s=>{this.status==="pending"&&(this.status="resolved",t(s))},this.reject=s=>{this.status==="pending"&&(this.status="rejected",r(s))}})}};function XA({router:i,flushSync:t}){let[r,s]=X.useState(i.state),[o,u]=X.useState(),[f,m]=X.useState({isTransitioning:!1}),[g,y]=X.useState(),[E,S]=X.useState(),[A,D]=X.useState(),O=X.useRef(new Map),J=X.useCallback((lt,{deletedFetchers:gt,flushSync:mt,viewTransitionOpts:F})=>{lt.fetchers.forEach((R,w)=>{R.data!==void 0&&O.current.set(w,R.data)}),gt.forEach(R=>O.current.delete(R)),xv(mt===!1||t!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let N=i.window!=null&&i.window.document!=null&&typeof i.window.document.startViewTransition=="function";if(xv(F==null||N,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!F||!N){t&&mt?t(()=>s(lt)):X.startTransition(()=>s(lt));return}if(t&&mt){t(()=>{E&&(g&&g.resolve(),E.skipTransition()),m({isTransitioning:!0,flushSync:!0,currentLocation:F.currentLocation,nextLocation:F.nextLocation})});let R=i.window.document.startViewTransition(()=>{t(()=>s(lt))});R.finished.finally(()=>{t(()=>{y(void 0),S(void 0),u(void 0),m({isTransitioning:!1})})}),t(()=>S(R));return}E?(g&&g.resolve(),E.skipTransition(),D({state:lt,currentLocation:F.currentLocation,nextLocation:F.nextLocation})):(u(lt),m({isTransitioning:!0,flushSync:!1,currentLocation:F.currentLocation,nextLocation:F.nextLocation}))},[i.window,t,E,g]);X.useLayoutEffect(()=>i.subscribe(J),[i,J]),X.useEffect(()=>{f.isTransitioning&&!f.flushSync&&y(new KA)},[f]),X.useEffect(()=>{if(g&&o&&i.window){let lt=o,gt=g.promise,mt=i.window.document.startViewTransition(async()=>{X.startTransition(()=>s(lt)),await gt});mt.finished.finally(()=>{y(void 0),S(void 0),u(void 0),m({isTransitioning:!1})}),S(mt)}},[o,g,i.window]),X.useEffect(()=>{g&&o&&r.location.key===o.location.key&&g.resolve()},[g,E,r.location,o]),X.useEffect(()=>{!f.isTransitioning&&A&&(u(A.state),m({isTransitioning:!0,flushSync:!1,currentLocation:A.currentLocation,nextLocation:A.nextLocation}),D(void 0))},[f.isTransitioning,A]);let H=X.useMemo(()=>({createHref:i.createHref,encodeLocation:i.encodeLocation,go:lt=>i.navigate(lt),push:(lt,gt,mt)=>i.navigate(lt,{state:gt,preventScrollReset:mt==null?void 0:mt.preventScrollReset}),replace:(lt,gt,mt)=>i.navigate(lt,{replace:!0,state:gt,preventScrollReset:mt==null?void 0:mt.preventScrollReset})}),[i]),k=i.basename||"/",W=X.useMemo(()=>({router:i,navigator:H,static:!1,basename:k}),[i,H,k]);return X.createElement(X.Fragment,null,X.createElement(Wa.Provider,{value:W},X.createElement(Oo.Provider,{value:r},X.createElement(W_.Provider,{value:O.current},X.createElement(tm.Provider,{value:f},X.createElement(WA,{basename:k,location:r.location,navigationType:r.historyAction,navigator:H},X.createElement($A,{routes:i.routes,future:i.future,state:r})))))),null)}var $A=X.memo(ZA);function ZA({routes:i,future:t,state:r}){return OA(i,void 0,r,t)}function JA(i){return VA(i.context)}function WA({basename:i="/",children:t=null,location:r,navigationType:s="POP",navigator:o,static:u=!1}){Jt(!Lo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=i.replace(/^\/*/,"/"),m=X.useMemo(()=>({basename:f,navigator:o,static:u,future:{}}),[f,o,u]);typeof r=="string"&&(r=Si(r));let{pathname:g="/",search:y="",hash:E="",state:S=null,key:A="default"}=r,D=X.useMemo(()=>{let O=fr(g,f);return O==null?null:{location:{pathname:O,search:y,hash:E,state:S,key:A},navigationType:s}},[f,g,y,E,S,A,s]);return Ve(D!=null,`<Router basename="${f}"> is not able to match the URL "${g}${y}${E}" because it does not start with the basename, so the <Router> won't render anything.`),D==null?null:X.createElement(Qr.Provider,{value:m},X.createElement(kc.Provider,{children:t,value:D}))}var fc="get",dc="application/x-www-form-urlencoded";function jc(i){return i!=null&&typeof i.tagName=="string"}function tb(i){return jc(i)&&i.tagName.toLowerCase()==="button"}function eb(i){return jc(i)&&i.tagName.toLowerCase()==="form"}function nb(i){return jc(i)&&i.tagName.toLowerCase()==="input"}function rb(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function ib(i,t){return i.button===0&&(!t||t==="_self")&&!rb(i)}var ic=null;function ab(){if(ic===null)try{new FormData(document.createElement("form"),0),ic=!1}catch{ic=!0}return ic}var sb=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function fd(i){return i!=null&&!sb.has(i)?(Ve(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${dc}"`),null):i}function lb(i,t){let r,s,o,u,f;if(eb(i)){let m=i.getAttribute("action");s=m?fr(m,t):null,r=i.getAttribute("method")||fc,o=fd(i.getAttribute("enctype"))||dc,u=new FormData(i)}else if(tb(i)||nb(i)&&(i.type==="submit"||i.type==="image")){let m=i.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=i.getAttribute("formaction")||m.getAttribute("action");if(s=g?fr(g,t):null,r=i.getAttribute("formmethod")||m.getAttribute("method")||fc,o=fd(i.getAttribute("formenctype"))||fd(m.getAttribute("enctype"))||dc,u=new FormData(m,i),!ab()){let{name:y,type:E,value:S}=i;if(E==="image"){let A=y?`${y}.`:"";u.append(`${A}x`,"0"),u.append(`${A}y`,"0")}else y&&u.append(y,S)}}else{if(jc(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=fc,s=null,o=dc,f=i}return u&&o==="text/plain"&&(f=u,u=void 0),{action:s,method:r.toLowerCase(),encType:o,formData:u,body:f}}function im(i,t){if(i===!1||i===null||typeof i>"u")throw new Error(t)}async function ob(i,t){if(i.id in t)return t[i.id];try{let r=await import(i.module);return t[i.id]=r,r}catch(r){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function ub(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function cb(i,t,r){let s=await Promise.all(i.map(async o=>{let u=t.routes[o.route.id];if(u){let f=await ob(u,r);return f.links?f.links():[]}return[]}));return mb(s.flat(1).filter(ub).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Iv(i,t,r,s,o,u){let f=(g,y)=>r[y]?g.route.id!==r[y].route.id:!0,m=(g,y)=>{var E;return r[y].pathname!==g.pathname||((E=r[y].route.path)==null?void 0:E.endsWith("*"))&&r[y].params["*"]!==g.params["*"]};return u==="assets"?t.filter((g,y)=>f(g,y)||m(g,y)):u==="data"?t.filter((g,y)=>{var S;let E=s.routes[g.route.id];if(!E||!E.hasLoader)return!1;if(f(g,y)||m(g,y))return!0;if(g.route.shouldRevalidate){let A=g.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((S=r[0])==null?void 0:S.params)||{},nextUrl:new URL(i,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof A=="boolean")return A}return!0}):[]}function hb(i,t,{includeHydrateFallback:r}={}){return fb(i.map(s=>{let o=t.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),r&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function fb(i){return[...new Set(i)]}function db(i){let t={},r=Object.keys(i).sort();for(let s of r)t[s]=i[s];return t}function mb(i,t){let r=new Set;return new Set(t),i.reduce((s,o)=>{let u=JSON.stringify(db(o));return r.has(u)||(r.add(u),s.push({key:u,link:o})),s},[])}var gb=new Set([100,101,204,205]);function pb(i,t){let r=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return r.pathname==="/"?r.pathname="_root.data":t&&fr(r.pathname,t)==="/"?r.pathname=`${t.replace(/\/$/,"")}/_root.data`:r.pathname=`${r.pathname.replace(/\/$/,"")}.data`,r}function i0(){let i=X.useContext(Wa);return im(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function yb(){let i=X.useContext(Oo);return im(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var am=X.createContext(void 0);am.displayName="FrameworkContext";function a0(){let i=X.useContext(am);return im(i,"You must render this element inside a <HydratedRouter> element"),i}function vb(i,t){let r=X.useContext(am),[s,o]=X.useState(!1),[u,f]=X.useState(!1),{onFocus:m,onBlur:g,onMouseEnter:y,onMouseLeave:E,onTouchStart:S}=t,A=X.useRef(null);X.useEffect(()=>{if(i==="render"&&f(!0),i==="viewport"){let J=k=>{k.forEach(W=>{f(W.isIntersecting)})},H=new IntersectionObserver(J,{threshold:.5});return A.current&&H.observe(A.current),()=>{H.disconnect()}}},[i]),X.useEffect(()=>{if(s){let J=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(J)}}},[s]);let D=()=>{o(!0)},O=()=>{o(!1),f(!1)};return r?i!=="intent"?[u,A,{}]:[u,A,{onFocus:fo(m,D),onBlur:fo(g,O),onMouseEnter:fo(y,D),onMouseLeave:fo(E,O),onTouchStart:fo(S,D)}]:[!1,A,{}]}function fo(i,t){return r=>{i&&i(r),r.defaultPrevented||t(r)}}function _b({page:i,...t}){let{router:r}=i0(),s=X.useMemo(()=>ta(r.routes,i,r.basename),[r.routes,i,r.basename]);return s?X.createElement(Tb,{page:i,matches:s,...t}):null}function Eb(i){let{manifest:t,routeModules:r}=a0(),[s,o]=X.useState([]);return X.useEffect(()=>{let u=!1;return cb(i,t,r).then(f=>{u||o(f)}),()=>{u=!0}},[i,t,r]),s}function Tb({page:i,matches:t,...r}){let s=ts(),{manifest:o,routeModules:u}=a0(),{basename:f}=i0(),{loaderData:m,matches:g}=yb(),y=X.useMemo(()=>Iv(i,t,g,o,s,"data"),[i,t,g,o,s]),E=X.useMemo(()=>Iv(i,t,g,o,s,"assets"),[i,t,g,o,s]),S=X.useMemo(()=>{if(i===s.pathname+s.search+s.hash)return[];let O=new Set,J=!1;if(t.forEach(k=>{var lt;let W=o.routes[k.route.id];!W||!W.hasLoader||(!y.some(gt=>gt.route.id===k.route.id)&&k.route.id in m&&((lt=u[k.route.id])!=null&&lt.shouldRevalidate)||W.hasClientLoader?J=!0:O.add(k.route.id))}),O.size===0)return[];let H=pb(i,f);return J&&O.size>0&&H.searchParams.set("_routes",t.filter(k=>O.has(k.route.id)).map(k=>k.route.id).join(",")),[H.pathname+H.search]},[f,m,s,o,y,t,i,u]),A=X.useMemo(()=>hb(E,o),[E,o]),D=Eb(E);return X.createElement(X.Fragment,null,S.map(O=>X.createElement("link",{key:O,rel:"prefetch",as:"fetch",href:O,...r})),A.map(O=>X.createElement("link",{key:O,rel:"modulepreload",href:O,...r})),D.map(({key:O,link:J})=>X.createElement("link",{key:O,...J})))}function Sb(...i){return t=>{i.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}var s0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{s0&&(window.__reactRouterVersion="7.5.3")}catch{}function Ab(i,t){return cA({basename:t==null?void 0:t.basename,unstable_getContext:t==null?void 0:t.unstable_getContext,future:t==null?void 0:t.future,history:MS({window:t==null?void 0:t.window}),hydrationData:bb(),routes:i,mapRouteProperties:QA,hydrationRouteProperties:YA,dataStrategy:t==null?void 0:t.dataStrategy,patchRoutesOnNavigation:t==null?void 0:t.patchRoutesOnNavigation,window:t==null?void 0:t.window}).initialize()}function bb(){let i=window==null?void 0:window.__staticRouterHydrationData;return i&&i.errors&&(i={...i,errors:Rb(i.errors)}),i}function Rb(i){if(!i)return null;let t=Object.entries(i),r={};for(let[s,o]of t)if(o&&o.__type==="RouteErrorResponse")r[s]=new Sc(o.status,o.statusText,o.data,o.internal===!0);else if(o&&o.__type==="Error"){if(o.__subType){let u=window[o.__subType];if(typeof u=="function")try{let f=new u(o.message);f.stack="",r[s]=f}catch{}}if(r[s]==null){let u=new Error(o.message);u.stack="",r[s]=u}}else r[s]=o;return r}var l0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,sm=X.forwardRef(function({onClick:t,discover:r="render",prefetch:s="none",relative:o,reloadDocument:u,replace:f,state:m,target:g,to:y,preventScrollReset:E,viewTransition:S,...A},D){let{basename:O}=X.useContext(Qr),J=typeof y=="string"&&l0.test(y),H,k=!1;if(typeof y=="string"&&J&&(H=y,s0))try{let w=new URL(window.location.href),V=y.startsWith("//")?new URL(w.protocol+y):new URL(y),U=fr(V.pathname,O);V.origin===w.origin&&U!=null?y=U+V.search+V.hash:k=!0}catch{Ve(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let W=IA(y,{relative:o}),[lt,gt,mt]=vb(s,A),F=xb(y,{replace:f,state:m,target:g,preventScrollReset:E,relative:o,viewTransition:S});function N(w){t&&t(w),w.defaultPrevented||F(w)}let R=X.createElement("a",{...A,...mt,href:H||W,onClick:k||u?t:N,ref:Sb(D,gt),target:g,"data-discover":!J&&r==="render"?"true":void 0});return lt&&!J?X.createElement(X.Fragment,null,R,X.createElement(_b,{page:W})):R});sm.displayName="Link";var wb=X.forwardRef(function({"aria-current":t="page",caseSensitive:r=!1,className:s="",end:o=!1,style:u,to:f,viewTransition:m,children:g,...y},E){let S=Uo(f,{relative:y.relative}),A=ts(),D=X.useContext(Oo),{navigator:O,basename:J}=X.useContext(Qr),H=D!=null&&Ob(S)&&m===!0,k=O.encodeLocation?O.encodeLocation(S).pathname:S.pathname,W=A.pathname,lt=D&&D.navigation&&D.navigation.location?D.navigation.location.pathname:null;r||(W=W.toLowerCase(),lt=lt?lt.toLowerCase():null,k=k.toLowerCase()),lt&&J&&(lt=fr(lt,J)||lt);const gt=k!=="/"&&k.endsWith("/")?k.length-1:k.length;let mt=W===k||!o&&W.startsWith(k)&&W.charAt(gt)==="/",F=lt!=null&&(lt===k||!o&&lt.startsWith(k)&&lt.charAt(k.length)==="/"),N={isActive:mt,isPending:F,isTransitioning:H},R=mt?t:void 0,w;typeof s=="function"?w=s(N):w=[s,mt?"active":null,F?"pending":null,H?"transitioning":null].filter(Boolean).join(" ");let V=typeof u=="function"?u(N):u;return X.createElement(sm,{...y,"aria-current":R,className:w,ref:E,style:V,to:f,viewTransition:m},typeof g=="function"?g(N):g)});wb.displayName="NavLink";var Cb=X.forwardRef(({discover:i="render",fetcherKey:t,navigate:r,reloadDocument:s,replace:o,state:u,method:f=fc,action:m,onSubmit:g,relative:y,preventScrollReset:E,viewTransition:S,...A},D)=>{let O=Nb(),J=Vb(m,{relative:y}),H=f.toLowerCase()==="get"?"get":"post",k=typeof m=="string"&&l0.test(m),W=lt=>{if(g&&g(lt),lt.defaultPrevented)return;lt.preventDefault();let gt=lt.nativeEvent.submitter,mt=(gt==null?void 0:gt.getAttribute("formmethod"))||f;O(gt||lt.currentTarget,{fetcherKey:t,method:mt,navigate:r,replace:o,state:u,relative:y,preventScrollReset:E,viewTransition:S})};return X.createElement("form",{ref:D,method:H,action:J,onSubmit:s?g:W,...A,"data-discover":!k&&i==="render"?"true":void 0})});Cb.displayName="Form";function Db(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function o0(i){let t=X.useContext(Wa);return Jt(t,Db(i)),t}function xb(i,{target:t,replace:r,state:s,preventScrollReset:o,relative:u,viewTransition:f}={}){let m=n0(),g=ts(),y=Uo(i,{relative:u});return X.useCallback(E=>{if(ib(E,t)){E.preventDefault();let S=r!==void 0?r:la(g)===la(y);m(i,{replace:S,state:s,preventScrollReset:o,relative:u,viewTransition:f})}},[g,m,y,r,s,t,i,o,u,f])}var Ib=0,Mb=()=>`__${String(++Ib)}__`;function Nb(){let{router:i}=o0("useSubmit"),{basename:t}=X.useContext(Qr),r=qA();return X.useCallback(async(s,o={})=>{let{action:u,method:f,encType:m,formData:g,body:y}=lb(s,t);if(o.navigate===!1){let E=o.fetcherKey||Mb();await i.fetch(E,r,o.action||u,{preventScrollReset:o.preventScrollReset,formData:g,body:y,formMethod:o.method||f,formEncType:o.encType||m,flushSync:o.flushSync})}else await i.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:g,body:y,formMethod:o.method||f,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:r,flushSync:o.flushSync,viewTransition:o.viewTransition})},[i,t,r])}function Vb(i,{relative:t}={}){let{basename:r}=X.useContext(Qr),s=X.useContext(Yr);Jt(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...Uo(i||".",{relative:t})},f=ts();if(i==null){u.search=f.search;let m=new URLSearchParams(u.search),g=m.getAll("index");if(g.some(E=>E==="")){m.delete("index"),g.filter(S=>S).forEach(S=>m.append("index",S));let E=m.toString();u.search=E?`?${E}`:""}}return(!i||i===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(u.pathname=u.pathname==="/"?r:jr([r,u.pathname])),la(u)}function Ob(i,t={}){let r=X.useContext(tm);Jt(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=o0("useViewTransitionState"),o=Uo(i,{relative:t.relative});if(!r.isTransitioning)return!1;let u=fr(r.currentLocation.pathname,s)||r.currentLocation.pathname,f=fr(r.nextLocation.pathname,s)||r.nextLocation.pathname;return Tc(o.pathname,f)!=null||Tc(o.pathname,u)!=null}new TextEncoder;[...gb];var Lb=z_();/**
 * react-router v7.5.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ub(i){return X.createElement(XA,{flushSync:Lb.flushSync,...i})}const u0=X.createContext(),lm=()=>X.useContext(u0),Pb="/Webbshop_SunnyPlay/assets/logo-DcEmg5C0.png",zb="/Webbshop_SunnyPlay/assets/cart-BnCVHF4S.png",Bb="/Webbshop_SunnyPlay/assets/employee-CMAt1A3l.png",kb=()=>{const{cartItems:i}=lm();return at.jsxs("header",{className:"home-header",children:[at.jsxs("div",{className:"top-nav",children:[at.jsx("div",{className:"admin-button",children:at.jsxs("a",{href:"/#/login",children:[" ",at.jsx("img",{src:Bb,alt:"Admin",className:"nav-icon"})]})}),at.jsx("div",{className:"cart-button",children:at.jsx("div",{className:"cart-icon-wrapper",children:at.jsxs(sm,{to:"/cart",children:[at.jsx("img",{src:zb,alt:"Cart",className:"nav-icon"}),i.length>0&&at.jsx("span",{className:"cart-count",children:i.length})]})})})]}),at.jsxs("div",{className:"logo-title",children:[at.jsxs("a",{href:"/#/",children:[" ",at.jsx("img",{src:Pb,alt:"Sunny Play Logo",className:"logo"})]}),at.jsx("h1",{children:"Welcome to Sunny Play!"})]})]})},jb=({children:i})=>{const[t,r]=X.useState(()=>{const f=localStorage.getItem("cartItems");return f?JSON.parse(f):[]});X.useEffect(()=>{localStorage.setItem("cartItems",JSON.stringify(t))},[t]);const s=f=>r(m=>[...m,f]),o=f=>{const m=[...t];m.splice(f,1),r(m)},u=()=>r([]);return at.jsx(u0.Provider,{value:{cartItems:t,addToCart:s,removeFromCart:o,clearCart:u},children:i})};function Hb(){return at.jsxs(jb,{children:[at.jsx(kb,{}),at.jsx(JA,{})]})}const qb=()=>{};var Mv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c0=function(i){const t=[];let r=0;for(let s=0;s<i.length;s++){let o=i.charCodeAt(s);o<128?t[r++]=o:o<2048?(t[r++]=o>>6|192,t[r++]=o&63|128):(o&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++s)&1023),t[r++]=o>>18|240,t[r++]=o>>12&63|128,t[r++]=o>>6&63|128,t[r++]=o&63|128):(t[r++]=o>>12|224,t[r++]=o>>6&63|128,t[r++]=o&63|128)}return t},Fb=function(i){const t=[];let r=0,s=0;for(;r<i.length;){const o=i[r++];if(o<128)t[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=i[r++];t[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=i[r++],f=i[r++],m=i[r++],g=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;t[s++]=String.fromCharCode(55296+(g>>10)),t[s++]=String.fromCharCode(56320+(g&1023))}else{const u=i[r++],f=i[r++];t[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return t.join("")},h0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,t){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<i.length;o+=3){const u=i[o],f=o+1<i.length,m=f?i[o+1]:0,g=o+2<i.length,y=g?i[o+2]:0,E=u>>2,S=(u&3)<<4|m>>4;let A=(m&15)<<2|y>>6,D=y&63;g||(D=64,f||(A=64)),s.push(r[E],r[S],r[A],r[D])}return s.join("")},encodeString(i,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(i):this.encodeByteArray(c0(i),t)},decodeString(i,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(i):Fb(this.decodeStringToByteArray(i,t))},decodeStringToByteArray(i,t){this.init_();const r=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<i.length;){const u=r[i.charAt(o++)],m=o<i.length?r[i.charAt(o)]:0;++o;const y=o<i.length?r[i.charAt(o)]:64;++o;const S=o<i.length?r[i.charAt(o)]:64;if(++o,u==null||m==null||y==null||S==null)throw new Gb;const A=u<<2|m>>4;if(s.push(A),y!==64){const D=m<<4&240|y>>2;if(s.push(D),S!==64){const O=y<<6&192|S;s.push(O)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class Gb extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Qb=function(i){const t=c0(i);return h0.encodeByteArray(t,!0)},bc=function(i){return Qb(i).replace(/\./g,"")},Yb=function(i){try{return h0.decodeString(i,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kb(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xb=()=>Kb().__FIREBASE_DEFAULTS__,$b=()=>{if(typeof process>"u"||typeof Mv>"u")return;const i=Mv.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},Zb=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=i&&Yb(i[1]);return t&&JSON.parse(t)},om=()=>{try{return qb()||Xb()||$b()||Zb()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},Jb=i=>{var t,r;return(r=(t=om())===null||t===void 0?void 0:t.emulatorHosts)===null||r===void 0?void 0:r[i]},Wb=i=>{const t=Jb(i);if(!t)return;const r=t.lastIndexOf(":");if(r<=0||r+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(r+1),10);return t[0]==="["?[t.substring(1,r-1),s]:[t.substring(0,r),s]},f0=()=>{var i;return(i=om())===null||i===void 0?void 0:i.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,r)=>{this.resolve=t,this.reject=r})}wrapCallback(t){return(r,s)=>{r?this.reject(r):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(r):t(r,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eR(i,t){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},s=t||"demo-project",o=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},i);return[bc(JSON.stringify(r)),bc(JSON.stringify(f)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nR(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function rR(){var i;const t=(i=om())===null||i===void 0?void 0:i.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function iR(){return!rR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function aR(){try{return typeof indexedDB=="object"}catch{return!1}}function sR(){return new Promise((i,t)=>{try{let r=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),r||self.indexedDB.deleteDatabase(s),i(!0)},o.onupgradeneeded=()=>{r=!1},o.onerror=()=>{var u;t(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(r){t(r)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lR="FirebaseError";class il extends Error{constructor(t,r,s){super(r),this.code=t,this.customData=s,this.name=lR,Object.setPrototypeOf(this,il.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,d0.prototype.create)}}class d0{constructor(t,r,s){this.service=t,this.serviceName=r,this.errors=s}create(t,...r){const s=r[0]||{},o=`${this.service}/${t}`,u=this.errors[t],f=u?oR(u,s):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new il(o,m,s)}}function oR(i,t){return i.replace(uR,(r,s)=>{const o=t[s];return o!=null?String(o):`<${s}?>`})}const uR=/\{\$([^}]+)}/g;function Rc(i,t){if(i===t)return!0;const r=Object.keys(i),s=Object.keys(t);for(const o of r){if(!s.includes(o))return!1;const u=i[o],f=t[o];if(Nv(u)&&Nv(f)){if(!Rc(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!r.includes(o))return!1;return!0}function Nv(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oa(i){return i&&i._delegate?i._delegate:i}class wo{constructor(t,r,s){this.name=t,this.instanceFactory=r,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cR{constructor(t,r){this.name=t,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const r=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(r)){const s=new tR;if(this.instancesDeferred.set(r,s),this.isInitialized(r)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:r});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(t){var r;const s=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),o=(r=t==null?void 0:t.optional)!==null&&r!==void 0?r:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(fR(t))try{this.getOrInitializeService({instanceIdentifier:Qa})}catch{}for(const[r,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(r);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(t=Qa){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...t.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Qa){return this.instances.has(t)}getOptions(t=Qa){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:r={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:r});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&f.resolve(o)}return o}onInit(t,r){var s;const o=this.normalizeInstanceIdentifier(r),u=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;u.add(t),this.onInitCallbacks.set(o,u);const f=this.instances.get(o);return f&&t(f,o),()=>{u.delete(t)}}invokeOnInitCallbacks(t,r){const s=this.onInitCallbacks.get(r);if(s)for(const o of s)try{o(t,r)}catch{}}getOrInitializeService({instanceIdentifier:t,options:r={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:hR(t),options:r}),this.instances.set(t,s),this.instancesOptions.set(t,r),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=Qa){return this.component?this.component.multipleInstances?t:Qa:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function hR(i){return i===Qa?void 0:i}function fR(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dR{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const r=this.getProvider(t.name);if(r.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);r.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const r=new cR(t,this);return this.providers.set(t,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ae;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(ae||(ae={}));const mR={debug:ae.DEBUG,verbose:ae.VERBOSE,info:ae.INFO,warn:ae.WARN,error:ae.ERROR,silent:ae.SILENT},gR=ae.INFO,pR={[ae.DEBUG]:"log",[ae.VERBOSE]:"log",[ae.INFO]:"info",[ae.WARN]:"warn",[ae.ERROR]:"error"},yR=(i,t,...r)=>{if(t<i.logLevel)return;const s=new Date().toISOString(),o=pR[t];if(o)console[o](`[${s}]  ${i.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class m0{constructor(t){this.name=t,this._logLevel=gR,this._logHandler=yR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in ae))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?mR[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,ae.DEBUG,...t),this._logHandler(this,ae.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,ae.VERBOSE,...t),this._logHandler(this,ae.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,ae.INFO,...t),this._logHandler(this,ae.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,ae.WARN,...t),this._logHandler(this,ae.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,ae.ERROR,...t),this._logHandler(this,ae.ERROR,...t)}}const vR=(i,t)=>t.some(r=>i instanceof r);let Vv,Ov;function _R(){return Vv||(Vv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function ER(){return Ov||(Ov=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const g0=new WeakMap,Rd=new WeakMap,p0=new WeakMap,dd=new WeakMap,um=new WeakMap;function TR(i){const t=new Promise((r,s)=>{const o=()=>{i.removeEventListener("success",u),i.removeEventListener("error",f)},u=()=>{r(na(i.result)),o()},f=()=>{s(i.error),o()};i.addEventListener("success",u),i.addEventListener("error",f)});return t.then(r=>{r instanceof IDBCursor&&g0.set(r,i)}).catch(()=>{}),um.set(t,i),t}function SR(i){if(Rd.has(i))return;const t=new Promise((r,s)=>{const o=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",f),i.removeEventListener("abort",f)},u=()=>{r(),o()},f=()=>{s(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",u),i.addEventListener("error",f),i.addEventListener("abort",f)});Rd.set(i,t)}let wd={get(i,t,r){if(i instanceof IDBTransaction){if(t==="done")return Rd.get(i);if(t==="objectStoreNames")return i.objectStoreNames||p0.get(i);if(t==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return na(i[t])},set(i,t,r){return i[t]=r,!0},has(i,t){return i instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in i}};function AR(i){wd=i(wd)}function bR(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...r){const s=i.call(md(this),t,...r);return p0.set(s,t.sort?t.sort():[t]),na(s)}:ER().includes(i)?function(...t){return i.apply(md(this),t),na(g0.get(this))}:function(...t){return na(i.apply(md(this),t))}}function RR(i){return typeof i=="function"?bR(i):(i instanceof IDBTransaction&&SR(i),vR(i,_R())?new Proxy(i,wd):i)}function na(i){if(i instanceof IDBRequest)return TR(i);if(dd.has(i))return dd.get(i);const t=RR(i);return t!==i&&(dd.set(i,t),um.set(t,i)),t}const md=i=>um.get(i);function wR(i,t,{blocked:r,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(i,t),m=na(f);return s&&f.addEventListener("upgradeneeded",g=>{s(na(f.result),g.oldVersion,g.newVersion,na(f.transaction),g)}),r&&f.addEventListener("blocked",g=>r(g.oldVersion,g.newVersion,g)),m.then(g=>{u&&g.addEventListener("close",()=>u()),o&&g.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),m}const CR=["get","getKey","getAll","getAllKeys","count"],DR=["put","add","delete","clear"],gd=new Map;function Lv(i,t){if(!(i instanceof IDBDatabase&&!(t in i)&&typeof t=="string"))return;if(gd.get(t))return gd.get(t);const r=t.replace(/FromIndex$/,""),s=t!==r,o=DR.includes(r);if(!(r in(s?IDBIndex:IDBObjectStore).prototype)||!(o||CR.includes(r)))return;const u=async function(f,...m){const g=this.transaction(f,o?"readwrite":"readonly");let y=g.store;return s&&(y=y.index(m.shift())),(await Promise.all([y[r](...m),o&&g.done]))[0]};return gd.set(t,u),u}AR(i=>({...i,get:(t,r,s)=>Lv(t,r)||i.get(t,r,s),has:(t,r)=>!!Lv(t,r)||i.has(t,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xR{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(IR(r)){const s=r.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(r=>r).join(" ")}}function IR(i){const t=i.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Cd="@firebase/app",Uv="0.11.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _i=new m0("@firebase/app"),MR="@firebase/app-compat",NR="@firebase/analytics-compat",VR="@firebase/analytics",OR="@firebase/app-check-compat",LR="@firebase/app-check",UR="@firebase/auth",PR="@firebase/auth-compat",zR="@firebase/database",BR="@firebase/data-connect",kR="@firebase/database-compat",jR="@firebase/functions",HR="@firebase/functions-compat",qR="@firebase/installations",FR="@firebase/installations-compat",GR="@firebase/messaging",QR="@firebase/messaging-compat",YR="@firebase/performance",KR="@firebase/performance-compat",XR="@firebase/remote-config",$R="@firebase/remote-config-compat",ZR="@firebase/storage",JR="@firebase/storage-compat",WR="@firebase/firestore",t1="@firebase/vertexai",e1="@firebase/firestore-compat",n1="firebase",r1="11.6.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dd="[DEFAULT]",i1={[Cd]:"fire-core",[MR]:"fire-core-compat",[VR]:"fire-analytics",[NR]:"fire-analytics-compat",[LR]:"fire-app-check",[OR]:"fire-app-check-compat",[UR]:"fire-auth",[PR]:"fire-auth-compat",[zR]:"fire-rtdb",[BR]:"fire-data-connect",[kR]:"fire-rtdb-compat",[jR]:"fire-fn",[HR]:"fire-fn-compat",[qR]:"fire-iid",[FR]:"fire-iid-compat",[GR]:"fire-fcm",[QR]:"fire-fcm-compat",[YR]:"fire-perf",[KR]:"fire-perf-compat",[XR]:"fire-rc",[$R]:"fire-rc-compat",[ZR]:"fire-gcs",[JR]:"fire-gcs-compat",[WR]:"fire-fst",[e1]:"fire-fst-compat",[t1]:"fire-vertex","fire-js":"fire-js",[n1]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wc=new Map,a1=new Map,xd=new Map;function Pv(i,t){try{i.container.addComponent(t)}catch(r){_i.debug(`Component ${t.name} failed to register with FirebaseApp ${i.name}`,r)}}function Cc(i){const t=i.name;if(xd.has(t))return _i.debug(`There were multiple attempts to register component ${t}.`),!1;xd.set(t,i);for(const r of wc.values())Pv(r,i);for(const r of a1.values())Pv(r,i);return!0}function s1(i,t){const r=i.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),i.container.getProvider(t)}function l1(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ra=new d0("app","Firebase",o1);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u1{constructor(t,r,s){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},r),this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new wo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw ra.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c1=r1;function y0(i,t={}){let r=i;typeof t!="object"&&(t={name:t});const s=Object.assign({name:Dd,automaticDataCollectionEnabled:!1},t),o=s.name;if(typeof o!="string"||!o)throw ra.create("bad-app-name",{appName:String(o)});if(r||(r=f0()),!r)throw ra.create("no-options");const u=wc.get(o);if(u){if(Rc(r,u.options)&&Rc(s,u.config))return u;throw ra.create("duplicate-app",{appName:o})}const f=new dR(o);for(const g of xd.values())f.addComponent(g);const m=new u1(r,s,f);return wc.set(o,m),m}function h1(i=Dd){const t=wc.get(i);if(!t&&i===Dd&&f0())return y0();if(!t)throw ra.create("no-app",{appName:i});return t}function Xs(i,t,r){var s;let o=(s=i1[i])!==null&&s!==void 0?s:i;r&&(o+=`-${r}`);const u=o.match(/\s|\//),f=t.match(/\s|\//);if(u||f){const m=[`Unable to register library "${o}" with version "${t}":`];u&&m.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&f&&m.push("and"),f&&m.push(`version name "${t}" contains illegal characters (whitespace or "/")`),_i.warn(m.join(" "));return}Cc(new wo(`${o}-version`,()=>({library:o,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f1="firebase-heartbeat-database",d1=1,Co="firebase-heartbeat-store";let pd=null;function v0(){return pd||(pd=wR(f1,d1,{upgrade:(i,t)=>{switch(t){case 0:try{i.createObjectStore(Co)}catch(r){console.warn(r)}}}}).catch(i=>{throw ra.create("idb-open",{originalErrorMessage:i.message})})),pd}async function m1(i){try{const r=(await v0()).transaction(Co),s=await r.objectStore(Co).get(_0(i));return await r.done,s}catch(t){if(t instanceof il)_i.warn(t.message);else{const r=ra.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});_i.warn(r.message)}}}async function zv(i,t){try{const s=(await v0()).transaction(Co,"readwrite");await s.objectStore(Co).put(t,_0(i)),await s.done}catch(r){if(r instanceof il)_i.warn(r.message);else{const s=ra.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});_i.warn(s.message)}}}function _0(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g1=1024,p1=30;class y1{constructor(t){this.container=t,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new _1(r),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var t,r;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=Bv();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(f=>f.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>p1){const f=E1(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){_i.warn(s)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=Bv(),{heartbeatsToSend:s,unsentEntries:o}=v1(this._heartbeatsCache.heartbeats),u=bc(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=r,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(r){return _i.warn(r),""}}}function Bv(){return new Date().toISOString().substring(0,10)}function v1(i,t=g1){const r=[];let s=i.slice();for(const o of i){const u=r.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),kv(r)>t){u.dates.pop();break}}else if(r.push({agent:o.agent,dates:[o.date]}),kv(r)>t){r.pop();break}s=s.slice(1)}return{heartbeatsToSend:r,unsentEntries:s}}class _1{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return aR()?sR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await m1(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var r;if(await this._canUseIndexedDBPromise){const o=await this.read();return zv(this.app,{lastSentHeartbeatDate:(r=t.lastSentHeartbeatDate)!==null&&r!==void 0?r:o.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var r;if(await this._canUseIndexedDBPromise){const o=await this.read();return zv(this.app,{lastSentHeartbeatDate:(r=t.lastSentHeartbeatDate)!==null&&r!==void 0?r:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...t.heartbeats]})}else return}}function kv(i){return bc(JSON.stringify({version:2,heartbeats:i})).length}function E1(i){if(i.length===0)return-1;let t=0,r=i[0].date;for(let s=1;s<i.length;s++)i[s].date<r&&(r=i[s].date,t=s);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T1(i){Cc(new wo("platform-logger",t=>new xR(t),"PRIVATE")),Cc(new wo("heartbeat",t=>new y1(t),"PRIVATE")),Xs(Cd,Uv,i),Xs(Cd,Uv,"esm2017"),Xs("fire-js","")}T1("");var jv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ia,E0;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(N,R){function w(){}w.prototype=R.prototype,N.D=R.prototype,N.prototype=new w,N.prototype.constructor=N,N.C=function(V,U,P){for(var C=Array(arguments.length-2),jt=2;jt<arguments.length;jt++)C[jt-2]=arguments[jt];return R.prototype[U].apply(V,C)}}function r(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(s,r),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(N,R,w){w||(w=0);var V=Array(16);if(typeof R=="string")for(var U=0;16>U;++U)V[U]=R.charCodeAt(w++)|R.charCodeAt(w++)<<8|R.charCodeAt(w++)<<16|R.charCodeAt(w++)<<24;else for(U=0;16>U;++U)V[U]=R[w++]|R[w++]<<8|R[w++]<<16|R[w++]<<24;R=N.g[0],w=N.g[1],U=N.g[2];var P=N.g[3],C=R+(P^w&(U^P))+V[0]+3614090360&4294967295;R=w+(C<<7&4294967295|C>>>25),C=P+(U^R&(w^U))+V[1]+3905402710&4294967295,P=R+(C<<12&4294967295|C>>>20),C=U+(w^P&(R^w))+V[2]+606105819&4294967295,U=P+(C<<17&4294967295|C>>>15),C=w+(R^U&(P^R))+V[3]+3250441966&4294967295,w=U+(C<<22&4294967295|C>>>10),C=R+(P^w&(U^P))+V[4]+4118548399&4294967295,R=w+(C<<7&4294967295|C>>>25),C=P+(U^R&(w^U))+V[5]+1200080426&4294967295,P=R+(C<<12&4294967295|C>>>20),C=U+(w^P&(R^w))+V[6]+2821735955&4294967295,U=P+(C<<17&4294967295|C>>>15),C=w+(R^U&(P^R))+V[7]+4249261313&4294967295,w=U+(C<<22&4294967295|C>>>10),C=R+(P^w&(U^P))+V[8]+1770035416&4294967295,R=w+(C<<7&4294967295|C>>>25),C=P+(U^R&(w^U))+V[9]+2336552879&4294967295,P=R+(C<<12&4294967295|C>>>20),C=U+(w^P&(R^w))+V[10]+4294925233&4294967295,U=P+(C<<17&4294967295|C>>>15),C=w+(R^U&(P^R))+V[11]+2304563134&4294967295,w=U+(C<<22&4294967295|C>>>10),C=R+(P^w&(U^P))+V[12]+1804603682&4294967295,R=w+(C<<7&4294967295|C>>>25),C=P+(U^R&(w^U))+V[13]+4254626195&4294967295,P=R+(C<<12&4294967295|C>>>20),C=U+(w^P&(R^w))+V[14]+2792965006&4294967295,U=P+(C<<17&4294967295|C>>>15),C=w+(R^U&(P^R))+V[15]+1236535329&4294967295,w=U+(C<<22&4294967295|C>>>10),C=R+(U^P&(w^U))+V[1]+4129170786&4294967295,R=w+(C<<5&4294967295|C>>>27),C=P+(w^U&(R^w))+V[6]+3225465664&4294967295,P=R+(C<<9&4294967295|C>>>23),C=U+(R^w&(P^R))+V[11]+643717713&4294967295,U=P+(C<<14&4294967295|C>>>18),C=w+(P^R&(U^P))+V[0]+3921069994&4294967295,w=U+(C<<20&4294967295|C>>>12),C=R+(U^P&(w^U))+V[5]+3593408605&4294967295,R=w+(C<<5&4294967295|C>>>27),C=P+(w^U&(R^w))+V[10]+38016083&4294967295,P=R+(C<<9&4294967295|C>>>23),C=U+(R^w&(P^R))+V[15]+3634488961&4294967295,U=P+(C<<14&4294967295|C>>>18),C=w+(P^R&(U^P))+V[4]+3889429448&4294967295,w=U+(C<<20&4294967295|C>>>12),C=R+(U^P&(w^U))+V[9]+568446438&4294967295,R=w+(C<<5&4294967295|C>>>27),C=P+(w^U&(R^w))+V[14]+3275163606&4294967295,P=R+(C<<9&4294967295|C>>>23),C=U+(R^w&(P^R))+V[3]+4107603335&4294967295,U=P+(C<<14&4294967295|C>>>18),C=w+(P^R&(U^P))+V[8]+1163531501&4294967295,w=U+(C<<20&4294967295|C>>>12),C=R+(U^P&(w^U))+V[13]+2850285829&4294967295,R=w+(C<<5&4294967295|C>>>27),C=P+(w^U&(R^w))+V[2]+4243563512&4294967295,P=R+(C<<9&4294967295|C>>>23),C=U+(R^w&(P^R))+V[7]+1735328473&4294967295,U=P+(C<<14&4294967295|C>>>18),C=w+(P^R&(U^P))+V[12]+2368359562&4294967295,w=U+(C<<20&4294967295|C>>>12),C=R+(w^U^P)+V[5]+4294588738&4294967295,R=w+(C<<4&4294967295|C>>>28),C=P+(R^w^U)+V[8]+2272392833&4294967295,P=R+(C<<11&4294967295|C>>>21),C=U+(P^R^w)+V[11]+1839030562&4294967295,U=P+(C<<16&4294967295|C>>>16),C=w+(U^P^R)+V[14]+4259657740&4294967295,w=U+(C<<23&4294967295|C>>>9),C=R+(w^U^P)+V[1]+2763975236&4294967295,R=w+(C<<4&4294967295|C>>>28),C=P+(R^w^U)+V[4]+1272893353&4294967295,P=R+(C<<11&4294967295|C>>>21),C=U+(P^R^w)+V[7]+4139469664&4294967295,U=P+(C<<16&4294967295|C>>>16),C=w+(U^P^R)+V[10]+3200236656&4294967295,w=U+(C<<23&4294967295|C>>>9),C=R+(w^U^P)+V[13]+681279174&4294967295,R=w+(C<<4&4294967295|C>>>28),C=P+(R^w^U)+V[0]+3936430074&4294967295,P=R+(C<<11&4294967295|C>>>21),C=U+(P^R^w)+V[3]+3572445317&4294967295,U=P+(C<<16&4294967295|C>>>16),C=w+(U^P^R)+V[6]+76029189&4294967295,w=U+(C<<23&4294967295|C>>>9),C=R+(w^U^P)+V[9]+3654602809&4294967295,R=w+(C<<4&4294967295|C>>>28),C=P+(R^w^U)+V[12]+3873151461&4294967295,P=R+(C<<11&4294967295|C>>>21),C=U+(P^R^w)+V[15]+530742520&4294967295,U=P+(C<<16&4294967295|C>>>16),C=w+(U^P^R)+V[2]+3299628645&4294967295,w=U+(C<<23&4294967295|C>>>9),C=R+(U^(w|~P))+V[0]+4096336452&4294967295,R=w+(C<<6&4294967295|C>>>26),C=P+(w^(R|~U))+V[7]+1126891415&4294967295,P=R+(C<<10&4294967295|C>>>22),C=U+(R^(P|~w))+V[14]+2878612391&4294967295,U=P+(C<<15&4294967295|C>>>17),C=w+(P^(U|~R))+V[5]+4237533241&4294967295,w=U+(C<<21&4294967295|C>>>11),C=R+(U^(w|~P))+V[12]+1700485571&4294967295,R=w+(C<<6&4294967295|C>>>26),C=P+(w^(R|~U))+V[3]+2399980690&4294967295,P=R+(C<<10&4294967295|C>>>22),C=U+(R^(P|~w))+V[10]+4293915773&4294967295,U=P+(C<<15&4294967295|C>>>17),C=w+(P^(U|~R))+V[1]+2240044497&4294967295,w=U+(C<<21&4294967295|C>>>11),C=R+(U^(w|~P))+V[8]+1873313359&4294967295,R=w+(C<<6&4294967295|C>>>26),C=P+(w^(R|~U))+V[15]+4264355552&4294967295,P=R+(C<<10&4294967295|C>>>22),C=U+(R^(P|~w))+V[6]+2734768916&4294967295,U=P+(C<<15&4294967295|C>>>17),C=w+(P^(U|~R))+V[13]+1309151649&4294967295,w=U+(C<<21&4294967295|C>>>11),C=R+(U^(w|~P))+V[4]+4149444226&4294967295,R=w+(C<<6&4294967295|C>>>26),C=P+(w^(R|~U))+V[11]+3174756917&4294967295,P=R+(C<<10&4294967295|C>>>22),C=U+(R^(P|~w))+V[2]+718787259&4294967295,U=P+(C<<15&4294967295|C>>>17),C=w+(P^(U|~R))+V[9]+3951481745&4294967295,N.g[0]=N.g[0]+R&4294967295,N.g[1]=N.g[1]+(U+(C<<21&4294967295|C>>>11))&4294967295,N.g[2]=N.g[2]+U&4294967295,N.g[3]=N.g[3]+P&4294967295}s.prototype.u=function(N,R){R===void 0&&(R=N.length);for(var w=R-this.blockSize,V=this.B,U=this.h,P=0;P<R;){if(U==0)for(;P<=w;)o(this,N,P),P+=this.blockSize;if(typeof N=="string"){for(;P<R;)if(V[U++]=N.charCodeAt(P++),U==this.blockSize){o(this,V),U=0;break}}else for(;P<R;)if(V[U++]=N[P++],U==this.blockSize){o(this,V),U=0;break}}this.h=U,this.o+=R},s.prototype.v=function(){var N=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);N[0]=128;for(var R=1;R<N.length-8;++R)N[R]=0;var w=8*this.o;for(R=N.length-8;R<N.length;++R)N[R]=w&255,w/=256;for(this.u(N),N=Array(16),R=w=0;4>R;++R)for(var V=0;32>V;V+=8)N[w++]=this.g[R]>>>V&255;return N};function u(N,R){var w=m;return Object.prototype.hasOwnProperty.call(w,N)?w[N]:w[N]=R(N)}function f(N,R){this.h=R;for(var w=[],V=!0,U=N.length-1;0<=U;U--){var P=N[U]|0;V&&P==R||(w[U]=P,V=!1)}this.g=w}var m={};function g(N){return-128<=N&&128>N?u(N,function(R){return new f([R|0],0>R?-1:0)}):new f([N|0],0>N?-1:0)}function y(N){if(isNaN(N)||!isFinite(N))return S;if(0>N)return H(y(-N));for(var R=[],w=1,V=0;N>=w;V++)R[V]=N/w|0,w*=4294967296;return new f(R,0)}function E(N,R){if(N.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(N.charAt(0)=="-")return H(E(N.substring(1),R));if(0<=N.indexOf("-"))throw Error('number format error: interior "-" character');for(var w=y(Math.pow(R,8)),V=S,U=0;U<N.length;U+=8){var P=Math.min(8,N.length-U),C=parseInt(N.substring(U,U+P),R);8>P?(P=y(Math.pow(R,P)),V=V.j(P).add(y(C))):(V=V.j(w),V=V.add(y(C)))}return V}var S=g(0),A=g(1),D=g(16777216);i=f.prototype,i.m=function(){if(J(this))return-H(this).m();for(var N=0,R=1,w=0;w<this.g.length;w++){var V=this.i(w);N+=(0<=V?V:4294967296+V)*R,R*=4294967296}return N},i.toString=function(N){if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(O(this))return"0";if(J(this))return"-"+H(this).toString(N);for(var R=y(Math.pow(N,6)),w=this,V="";;){var U=gt(w,R).g;w=k(w,U.j(R));var P=((0<w.g.length?w.g[0]:w.h)>>>0).toString(N);if(w=U,O(w))return P+V;for(;6>P.length;)P="0"+P;V=P+V}},i.i=function(N){return 0>N?0:N<this.g.length?this.g[N]:this.h};function O(N){if(N.h!=0)return!1;for(var R=0;R<N.g.length;R++)if(N.g[R]!=0)return!1;return!0}function J(N){return N.h==-1}i.l=function(N){return N=k(this,N),J(N)?-1:O(N)?0:1};function H(N){for(var R=N.g.length,w=[],V=0;V<R;V++)w[V]=~N.g[V];return new f(w,~N.h).add(A)}i.abs=function(){return J(this)?H(this):this},i.add=function(N){for(var R=Math.max(this.g.length,N.g.length),w=[],V=0,U=0;U<=R;U++){var P=V+(this.i(U)&65535)+(N.i(U)&65535),C=(P>>>16)+(this.i(U)>>>16)+(N.i(U)>>>16);V=C>>>16,P&=65535,C&=65535,w[U]=C<<16|P}return new f(w,w[w.length-1]&-2147483648?-1:0)};function k(N,R){return N.add(H(R))}i.j=function(N){if(O(this)||O(N))return S;if(J(this))return J(N)?H(this).j(H(N)):H(H(this).j(N));if(J(N))return H(this.j(H(N)));if(0>this.l(D)&&0>N.l(D))return y(this.m()*N.m());for(var R=this.g.length+N.g.length,w=[],V=0;V<2*R;V++)w[V]=0;for(V=0;V<this.g.length;V++)for(var U=0;U<N.g.length;U++){var P=this.i(V)>>>16,C=this.i(V)&65535,jt=N.i(U)>>>16,Kt=N.i(U)&65535;w[2*V+2*U]+=C*Kt,W(w,2*V+2*U),w[2*V+2*U+1]+=P*Kt,W(w,2*V+2*U+1),w[2*V+2*U+1]+=C*jt,W(w,2*V+2*U+1),w[2*V+2*U+2]+=P*jt,W(w,2*V+2*U+2)}for(V=0;V<R;V++)w[V]=w[2*V+1]<<16|w[2*V];for(V=R;V<2*R;V++)w[V]=0;return new f(w,0)};function W(N,R){for(;(N[R]&65535)!=N[R];)N[R+1]+=N[R]>>>16,N[R]&=65535,R++}function lt(N,R){this.g=N,this.h=R}function gt(N,R){if(O(R))throw Error("division by zero");if(O(N))return new lt(S,S);if(J(N))return R=gt(H(N),R),new lt(H(R.g),H(R.h));if(J(R))return R=gt(N,H(R)),new lt(H(R.g),R.h);if(30<N.g.length){if(J(N)||J(R))throw Error("slowDivide_ only works with positive integers.");for(var w=A,V=R;0>=V.l(N);)w=mt(w),V=mt(V);var U=F(w,1),P=F(V,1);for(V=F(V,2),w=F(w,2);!O(V);){var C=P.add(V);0>=C.l(N)&&(U=U.add(w),P=C),V=F(V,1),w=F(w,1)}return R=k(N,U.j(R)),new lt(U,R)}for(U=S;0<=N.l(R);){for(w=Math.max(1,Math.floor(N.m()/R.m())),V=Math.ceil(Math.log(w)/Math.LN2),V=48>=V?1:Math.pow(2,V-48),P=y(w),C=P.j(R);J(C)||0<C.l(N);)w-=V,P=y(w),C=P.j(R);O(P)&&(P=A),U=U.add(P),N=k(N,C)}return new lt(U,N)}i.A=function(N){return gt(this,N).h},i.and=function(N){for(var R=Math.max(this.g.length,N.g.length),w=[],V=0;V<R;V++)w[V]=this.i(V)&N.i(V);return new f(w,this.h&N.h)},i.or=function(N){for(var R=Math.max(this.g.length,N.g.length),w=[],V=0;V<R;V++)w[V]=this.i(V)|N.i(V);return new f(w,this.h|N.h)},i.xor=function(N){for(var R=Math.max(this.g.length,N.g.length),w=[],V=0;V<R;V++)w[V]=this.i(V)^N.i(V);return new f(w,this.h^N.h)};function mt(N){for(var R=N.g.length+1,w=[],V=0;V<R;V++)w[V]=N.i(V)<<1|N.i(V-1)>>>31;return new f(w,N.h)}function F(N,R){var w=R>>5;R%=32;for(var V=N.g.length-w,U=[],P=0;P<V;P++)U[P]=0<R?N.i(P+w)>>>R|N.i(P+w+1)<<32-R:N.i(P+w);return new f(U,N.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,E0=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=y,f.fromString=E,ia=f}).apply(typeof jv<"u"?jv:typeof self<"u"?self:typeof window<"u"?window:{});var ac=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var T0,po,S0,mc,Id,A0,b0,R0;(function(){var i,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,p,v){return c==Array.prototype||c==Object.prototype||(c[p]=v.value),c};function r(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof ac=="object"&&ac];for(var p=0;p<c.length;++p){var v=c[p];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=r(this);function o(c,p){if(p)t:{var v=s;c=c.split(".");for(var b=0;b<c.length-1;b++){var j=c[b];if(!(j in v))break t;v=v[j]}c=c[c.length-1],b=v[c],p=p(b),p!=b&&p!=null&&t(v,c,{configurable:!0,writable:!0,value:p})}}function u(c,p){c instanceof String&&(c+="");var v=0,b=!1,j={next:function(){if(!b&&v<c.length){var Z=v++;return{value:p(Z,c[Z]),done:!1}}return b=!0,{done:!0,value:void 0}}};return j[Symbol.iterator]=function(){return j},j}o("Array.prototype.values",function(c){return c||function(){return u(this,function(p,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},m=this||self;function g(c){var p=typeof c;return p=p!="object"?p:c?Array.isArray(c)?"array":p:"null",p=="array"||p=="object"&&typeof c.length=="number"}function y(c){var p=typeof c;return p=="object"&&c!=null||p=="function"}function E(c,p,v){return c.call.apply(c.bind,arguments)}function S(c,p,v){if(!c)throw Error();if(2<arguments.length){var b=Array.prototype.slice.call(arguments,2);return function(){var j=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(j,b),c.apply(p,j)}}return function(){return c.apply(p,arguments)}}function A(c,p,v){return A=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:S,A.apply(null,arguments)}function D(c,p){var v=Array.prototype.slice.call(arguments,1);return function(){var b=v.slice();return b.push.apply(b,arguments),c.apply(this,b)}}function O(c,p){function v(){}v.prototype=p.prototype,c.aa=p.prototype,c.prototype=new v,c.prototype.constructor=c,c.Qb=function(b,j,Z){for(var ft=Array(arguments.length-2),ee=2;ee<arguments.length;ee++)ft[ee-2]=arguments[ee];return p.prototype[j].apply(b,ft)}}function J(c){const p=c.length;if(0<p){const v=Array(p);for(let b=0;b<p;b++)v[b]=c[b];return v}return[]}function H(c,p){for(let v=1;v<arguments.length;v++){const b=arguments[v];if(g(b)){const j=c.length||0,Z=b.length||0;c.length=j+Z;for(let ft=0;ft<Z;ft++)c[j+ft]=b[ft]}else c.push(b)}}class k{constructor(p,v){this.i=p,this.j=v,this.h=0,this.g=null}get(){let p;return 0<this.h?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function W(c){return/^[\s\xa0]*$/.test(c)}function lt(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function gt(c){return gt[" "](c),c}gt[" "]=function(){};var mt=lt().indexOf("Gecko")!=-1&&!(lt().toLowerCase().indexOf("webkit")!=-1&&lt().indexOf("Edge")==-1)&&!(lt().indexOf("Trident")!=-1||lt().indexOf("MSIE")!=-1)&&lt().indexOf("Edge")==-1;function F(c,p,v){for(const b in c)p.call(v,c[b],b,c)}function N(c,p){for(const v in c)p.call(void 0,c[v],v,c)}function R(c){const p={};for(const v in c)p[v]=c[v];return p}const w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function V(c,p){let v,b;for(let j=1;j<arguments.length;j++){b=arguments[j];for(v in b)c[v]=b[v];for(let Z=0;Z<w.length;Z++)v=w[Z],Object.prototype.hasOwnProperty.call(b,v)&&(c[v]=b[v])}}function U(c){var p=1;c=c.split(":");const v=[];for(;0<p&&c.length;)v.push(c.shift()),p--;return c.length&&v.push(c.join(":")),v}function P(c){m.setTimeout(()=>{throw c},0)}function C(){var c=Pt;let p=null;return c.g&&(p=c.g,c.g=c.g.next,c.g||(c.h=null),p.next=null),p}class jt{constructor(){this.h=this.g=null}add(p,v){const b=Kt.get();b.set(p,v),this.h?this.h.next=b:this.g=b,this.h=b}}var Kt=new k(()=>new Y,c=>c.reset());class Y{constructor(){this.next=this.g=this.h=null}set(p,v){this.h=p,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let ht,yt=!1,Pt=new jt,I=()=>{const c=m.Promise.resolve(void 0);ht=()=>{c.then(nt)}};var nt=()=>{for(var c;c=C();){try{c.h.call(c.g)}catch(v){P(v)}var p=Kt;p.j(c),100>p.h&&(p.h++,c.next=p.g,p.g=c)}yt=!1};function dt(){this.s=this.s,this.C=this.C}dt.prototype.s=!1,dt.prototype.ma=function(){this.s||(this.s=!0,this.N())},dt.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ot(c,p){this.type=c,this.g=this.target=p,this.defaultPrevented=!1}ot.prototype.h=function(){this.defaultPrevented=!0};var At=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,p=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};m.addEventListener("test",v,p),m.removeEventListener("test",v,p)}catch{}return c}();function kt(c,p){if(ot.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var v=this.type=c.type,b=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=p,p=c.relatedTarget){if(mt){t:{try{gt(p.nodeName);var j=!0;break t}catch{}j=!1}j||(p=null)}}else v=="mouseover"?p=c.fromElement:v=="mouseout"&&(p=c.toElement);this.relatedTarget=p,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:Ct[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&kt.aa.h.call(this)}}O(kt,ot);var Ct={2:"touch",3:"pen",4:"mouse"};kt.prototype.h=function(){kt.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Oe="closure_listenable_"+(1e6*Math.random()|0),ge=0;function Qn(c,p,v,b,j){this.listener=c,this.proxy=null,this.src=p,this.type=v,this.capture=!!b,this.ha=j,this.key=++ge,this.da=this.fa=!1}function Ae(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function hn(c){this.src=c,this.g={},this.h=0}hn.prototype.add=function(c,p,v,b,j){var Z=c.toString();c=this.g[Z],c||(c=this.g[Z]=[],this.h++);var ft=Kr(c,p,b,j);return-1<ft?(p=c[ft],v||(p.fa=!1)):(p=new Qn(p,this.src,Z,!!b,j),p.fa=v,c.push(p)),p};function Er(c,p){var v=p.type;if(v in c.g){var b=c.g[v],j=Array.prototype.indexOf.call(b,p,void 0),Z;(Z=0<=j)&&Array.prototype.splice.call(b,j,1),Z&&(Ae(p),c.g[v].length==0&&(delete c.g[v],c.h--))}}function Kr(c,p,v,b){for(var j=0;j<c.length;++j){var Z=c[j];if(!Z.da&&Z.listener==p&&Z.capture==!!v&&Z.ha==b)return j}return-1}var _n="closure_lm_"+(1e6*Math.random()|0),ya={};function rs(c,p,v,b,j){if(Array.isArray(p)){for(var Z=0;Z<p.length;Z++)rs(c,p[Z],v,b,j);return null}return v=Ri(v),c&&c[Oe]?c.K(p,v,y(b)?!!b.capture:!1,j):En(c,p,v,!1,b,j)}function En(c,p,v,b,j,Z){if(!p)throw Error("Invalid event type");var ft=y(j)?!!j.capture:!!j,ee=Yn(c);if(ee||(c[_n]=ee=new hn(c)),v=ee.add(p,v,b,ft,Z),v.proxy)return v;if(b=ul(),v.proxy=b,b.src=c,b.listener=v,c.addEventListener)At||(j=ft),j===void 0&&(j=!1),c.addEventListener(p.toString(),b,j);else if(c.attachEvent)c.attachEvent(Xr(p.toString()),b);else if(c.addListener&&c.removeListener)c.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return v}function ul(){function c(v){return p.call(c.src,c.listener,v)}const p=dr;return c}function va(c,p,v,b,j){if(Array.isArray(p))for(var Z=0;Z<p.length;Z++)va(c,p[Z],v,b,j);else b=y(b)?!!b.capture:!!b,v=Ri(v),c&&c[Oe]?(c=c.i,p=String(p).toString(),p in c.g&&(Z=c.g[p],v=Kr(Z,v,b,j),-1<v&&(Ae(Z[v]),Array.prototype.splice.call(Z,v,1),Z.length==0&&(delete c.g[p],c.h--)))):c&&(c=Yn(c))&&(p=c.g[p.toString()],c=-1,p&&(c=Kr(p,v,b,j)),(v=-1<c?p[c]:null)&&Ai(v))}function Ai(c){if(typeof c!="number"&&c&&!c.da){var p=c.src;if(p&&p[Oe])Er(p.i,c);else{var v=c.type,b=c.proxy;p.removeEventListener?p.removeEventListener(v,b,c.capture):p.detachEvent?p.detachEvent(Xr(v),b):p.addListener&&p.removeListener&&p.removeListener(b),(v=Yn(p))?(Er(v,c),v.h==0&&(v.src=null,p[_n]=null)):Ae(c)}}}function Xr(c){return c in ya?ya[c]:ya[c]="on"+c}function dr(c,p){if(c.da)c=!0;else{p=new kt(p,this);var v=c.listener,b=c.ha||c.src;c.fa&&Ai(c),c=v.call(b,p)}return c}function Yn(c){return c=c[_n],c instanceof hn?c:null}var bi="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ri(c){return typeof c=="function"?c:(c[bi]||(c[bi]=function(p){return c.handleEvent(p)}),c[bi])}function oe(){dt.call(this),this.i=new hn(this),this.M=this,this.F=null}O(oe,dt),oe.prototype[Oe]=!0,oe.prototype.removeEventListener=function(c,p,v,b){va(this,c,p,v,b)};function qt(c,p){var v,b=c.F;if(b)for(v=[];b;b=b.F)v.push(b);if(c=c.M,b=p.type||p,typeof p=="string")p=new ot(p,c);else if(p instanceof ot)p.target=p.target||c;else{var j=p;p=new ot(b,c),V(p,j)}if(j=!0,v)for(var Z=v.length-1;0<=Z;Z--){var ft=p.g=v[Z];j=fn(ft,b,!0,p)&&j}if(ft=p.g=c,j=fn(ft,b,!0,p)&&j,j=fn(ft,b,!1,p)&&j,v)for(Z=0;Z<v.length;Z++)ft=p.g=v[Z],j=fn(ft,b,!1,p)&&j}oe.prototype.N=function(){if(oe.aa.N.call(this),this.i){var c=this.i,p;for(p in c.g){for(var v=c.g[p],b=0;b<v.length;b++)Ae(v[b]);delete c.g[p],c.h--}}this.F=null},oe.prototype.K=function(c,p,v,b){return this.i.add(String(c),p,!1,v,b)},oe.prototype.L=function(c,p,v,b){return this.i.add(String(c),p,!0,v,b)};function fn(c,p,v,b){if(p=c.i.g[String(p)],!p)return!0;p=p.concat();for(var j=!0,Z=0;Z<p.length;++Z){var ft=p[Z];if(ft&&!ft.da&&ft.capture==v){var ee=ft.listener,He=ft.ha||ft.src;ft.fa&&Er(c.i,ft),j=ee.call(He,b)!==!1&&j}}return j&&!b.defaultPrevented}function Le(c,p,v){if(typeof c=="function")v&&(c=A(c,v));else if(c&&typeof c.handleEvent=="function")c=A(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(p)?-1:m.setTimeout(c,p||0)}function is(c){c.g=Le(()=>{c.g=null,c.i&&(c.i=!1,is(c))},c.l);const p=c.h;c.h=null,c.m.apply(null,p)}class Kn extends dt{constructor(p,v){super(),this.m=p,this.l=v,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:is(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Tr(c){dt.call(this),this.h=c,this.g={}}O(Tr,dt);var Sr=[];function Ar(c){F(c.g,function(p,v){this.g.hasOwnProperty(v)&&Ai(p)},c),c.g={}}Tr.prototype.N=function(){Tr.aa.N.call(this),Ar(this)},Tr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Nn=m.JSON.stringify,$r=m.JSON.parse,Xn=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function wi(){}wi.prototype.h=null;function Zr(c){return c.h||(c.h=c.i())}function _a(){}var $n={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function mr(){ot.call(this,"d")}O(mr,ot);function Ci(){ot.call(this,"c")}O(Ci,ot);var Tn={},br=null;function Rr(){return br=br||new oe}Tn.La="serverreachability";function Di(c){ot.call(this,Tn.La,c)}O(Di,ot);function M(c){const p=Rr();qt(p,new Di(p))}Tn.STAT_EVENT="statevent";function B(c,p){ot.call(this,Tn.STAT_EVENT,c),this.stat=p}O(B,ot);function G(c){const p=Rr();qt(p,new B(p,c))}Tn.Ma="timingevent";function rt(c,p){ot.call(this,Tn.Ma,c),this.size=p}O(rt,ot);function ct(c,p){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},p)}function vt(){this.g=!0}vt.prototype.xa=function(){this.g=!1};function Dt(c,p,v,b,j,Z){c.info(function(){if(c.g)if(Z)for(var ft="",ee=Z.split("&"),He=0;He<ee.length;He++){var ne=ee[He].split("=");if(1<ne.length){var $e=ne[0];ne=ne[1];var qe=$e.split("_");ft=2<=qe.length&&qe[1]=="type"?ft+($e+"="+ne+"&"):ft+($e+"=redacted&")}}else ft=null;else ft=Z;return"XMLHTTP REQ ("+b+") [attempt "+j+"]: "+p+`
`+v+`
`+ft})}function _t(c,p,v,b,j,Z,ft){c.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+j+"]: "+p+`
`+v+`
`+Z+" "+ft})}function Tt(c,p,v,b){c.info(function(){return"XMLHTTP TEXT ("+p+"): "+It(c,v)+(b?" "+b:"")})}function bt(c,p){c.info(function(){return"TIMEOUT: "+p})}vt.prototype.info=function(){};function It(c,p){if(!c.g)return p;if(!p)return null;try{var v=JSON.parse(p);if(v){for(c=0;c<v.length;c++)if(Array.isArray(v[c])){var b=v[c];if(!(2>b.length)){var j=b[1];if(Array.isArray(j)&&!(1>j.length)){var Z=j[0];if(Z!="noop"&&Z!="stop"&&Z!="close")for(var ft=1;ft<j.length;ft++)j[ft]=""}}}}return Nn(v)}catch{return p}}var St={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Nt={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Xt;function ce(){}O(ce,wi),ce.prototype.g=function(){return new XMLHttpRequest},ce.prototype.i=function(){return{}},Xt=new ce;function se(c,p,v,b){this.j=c,this.i=p,this.l=v,this.R=b||1,this.U=new Tr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new te}function te(){this.i=null,this.g="",this.h=!1}var Qt={},Zn={};function je(c,p,v){c.L=1,c.v=Sa(Ln(p)),c.m=v,c.P=!0,Sn(c,null)}function Sn(c,p){c.F=Date.now(),Vn(c),c.A=Ln(c.v);var v=c.A,b=c.R;Array.isArray(b)||(b=[String(b)]),ml(v.i,"t",b),c.C=0,v=c.j.J,c.h=new te,c.g=Wo(c.j,v?p:null,!c.m),0<c.O&&(c.M=new Kn(A(c.Y,c,c.g),c.O)),p=c.U,v=c.g,b=c.ca;var j="readystatechange";Array.isArray(j)||(j&&(Sr[0]=j.toString()),j=Sr);for(var Z=0;Z<j.length;Z++){var ft=rs(v,j[Z],b||p.handleEvent,!1,p.h||p);if(!ft)break;p.g[ft.key]=ft}p=c.H?R(c.H):{},c.m?(c.u||(c.u="POST"),p["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,p)):(c.u="GET",c.g.ea(c.A,c.u,null,p)),M(),Dt(c.i,c.u,c.A,c.l,c.R,c.m)}se.prototype.ca=function(c){c=c.target;const p=this.M;p&&nr(c)==3?p.j():this.Y(c)},se.prototype.Y=function(c){try{if(c==this.g)t:{const qe=nr(this.g);var p=this.g.Ba();const ai=this.g.Z();if(!(3>qe)&&(qe!=3||this.g&&(this.h.h||this.g.oa()||Go(this.g)))){this.J||qe!=4||p==7||(p==8||0>=ai?M(3):M(2)),dn(this);var v=this.g.Z();this.X=v;e:if(en(this)){var b=Go(this.g);c="";var j=b.length,Z=nr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ut(this),An(this);var ft="";break e}this.h.i=new m.TextDecoder}for(p=0;p<j;p++)this.h.h=!0,c+=this.h.i.decode(b[p],{stream:!(Z&&p==j-1)});b.length=0,this.h.g+=c,this.C=0,ft=this.h.g}else ft=this.g.oa();if(this.o=v==200,_t(this.i,this.u,this.A,this.l,this.R,qe,v),this.o){if(this.T&&!this.K){e:{if(this.g){var ee,He=this.g;if((ee=He.g?He.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!W(ee)){var ne=ee;break e}}ne=null}if(v=ne)Tt(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ue(this,v);else{this.o=!1,this.s=3,G(12),Ut(this),An(this);break t}}if(this.P){v=!0;let rn;for(;!this.J&&this.C<ft.length;)if(rn=wr(this,ft),rn==Zn){qe==4&&(this.s=4,G(14),v=!1),Tt(this.i,this.l,null,"[Incomplete Response]");break}else if(rn==Qt){this.s=4,G(15),Tt(this.i,this.l,ft,"[Invalid Chunk]"),v=!1;break}else Tt(this.i,this.l,rn,null),Ue(this,rn);if(en(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),qe!=4||ft.length!=0||this.h.h||(this.s=1,G(16),v=!1),this.o=this.o&&v,!v)Tt(this.i,this.l,ft,"[Invalid Chunked Response]"),Ut(this),An(this);else if(0<ft.length&&!this.W){this.W=!0;var $e=this.j;$e.g==this&&$e.ba&&!$e.M&&($e.j.info("Great, no buffering proxy detected. Bytes received: "+ft.length),Ia($e),$e.M=!0,G(11))}}else Tt(this.i,this.l,ft,null),Ue(this,ft);qe==4&&Ut(this),this.o&&!this.J&&(qe==4?$o(this.j,this):(this.o=!1,Vn(this)))}else uh(this.g),v==400&&0<ft.indexOf("Unknown SID")?(this.s=3,G(12)):(this.s=0,G(13)),Ut(this),An(this)}}}catch{}finally{}};function en(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function wr(c,p){var v=c.C,b=p.indexOf(`
`,v);return b==-1?Zn:(v=Number(p.substring(v,b)),isNaN(v)?Qt:(b+=1,b+v>p.length?Zn:(p=p.slice(b,b+v),c.C=b+v,p)))}se.prototype.cancel=function(){this.J=!0,Ut(this)};function Vn(c){c.S=Date.now()+c.I,xi(c,c.I)}function xi(c,p){if(c.B!=null)throw Error("WatchDog timer not null");c.B=ct(A(c.ba,c),p)}function dn(c){c.B&&(m.clearTimeout(c.B),c.B=null)}se.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(bt(this.i,this.A),this.L!=2&&(M(),G(17)),Ut(this),this.s=2,An(this)):xi(this,this.S-c)};function An(c){c.j.G==0||c.J||$o(c.j,c)}function Ut(c){dn(c);var p=c.M;p&&typeof p.ma=="function"&&p.ma(),c.M=null,Ar(c.U),c.g&&(p=c.g,c.g=null,p.abort(),p.ma())}function Ue(c,p){try{var v=c.j;if(v.G!=0&&(v.g==c||Jn(v.h,c))){if(!c.K&&Jn(v.h,c)&&v.G==3){try{var b=v.Da.g.parse(p)}catch{b=null}if(Array.isArray(b)&&b.length==3){var j=b;if(j[0]==0){t:if(!v.u){if(v.g)if(v.g.F+3e3<c.F)ds(v),hs(v);else break t;_l(v),G(18)}}else v.za=j[1],0<v.za-v.T&&37500>j[2]&&v.F&&v.v==0&&!v.C&&(v.C=ct(A(v.Za,v),6e3));if(1>=Ee(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else ii(v,11)}else if((c.K||v.g==c)&&ds(v),!W(p))for(j=v.Da.g.parse(p),p=0;p<j.length;p++){let ne=j[p];if(v.T=ne[0],ne=ne[1],v.G==2)if(ne[0]=="c"){v.K=ne[1],v.ia=ne[2];const $e=ne[3];$e!=null&&(v.la=$e,v.j.info("VER="+v.la));const qe=ne[4];qe!=null&&(v.Aa=qe,v.j.info("SVER="+v.Aa));const ai=ne[5];ai!=null&&typeof ai=="number"&&0<ai&&(b=1.5*ai,v.L=b,v.j.info("backChannelRequestTimeoutMs_="+b)),b=v;const rn=c.g;if(rn){const Or=rn.g?rn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Or){var Z=b.h;Z.g||Or.indexOf("spdy")==-1&&Or.indexOf("quic")==-1&&Or.indexOf("h2")==-1||(Z.j=Z.l,Z.g=new Set,Z.h&&(Jr(Z,Z.h),Z.h=null))}if(b.D){const Tl=rn.g?rn.g.getResponseHeader("X-HTTP-Session-Id"):null;Tl&&(b.ya=Tl,pe(b.I,b.D,Tl))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-c.F,v.j.info("Handshake RTT: "+v.R+"ms")),b=v;var ft=c;if(b.qa=Jo(b,b.J?b.ia:null,b.W),ft.K){nn(b.h,ft);var ee=ft,He=b.L;He&&(ee.I=He),ee.B&&(dn(ee),Vn(ee)),b.g=ft}else Ko(b);0<v.i.length&&fs(v)}else ne[0]!="stop"&&ne[0]!="close"||ii(v,7);else v.G==3&&(ne[0]=="stop"||ne[0]=="close"?ne[0]=="stop"?ii(v,7):yl(v):ne[0]!="noop"&&v.l&&v.l.ta(ne),v.v=0)}}M(4)}catch{}}var On=class{constructor(c,p){this.g=c,this.map=p}};function wn(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Cr(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Ee(c){return c.h?1:c.g?c.g.size:0}function Jn(c,p){return c.h?c.h==p:c.g?c.g.has(p):!1}function Jr(c,p){c.g?c.g.add(p):c.h=p}function nn(c,p){c.h&&c.h==p?c.h=null:c.g&&c.g.has(p)&&c.g.delete(p)}wn.prototype.cancel=function(){if(this.i=cl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function cl(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let p=c.i;for(const v of c.g.values())p=p.concat(v.D);return p}return J(c.i)}function ah(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(g(c)){for(var p=[],v=c.length,b=0;b<v;b++)p.push(c[b]);return p}p=[],v=0;for(b in c)p[v++]=c[b];return p}function as(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(g(c)||typeof c=="string"){var p=[];c=c.length;for(var v=0;v<c;v++)p.push(v);return p}p=[],v=0;for(const b in c)p[v++]=b;return p}}}function hl(c,p){if(c.forEach&&typeof c.forEach=="function")c.forEach(p,void 0);else if(g(c)||typeof c=="string")Array.prototype.forEach.call(c,p,void 0);else for(var v=as(c),b=ah(c),j=b.length,Z=0;Z<j;Z++)p.call(void 0,b[Z],v&&v[Z],c)}var Ea=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function sh(c,p){if(c){c=c.split("&");for(var v=0;v<c.length;v++){var b=c[v].indexOf("="),j=null;if(0<=b){var Z=c[v].substring(0,b);j=c[v].substring(b+1)}else Z=c[v];p(Z,j?decodeURIComponent(j.replace(/\+/g," ")):"")}}}function Pe(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Pe){this.h=c.h,Ta(this,c.j),this.o=c.o,this.g=c.g,Ii(this,c.s),this.l=c.l;var p=c.i,v=new ti;v.i=p.i,p.g&&(v.g=new Map(p.g),v.h=p.h),Wr(this,v),this.m=c.m}else c&&(p=String(c).match(Ea))?(this.h=!1,Ta(this,p[1]||"",!0),this.o=Wn(p[2]||""),this.g=Wn(p[3]||"",!0),Ii(this,p[4]),this.l=Wn(p[5]||"",!0),Wr(this,p[6]||"",!0),this.m=Wn(p[7]||"")):(this.h=!1,this.i=new ti(null,this.h))}Pe.prototype.toString=function(){var c=[],p=this.j;p&&c.push(Aa(p,fl,!0),":");var v=this.g;return(v||p=="file")&&(c.push("//"),(p=this.o)&&c.push(Aa(p,fl,!0),"@"),c.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&c.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(Aa(v,v.charAt(0)=="/"?lh:dl,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",Aa(v,ss)),c.join("")};function Ln(c){return new Pe(c)}function Ta(c,p,v){c.j=v?Wn(p,!0):p,c.j&&(c.j=c.j.replace(/:$/,""))}function Ii(c,p){if(p){if(p=Number(p),isNaN(p)||0>p)throw Error("Bad port number "+p);c.s=p}else c.s=null}function Wr(c,p,v){p instanceof ti?(c.i=p,qo(c.i,c.h)):(v||(p=Aa(p,oh)),c.i=new ti(p,c.h))}function pe(c,p,v){c.i.set(p,v)}function Sa(c){return pe(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Wn(c,p){return c?p?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Aa(c,p,v){return typeof c=="string"?(c=encodeURI(c).replace(p,Ho),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Ho(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var fl=/[#\/\?@]/g,dl=/[#\?:]/g,lh=/[#\?]/g,oh=/[#\?@]/g,ss=/#/g;function ti(c,p){this.h=this.g=null,this.i=c||null,this.j=!!p}function tr(c){c.g||(c.g=new Map,c.h=0,c.i&&sh(c.i,function(p,v){c.add(decodeURIComponent(p.replace(/\+/g," ")),v)}))}i=ti.prototype,i.add=function(c,p){tr(this),this.i=null,c=Dr(this,c);var v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(p),this.h+=1,this};function ei(c,p){tr(c),p=Dr(c,p),c.g.has(p)&&(c.i=null,c.h-=c.g.get(p).length,c.g.delete(p))}function ni(c,p){return tr(c),p=Dr(c,p),c.g.has(p)}i.forEach=function(c,p){tr(this),this.g.forEach(function(v,b){v.forEach(function(j){c.call(p,j,b,this)},this)},this)},i.na=function(){tr(this);const c=Array.from(this.g.values()),p=Array.from(this.g.keys()),v=[];for(let b=0;b<p.length;b++){const j=c[b];for(let Z=0;Z<j.length;Z++)v.push(p[b])}return v},i.V=function(c){tr(this);let p=[];if(typeof c=="string")ni(this,c)&&(p=p.concat(this.g.get(Dr(this,c))));else{c=Array.from(this.g.values());for(let v=0;v<c.length;v++)p=p.concat(c[v])}return p},i.set=function(c,p){return tr(this),this.i=null,c=Dr(this,c),ni(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[p]),this.h+=1,this},i.get=function(c,p){return c?(c=this.V(c),0<c.length?String(c[0]):p):p};function ml(c,p,v){ei(c,p),0<v.length&&(c.i=null,c.g.set(Dr(c,p),J(v)),c.h+=v.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],p=Array.from(this.g.keys());for(var v=0;v<p.length;v++){var b=p[v];const Z=encodeURIComponent(String(b)),ft=this.V(b);for(b=0;b<ft.length;b++){var j=Z;ft[b]!==""&&(j+="="+encodeURIComponent(String(ft[b]))),c.push(j)}}return this.i=c.join("&")};function Dr(c,p){return p=String(p),c.j&&(p=p.toLowerCase()),p}function qo(c,p){p&&!c.j&&(tr(c),c.i=null,c.g.forEach(function(v,b){var j=b.toLowerCase();b!=j&&(ei(this,b),ml(this,j,v))},c)),c.j=p}function ba(c,p){const v=new vt;if(m.Image){const b=new Image;b.onload=D(er,v,"TestLoadImage: loaded",!0,p,b),b.onerror=D(er,v,"TestLoadImage: error",!1,p,b),b.onabort=D(er,v,"TestLoadImage: abort",!1,p,b),b.ontimeout=D(er,v,"TestLoadImage: timeout",!1,p,b),m.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=c}else p(!1)}function gr(c,p){const v=new vt,b=new AbortController,j=setTimeout(()=>{b.abort(),er(v,"TestPingServer: timeout",!1,p)},1e4);fetch(c,{signal:b.signal}).then(Z=>{clearTimeout(j),Z.ok?er(v,"TestPingServer: ok",!0,p):er(v,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(j),er(v,"TestPingServer: error",!1,p)})}function er(c,p,v,b,j){try{j&&(j.onload=null,j.onerror=null,j.onabort=null,j.ontimeout=null),b(v)}catch{}}function Ra(){this.g=new Xn}function xr(c,p,v){const b=v||"";try{hl(c,function(j,Z){let ft=j;y(j)&&(ft=Nn(j)),p.push(b+Z+"="+encodeURIComponent(ft))})}catch(j){throw p.push(b+"type="+encodeURIComponent("_badmap")),j}}function Mi(c){this.l=c.Ub||null,this.j=c.eb||!1}O(Mi,wi),Mi.prototype.g=function(){return new ri(this.l,this.j)},Mi.prototype.i=function(c){return function(){return c}}({});function ri(c,p){oe.call(this),this.D=c,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}O(ri,oe),i=ri.prototype,i.open=function(c,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=p,this.readyState=1,Mr(this)},i.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const p={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(p.body=c),(this.D||m).fetch(new Request(this.A,p)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ir(this)),this.readyState=0},i.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Mr(this)),this.g&&(this.readyState=3,Mr(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;gl(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function gl(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}i.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var p=c.value?c.value:new Uint8Array(0);(p=this.v.decode(p,{stream:!c.done}))&&(this.response=this.responseText+=p)}c.done?Ir(this):Mr(this),this.readyState==3&&gl(this)}},i.Ra=function(c){this.g&&(this.response=this.responseText=c,Ir(this))},i.Qa=function(c){this.g&&(this.response=c,Ir(this))},i.ga=function(){this.g&&Ir(this)};function Ir(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Mr(c)}i.setRequestHeader=function(c,p){this.u.append(c,p)},i.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],p=this.h.entries();for(var v=p.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=p.next();return c.join(`\r
`)};function Mr(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(ri.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function pl(c){let p="";return F(c,function(v,b){p+=b,p+=":",p+=v,p+=`\r
`}),p}function Xe(c,p,v){t:{for(b in v){var b=!1;break t}b=!0}b||(v=pl(v),typeof c=="string"?v!=null&&encodeURIComponent(String(v)):pe(c,p,v))}function he(c){oe.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}O(he,oe);var ls=/^https?$/i,wa=["POST","PUT"];i=he.prototype,i.Ha=function(c){this.J=c},i.ea=function(c,p,v,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);p=p?p.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Xt.g(),this.v=this.o?Zr(this.o):Zr(Xt),this.g.onreadystatechange=A(this.Ea,this);try{this.B=!0,this.g.open(p,String(c),!0),this.B=!1}catch(Z){Fo(this,Z);return}if(c=v||"",v=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var j in b)v.set(j,b[j]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const Z of b.keys())v.set(Z,b.get(Z));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(v.keys()).find(Z=>Z.toLowerCase()=="content-type"),j=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call(wa,p,void 0))||b||j||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Z,ft]of v)this.g.setRequestHeader(Z,ft);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ca(this),this.u=!0,this.g.send(c),this.u=!1}catch(Z){Fo(this,Z)}};function Fo(c,p){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=p,c.m=5,os(c),Nr(c)}function os(c){c.A||(c.A=!0,qt(c,"complete"),qt(c,"error"))}i.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,qt(this,"complete"),qt(this,"abort"),Nr(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Nr(this,!0)),he.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?us(this):this.bb())},i.bb=function(){us(this)};function us(c){if(c.h&&typeof f<"u"&&(!c.v[1]||nr(c)!=4||c.Z()!=2)){if(c.u&&nr(c)==4)Le(c.Ea,0,c);else if(qt(c,"readystatechange"),nr(c)==4){c.h=!1;try{const ft=c.Z();t:switch(ft){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break t;default:p=!1}var v;if(!(v=p)){var b;if(b=ft===0){var j=String(c.D).match(Ea)[1]||null;!j&&m.self&&m.self.location&&(j=m.self.location.protocol.slice(0,-1)),b=!ls.test(j?j.toLowerCase():"")}v=b}if(v)qt(c,"complete"),qt(c,"success");else{c.m=6;try{var Z=2<nr(c)?c.g.statusText:""}catch{Z=""}c.l=Z+" ["+c.Z()+"]",os(c)}}finally{Nr(c)}}}}function Nr(c,p){if(c.g){Ca(c);const v=c.g,b=c.v[0]?()=>{}:null;c.g=null,c.v=null,p||qt(c,"ready");try{v.onreadystatechange=b}catch{}}}function Ca(c){c.I&&(m.clearTimeout(c.I),c.I=null)}i.isActive=function(){return!!this.g};function nr(c){return c.g?c.g.readyState:0}i.Z=function(){try{return 2<nr(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(c){if(this.g){var p=this.g.responseText;return c&&p.indexOf(c)==0&&(p=p.substring(c.length)),$r(p)}};function Go(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function uh(c){const p={};c=(c.g&&2<=nr(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<c.length;b++){if(W(c[b]))continue;var v=U(c[b]);const j=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const Z=p[j]||[];p[j]=Z,Z.push(v)}N(p,function(b){return b.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Da(c,p,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||p}function cs(c){this.Aa=0,this.i=[],this.j=new vt,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Da("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Da("baseRetryDelayMs",5e3,c),this.cb=Da("retryDelaySeedMs",1e4,c),this.Wa=Da("forwardChannelMaxRetries",2,c),this.wa=Da("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new wn(c&&c.concurrentRequestLimit),this.Da=new Ra,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=cs.prototype,i.la=8,i.G=1,i.connect=function(c,p,v,b){G(0),this.W=c,this.H=p||{},v&&b!==void 0&&(this.H.OSID=v,this.H.OAID=b),this.F=this.X,this.I=Jo(this,null,this.W),fs(this)};function yl(c){if(Qo(c),c.G==3){var p=c.U++,v=Ln(c.I);if(pe(v,"SID",c.K),pe(v,"RID",p),pe(v,"TYPE","terminate"),xa(c,v),p=new se(c,c.j,p),p.L=2,p.v=Sa(Ln(v)),v=!1,m.navigator&&m.navigator.sendBeacon)try{v=m.navigator.sendBeacon(p.v.toString(),"")}catch{}!v&&m.Image&&(new Image().src=p.v,v=!0),v||(p.g=Wo(p.j,null),p.g.ea(p.v)),p.F=Date.now(),Vn(p)}Zo(c)}function hs(c){c.g&&(Ia(c),c.g.cancel(),c.g=null)}function Qo(c){hs(c),c.u&&(m.clearTimeout(c.u),c.u=null),ds(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function fs(c){if(!Cr(c.h)&&!c.s){c.s=!0;var p=c.Ga;ht||I(),yt||(ht(),yt=!0),Pt.add(p,c),c.B=0}}function ch(c,p){return Ee(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=p.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=ct(A(c.Ga,c,p),El(c,c.B)),c.B++,!0)}i.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const j=new se(this,this.j,c);let Z=this.o;if(this.S&&(Z?(Z=R(Z),V(Z,this.S)):Z=this.S),this.m!==null||this.O||(j.H=Z,Z=null),this.P)t:{for(var p=0,v=0;v<this.i.length;v++){e:{var b=this.i[v];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break e}b=void 0}if(b===void 0)break;if(p+=b,4096<p){p=v;break t}if(p===4096||v===this.i.length-1){p=v+1;break t}}p=1e3}else p=1e3;p=Yo(this,j,p),v=Ln(this.I),pe(v,"RID",c),pe(v,"CVER",22),this.D&&pe(v,"X-HTTP-Session-Id",this.D),xa(this,v),Z&&(this.O?p="headers="+encodeURIComponent(String(pl(Z)))+"&"+p:this.m&&Xe(v,this.m,Z)),Jr(this.h,j),this.Ua&&pe(v,"TYPE","init"),this.P?(pe(v,"$req",p),pe(v,"SID","null"),j.T=!0,je(j,v,null)):je(j,v,p),this.G=2}}else this.G==3&&(c?vl(this,c):this.i.length==0||Cr(this.h)||vl(this))};function vl(c,p){var v;p?v=p.l:v=c.U++;const b=Ln(c.I);pe(b,"SID",c.K),pe(b,"RID",v),pe(b,"AID",c.T),xa(c,b),c.m&&c.o&&Xe(b,c.m,c.o),v=new se(c,c.j,v,c.B+1),c.m===null&&(v.H=c.o),p&&(c.i=p.D.concat(c.i)),p=Yo(c,v,1e3),v.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Jr(c.h,v),je(v,b,p)}function xa(c,p){c.H&&F(c.H,function(v,b){pe(p,b,v)}),c.l&&hl({},function(v,b){pe(p,b,v)})}function Yo(c,p,v){v=Math.min(c.i.length,v);var b=c.l?A(c.l.Na,c.l,c):null;t:{var j=c.i;let Z=-1;for(;;){const ft=["count="+v];Z==-1?0<v?(Z=j[0].g,ft.push("ofs="+Z)):Z=0:ft.push("ofs="+Z);let ee=!0;for(let He=0;He<v;He++){let ne=j[He].g;const $e=j[He].map;if(ne-=Z,0>ne)Z=Math.max(0,j[He].g-100),ee=!1;else try{xr($e,ft,"req"+ne+"_")}catch{b&&b($e)}}if(ee){b=ft.join("&");break t}}}return c=c.i.splice(0,v),p.D=c,b}function Ko(c){if(!c.g&&!c.u){c.Y=1;var p=c.Fa;ht||I(),yt||(ht(),yt=!0),Pt.add(p,c),c.v=0}}function _l(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=ct(A(c.Fa,c),El(c,c.v)),c.v++,!0)}i.Fa=function(){if(this.u=null,Xo(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=ct(A(this.ab,this),c)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,G(10),hs(this),Xo(this))};function Ia(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function Xo(c){c.g=new se(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var p=Ln(c.qa);pe(p,"RID","rpc"),pe(p,"SID",c.K),pe(p,"AID",c.T),pe(p,"CI",c.F?"0":"1"),!c.F&&c.ja&&pe(p,"TO",c.ja),pe(p,"TYPE","xmlhttp"),xa(c,p),c.m&&c.o&&Xe(p,c.m,c.o),c.L&&(c.g.I=c.L);var v=c.g;c=c.ia,v.L=1,v.v=Sa(Ln(p)),v.m=null,v.P=!0,Sn(v,c)}i.Za=function(){this.C!=null&&(this.C=null,hs(this),_l(this),G(19))};function ds(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function $o(c,p){var v=null;if(c.g==p){ds(c),Ia(c),c.g=null;var b=2}else if(Jn(c.h,p))v=p.D,nn(c.h,p),b=1;else return;if(c.G!=0){if(p.o)if(b==1){v=p.m?p.m.length:0,p=Date.now()-p.F;var j=c.B;b=Rr(),qt(b,new rt(b,v)),fs(c)}else Ko(c);else if(j=p.s,j==3||j==0&&0<p.X||!(b==1&&ch(c,p)||b==2&&_l(c)))switch(v&&0<v.length&&(p=c.h,p.i=p.i.concat(v)),j){case 1:ii(c,5);break;case 4:ii(c,10);break;case 3:ii(c,6);break;default:ii(c,2)}}}function El(c,p){let v=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(v*=2),v*p}function ii(c,p){if(c.j.info("Error code "+p),p==2){var v=A(c.fb,c),b=c.Xa;const j=!b;b=new Pe(b||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||Ta(b,"https"),Sa(b),j?ba(b.toString(),v):gr(b.toString(),v)}else G(2);c.G=0,c.l&&c.l.sa(p),Zo(c),Qo(c)}i.fb=function(c){c?(this.j.info("Successfully pinged google.com"),G(2)):(this.j.info("Failed to ping google.com"),G(1))};function Zo(c){if(c.G=0,c.ka=[],c.l){const p=cl(c.h);(p.length!=0||c.i.length!=0)&&(H(c.ka,p),H(c.ka,c.i),c.h.i.length=0,J(c.i),c.i.length=0),c.l.ra()}}function Jo(c,p,v){var b=v instanceof Pe?Ln(v):new Pe(v);if(b.g!="")p&&(b.g=p+"."+b.g),Ii(b,b.s);else{var j=m.location;b=j.protocol,p=p?p+"."+j.hostname:j.hostname,j=+j.port;var Z=new Pe(null);b&&Ta(Z,b),p&&(Z.g=p),j&&Ii(Z,j),v&&(Z.l=v),b=Z}return v=c.D,p=c.ya,v&&p&&pe(b,v,p),pe(b,"VER",c.la),xa(c,b),b}function Wo(c,p,v){if(p&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return p=c.Ca&&!c.pa?new he(new Mi({eb:v})):new he(c.pa),p.Ha(c.J),p}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function tu(){}i=tu.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function ms(){}ms.prototype.g=function(c,p){return new bn(c,p)};function bn(c,p){oe.call(this),this.g=new cs(p),this.l=c,this.h=p&&p.messageUrlParams||null,c=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(c?c["X-WebChannel-Content-Type"]=p.messageContentType:c={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.va&&(c?c["X-WebChannel-Client-Profile"]=p.va:c={"X-WebChannel-Client-Profile":p.va}),this.g.S=c,(c=p&&p.Sb)&&!W(c)&&(this.g.m=c),this.v=p&&p.supportsCrossDomainXhr||!1,this.u=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!W(p)&&(this.g.D=p,c=this.h,c!==null&&p in c&&(c=this.h,p in c&&delete c[p])),this.j=new Vr(this)}O(bn,oe),bn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},bn.prototype.close=function(){yl(this.g)},bn.prototype.o=function(c){var p=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.u&&(v={},v.__data__=Nn(c),c=v);p.i.push(new On(p.Ya++,c)),p.G==3&&fs(p)},bn.prototype.N=function(){this.g.l=null,delete this.j,yl(this.g),delete this.g,bn.aa.N.call(this)};function eu(c){mr.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var p=c.__sm__;if(p){t:{for(const v in p){c=v;break t}c=void 0}(this.i=c)&&(c=this.i,p=p!==null&&c in p?p[c]:void 0),this.data=p}else this.data=c}O(eu,mr);function nu(){Ci.call(this),this.status=1}O(nu,Ci);function Vr(c){this.g=c}O(Vr,tu),Vr.prototype.ua=function(){qt(this.g,"a")},Vr.prototype.ta=function(c){qt(this.g,new eu(c))},Vr.prototype.sa=function(c){qt(this.g,new nu)},Vr.prototype.ra=function(){qt(this.g,"b")},ms.prototype.createWebChannel=ms.prototype.g,bn.prototype.send=bn.prototype.o,bn.prototype.open=bn.prototype.m,bn.prototype.close=bn.prototype.close,R0=function(){return new ms},b0=function(){return Rr()},A0=Tn,Id={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},St.NO_ERROR=0,St.TIMEOUT=8,St.HTTP_ERROR=6,mc=St,Nt.COMPLETE="complete",S0=Nt,_a.EventType=$n,$n.OPEN="a",$n.CLOSE="b",$n.ERROR="c",$n.MESSAGE="d",oe.prototype.listen=oe.prototype.K,po=_a,he.prototype.listenOnce=he.prototype.L,he.prototype.getLastError=he.prototype.Ka,he.prototype.getLastErrorCode=he.prototype.Ba,he.prototype.getStatus=he.prototype.Z,he.prototype.getResponseJson=he.prototype.Oa,he.prototype.getResponseText=he.prototype.oa,he.prototype.send=he.prototype.ea,he.prototype.setWithCredentials=he.prototype.Ha,T0=he}).apply(typeof ac<"u"?ac:typeof self<"u"?self:typeof window<"u"?window:{});const Hv="@firebase/firestore",qv="4.7.11";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}yn.UNAUTHENTICATED=new yn(null),yn.GOOGLE_CREDENTIALS=new yn("google-credentials-uid"),yn.FIRST_PARTY=new yn("first-party-uid"),yn.MOCK_USER=new yn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let al="11.6.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $a=new m0("@firebase/firestore");function Fs(){return $a.logLevel}function pt(i,...t){if($a.logLevel<=ae.DEBUG){const r=t.map(cm);$a.debug(`Firestore (${al}): ${i}`,...r)}}function Ei(i,...t){if($a.logLevel<=ae.ERROR){const r=t.map(cm);$a.error(`Firestore (${al}): ${i}`,...r)}}function Zs(i,...t){if($a.logLevel<=ae.WARN){const r=t.map(cm);$a.warn(`Firestore (${al}): ${i}`,...r)}}function cm(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(r){return JSON.stringify(r)}(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ot(i,t,r){let s="Unexpected state";typeof t=="string"?s=t:r=t,w0(i,s,r)}function w0(i,t,r){let s=`FIRESTORE (${al}) INTERNAL ASSERTION FAILED: ${t} (ID: ${i.toString(16)})`;if(r!==void 0)try{s+=" CONTEXT: "+JSON.stringify(r)}catch{s+=" CONTEXT: "+r}throw Ei(s),new Error(s)}function fe(i,t,r,s){let o="Unexpected state";typeof r=="string"?o=r:s=r,i||w0(t,o,s)}function Bt(i,t){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ut={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class wt extends il{constructor(t,r){super(t,r),this.code=t,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aa{constructor(){this.promise=new Promise((t,r)=>{this.resolve=t,this.reject=r})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C0{constructor(t,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class S1{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,r){t.enqueueRetryable(()=>r(yn.UNAUTHENTICATED))}shutdown(){}}class A1{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,r){this.changeListener=r,t.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class b1{constructor(t){this.t=t,this.currentUser=yn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,r){fe(this.o===void 0,42304);let s=this.i;const o=g=>this.i!==s?(s=this.i,r(g)):Promise.resolve();let u=new aa;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new aa,t.enqueueRetryable(()=>o(this.currentUser))};const f=()=>{const g=u;t.enqueueRetryable(async()=>{await g.promise,await o(this.currentUser)})},m=g=>{pt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(g=>m(g)),setTimeout(()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?m(g):(pt("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new aa)}},0),f()}getToken(){const t=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(s=>this.i!==t?(pt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(fe(typeof s.accessToken=="string",31837,{l:s}),new C0(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return fe(t===null||typeof t=="string",2055,{h:t}),new yn(t)}}class R1{constructor(t,r,s){this.P=t,this.T=r,this.I=s,this.type="FirstParty",this.user=yn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class w1{constructor(t,r,s){this.P=t,this.T=r,this.I=s}getToken(){return Promise.resolve(new R1(this.P,this.T,this.I))}start(t,r){t.enqueueRetryable(()=>r(yn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Fv{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class C1{constructor(t,r){this.V=r,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,l1(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,r){fe(this.o===void 0,3512);const s=u=>{u.error!=null&&pt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,pt("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?r(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable(()=>s(u))};const o=u=>{pt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):pt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Fv(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(r=>r?(fe(typeof r.token=="string",44558,{tokenResult:r}),this.m=r.token,new Fv(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D1(i){const t=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(i);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(r);else for(let s=0;s<i;s++)r[s]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D0(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x0{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=D1(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<r&&(s+=t.charAt(o[u]%62))}return s}}function Gt(i,t){return i<t?-1:i>t?1:0}function Md(i,t){let r=0;for(;r<i.length&&r<t.length;){const s=i.codePointAt(r),o=t.codePointAt(r);if(s!==o){if(s<128&&o<128)return Gt(s,o);{const u=D0(),f=x1(u.encode(Gv(i,r)),u.encode(Gv(t,r)));return f!==0?f:Gt(s,o)}}r+=s>65535?2:1}return Gt(i.length,t.length)}function Gv(i,t){return i.codePointAt(t)>65535?i.substring(t,t+2):i.substring(t,t+1)}function x1(i,t){for(let r=0;r<i.length&&r<t.length;++r)if(i[r]!==t[r])return Gt(i[r],t[r]);return Gt(i.length,t.length)}function Js(i,t,r){return i.length===t.length&&i.every((s,o)=>r(s,t[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qv=-62135596800,Yv=1e6;class Ye{static now(){return Ye.fromMillis(Date.now())}static fromDate(t){return Ye.fromMillis(t.getTime())}static fromMillis(t){const r=Math.floor(t/1e3),s=Math.floor((t-1e3*r)*Yv);return new Ye(r,s)}constructor(t,r){if(this.seconds=t,this.nanoseconds=r,r<0)throw new wt(ut.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new wt(ut.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(t<Qv)throw new wt(ut.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new wt(ut.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Yv}_compareTo(t){return this.seconds===t.seconds?Gt(this.nanoseconds,t.nanoseconds):Gt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds-Qv;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{static fromTimestamp(t){return new zt(t)}static min(){return new zt(new Ye(0,0))}static max(){return new zt(new Ye(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kv="__name__";class kr{constructor(t,r,s){r===void 0?r=0:r>t.length&&Ot(637,{offset:r,range:t.length}),s===void 0?s=t.length-r:s>t.length-r&&Ot(1746,{length:s,range:t.length-r}),this.segments=t,this.offset=r,this.len=s}get length(){return this.len}isEqual(t){return kr.comparator(this,t)===0}child(t){const r=this.segments.slice(this.offset,this.limit());return t instanceof kr?t.forEach(s=>{r.push(s)}):r.push(t),this.construct(r)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==t.get(r))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==t.get(r))return!1;return!0}forEach(t){for(let r=this.offset,s=this.limit();r<s;r++)t(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,r){const s=Math.min(t.length,r.length);for(let o=0;o<s;o++){const u=kr.compareSegments(t.get(o),r.get(o));if(u!==0)return u}return Gt(t.length,r.length)}static compareSegments(t,r){const s=kr.isNumericId(t),o=kr.isNumericId(r);return s&&!o?-1:!s&&o?1:s&&o?kr.extractNumericId(t).compare(kr.extractNumericId(r)):Md(t,r)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return ia.fromString(t.substring(4,t.length-2))}}class Re extends kr{construct(t,r,s){return new Re(t,r,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const r=[];for(const s of t){if(s.indexOf("//")>=0)throw new wt(ut.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);r.push(...s.split("/").filter(o=>o.length>0))}return new Re(r)}static emptyPath(){return new Re([])}}const I1=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class un extends kr{construct(t,r,s){return new un(t,r,s)}static isValidIdentifier(t){return I1.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),un.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Kv}static keyField(){return new un([Kv])}static fromServerFormat(t){const r=[];let s="",o=0;const u=()=>{if(s.length===0)throw new wt(ut.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(s),s=""};let f=!1;for(;o<t.length;){const m=t[o];if(m==="\\"){if(o+1===t.length)throw new wt(ut.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const g=t[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new wt(ut.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=g,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(s+=m,o++):(u(),o++)}if(u(),f)throw new wt(ut.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new un(r)}static emptyPath(){return new un([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xt{constructor(t){this.path=t}static fromPath(t){return new xt(Re.fromString(t))}static fromName(t){return new xt(Re.fromString(t).popFirst(5))}static empty(){return new xt(Re.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Re.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,r){return Re.comparator(t.path,r.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new xt(new Re(t.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Do=-1;function M1(i,t){const r=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,o=zt.fromTimestamp(s===1e9?new Ye(r+1,0):new Ye(r,s));return new ua(o,xt.empty(),t)}function N1(i){return new ua(i.readTime,i.key,Do)}class ua{constructor(t,r,s){this.readTime=t,this.documentKey=r,this.largestBatchId=s}static min(){return new ua(zt.min(),xt.empty(),Do)}static max(){return new ua(zt.max(),xt.empty(),Do)}}function V1(i,t){let r=i.readTime.compareTo(t.readTime);return r!==0?r:(r=xt.comparator(i.documentKey,t.documentKey),r!==0?r:Gt(i.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O1="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class L1{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sl(i){if(i.code!==ut.FAILED_PRECONDITION||i.message!==O1)throw i;pt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class st{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(t){return this.next(void 0,t)}next(t,r){return this.callbackAttached&&Ot(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(t,this.result):new st((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(r,u).next(s,o)}})}toPromise(){return new Promise((t,r)=>{this.next(t,r)})}wrapUserFunction(t){try{const r=t();return r instanceof st?r:st.resolve(r)}catch(r){return st.reject(r)}}wrapSuccess(t,r){return t?this.wrapUserFunction(()=>t(r)):st.resolve(r)}wrapFailure(t,r){return t?this.wrapUserFunction(()=>t(r)):st.reject(r)}static resolve(t){return new st((r,s)=>{r(t)})}static reject(t){return new st((r,s)=>{s(t)})}static waitFor(t){return new st((r,s)=>{let o=0,u=0,f=!1;t.forEach(m=>{++o,m.next(()=>{++u,f&&u===o&&r()},g=>s(g))}),f=!0,u===o&&r()})}static or(t){let r=st.resolve(!1);for(const s of t)r=r.next(o=>o?st.resolve(o):s());return r}static forEach(t,r){const s=[];return t.forEach((o,u)=>{s.push(r.call(this,o,u))}),this.waitFor(s)}static mapArray(t,r){return new st((s,o)=>{const u=t.length,f=new Array(u);let m=0;for(let g=0;g<u;g++){const y=g;r(t[y]).next(E=>{f[y]=E,++m,m===u&&s(f)},E=>o(E))}})}static doWhile(t,r){return new st((s,o)=>{const u=()=>{t()===!0?r().next(()=>{u()},o):s()};u()})}}function U1(i){const t=i.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}function ll(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hc{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=s=>this.ue(s),this.ce=s=>r.writeSequenceNumber(s))}ue(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ce&&this.ce(t),t}}Hc.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hm=-1;function qc(i){return i==null}function Dc(i){return i===0&&1/i==-1/0}function P1(i){return typeof i=="number"&&Number.isInteger(i)&&!Dc(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I0="";function z1(i){let t="";for(let r=0;r<i.length;r++)t.length>0&&(t=Xv(t)),t=B1(i.get(r),t);return Xv(t)}function B1(i,t){let r=t;const s=i.length;for(let o=0;o<s;o++){const u=i.charAt(o);switch(u){case"\0":r+="";break;case I0:r+="";break;default:r+=u}}return r}function Xv(i){return i+I0+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $v(i){let t=0;for(const r in i)Object.prototype.hasOwnProperty.call(i,r)&&t++;return t}function ga(i,t){for(const r in i)Object.prototype.hasOwnProperty.call(i,r)&&t(r,i[r])}function M0(i){for(const t in i)if(Object.prototype.hasOwnProperty.call(i,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ce{constructor(t,r){this.comparator=t,this.root=r||on.EMPTY}insert(t,r){return new Ce(this.comparator,this.root.insert(t,r,this.comparator).copy(null,null,on.BLACK,null,null))}remove(t){return new Ce(this.comparator,this.root.remove(t,this.comparator).copy(null,null,on.BLACK,null,null))}get(t){let r=this.root;for(;!r.isEmpty();){const s=this.comparator(t,r.key);if(s===0)return r.value;s<0?r=r.left:s>0&&(r=r.right)}return null}indexOf(t){let r=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(t,s.key);if(o===0)return r+s.left.size;o<0?s=s.left:(r+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((r,s)=>(t(r,s),!1))}toString(){const t=[];return this.inorderTraversal((r,s)=>(t.push(`${r}:${s}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new sc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new sc(this.root,t,this.comparator,!1)}getReverseIterator(){return new sc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new sc(this.root,t,this.comparator,!0)}}class sc{constructor(t,r,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=r?s(t.key,r):1,r&&o&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const r={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class on{constructor(t,r,s,o,u){this.key=t,this.value=r,this.color=s??on.RED,this.left=o??on.EMPTY,this.right=u??on.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,r,s,o,u){return new on(t??this.key,r??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,r,s){let o=this;const u=s(t,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(t,r,s),null):u===0?o.copy(null,r,null,null,null):o.copy(null,null,null,null,o.right.insert(t,r,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return on.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,r){let s,o=this;if(r(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,r),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),r(t,o.key)===0){if(o.right.isEmpty())return on.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,r))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,on.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,on.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,r)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ot(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ot(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Ot(27949);return t+(this.isRed()?0:1)}}on.EMPTY=null,on.RED=!0,on.BLACK=!1;on.EMPTY=new class{constructor(){this.size=0}get key(){throw Ot(57766)}get value(){throw Ot(16141)}get color(){throw Ot(16727)}get left(){throw Ot(29726)}get right(){throw Ot(36894)}copy(t,r,s,o,u){return this}insert(t,r,s){return new on(t,r)}remove(t,r){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke{constructor(t){this.comparator=t,this.data=new Ce(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((r,s)=>(t(r),!1))}forEachInRange(t,r){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,t[1])>=0)return;r(o.key)}}forEachWhile(t,r){let s;for(s=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const r=this.data.getIteratorFrom(t);return r.hasNext()?r.getNext().key:null}getIterator(){return new Zv(this.data.getIterator())}getIteratorFrom(t){return new Zv(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let r=this;return r.size<t.size&&(r=t,t=this),t.forEach(s=>{r=r.add(s)}),r}isEqual(t){if(!(t instanceof Ke)||this.size!==t.size)return!1;const r=this.data.getIterator(),s=t.data.getIterator();for(;r.hasNext();){const o=r.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(r=>{t.push(r)}),t}toString(){const t=[];return this.forEach(r=>t.push(r)),"SortedSet("+t.toString()+")"}copy(t){const r=new Ke(this.comparator);return r.data=t,r}}class Zv{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gn{constructor(t){this.fields=t,t.sort(un.comparator)}static empty(){return new Gn([])}unionWith(t){let r=new Ke(un.comparator);for(const s of this.fields)r=r.add(s);for(const s of t)r=r.add(s);return new Gn(r.toArray())}covers(t){for(const r of this.fields)if(r.isPrefixOf(t))return!0;return!1}isEqual(t){return Js(this.fields,t.fields,(r,s)=>r.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(t){this.binaryString=t}static fromBase64String(t){const r=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new N0("Invalid base64 string: "+u):u}}(t);return new cn(r)}static fromUint8Array(t){const r=function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u}(t);return new cn(r)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(r){return btoa(r)}(this.binaryString)}toUint8Array(){return function(r){const s=new Uint8Array(r.length);for(let o=0;o<r.length;o++)s[o]=r.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Gt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}cn.EMPTY_BYTE_STRING=new cn("");const k1=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ca(i){if(fe(!!i,39018),typeof i=="string"){let t=0;const r=k1.exec(i);if(fe(!!r,46558,{timestamp:i}),r[1]){let o=r[1];o=(o+"000000000").substr(0,9),t=Number(o)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:Ne(i.seconds),nanos:Ne(i.nanos)}}function Ne(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function ha(i){return typeof i=="string"?cn.fromBase64String(i):cn.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V0="server_timestamp",O0="__type__",L0="__previous_value__",U0="__local_write_time__";function fm(i){var t,r;return((r=(((t=i==null?void 0:i.mapValue)===null||t===void 0?void 0:t.fields)||{})[O0])===null||r===void 0?void 0:r.stringValue)===V0}function Fc(i){const t=i.mapValue.fields[L0];return fm(t)?Fc(t):t}function xo(i){const t=ca(i.mapValue.fields[U0].timestampValue);return new Ye(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j1{constructor(t,r,s,o,u,f,m,g,y){this.databaseId=t,this.appId=r,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=g,this.useFetchStreams=y}}const xc="(default)";class Io{constructor(t,r){this.projectId=t,this.database=r||xc}static empty(){return new Io("","")}get isDefaultDatabase(){return this.database===xc}isEqual(t){return t instanceof Io&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P0="__type__",H1="__max__",lc={mapValue:{}},z0="__vector__",Ic="value";function fa(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?fm(i)?4:F1(i)?9007199254740991:q1(i)?10:11:Ot(28295,{value:i})}function Fr(i,t){if(i===t)return!0;const r=fa(i);if(r!==fa(t))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===t.booleanValue;case 4:return xo(i).isEqual(xo(t));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=ca(o.timestampValue),m=ca(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos}(i,t);case 5:return i.stringValue===t.stringValue;case 6:return function(o,u){return ha(o.bytesValue).isEqual(ha(u.bytesValue))}(i,t);case 7:return i.referenceValue===t.referenceValue;case 8:return function(o,u){return Ne(o.geoPointValue.latitude)===Ne(u.geoPointValue.latitude)&&Ne(o.geoPointValue.longitude)===Ne(u.geoPointValue.longitude)}(i,t);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return Ne(o.integerValue)===Ne(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=Ne(o.doubleValue),m=Ne(u.doubleValue);return f===m?Dc(f)===Dc(m):isNaN(f)&&isNaN(m)}return!1}(i,t);case 9:return Js(i.arrayValue.values||[],t.arrayValue.values||[],Fr);case 10:case 11:return function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if($v(f)!==$v(m))return!1;for(const g in f)if(f.hasOwnProperty(g)&&(m[g]===void 0||!Fr(f[g],m[g])))return!1;return!0}(i,t);default:return Ot(52216,{left:i})}}function Mo(i,t){return(i.values||[]).find(r=>Fr(r,t))!==void 0}function Ws(i,t){if(i===t)return 0;const r=fa(i),s=fa(t);if(r!==s)return Gt(r,s);switch(r){case 0:case 9007199254740991:return 0;case 1:return Gt(i.booleanValue,t.booleanValue);case 2:return function(u,f){const m=Ne(u.integerValue||u.doubleValue),g=Ne(f.integerValue||f.doubleValue);return m<g?-1:m>g?1:m===g?0:isNaN(m)?isNaN(g)?0:-1:1}(i,t);case 3:return Jv(i.timestampValue,t.timestampValue);case 4:return Jv(xo(i),xo(t));case 5:return Md(i.stringValue,t.stringValue);case 6:return function(u,f){const m=ha(u),g=ha(f);return m.compareTo(g)}(i.bytesValue,t.bytesValue);case 7:return function(u,f){const m=u.split("/"),g=f.split("/");for(let y=0;y<m.length&&y<g.length;y++){const E=Gt(m[y],g[y]);if(E!==0)return E}return Gt(m.length,g.length)}(i.referenceValue,t.referenceValue);case 8:return function(u,f){const m=Gt(Ne(u.latitude),Ne(f.latitude));return m!==0?m:Gt(Ne(u.longitude),Ne(f.longitude))}(i.geoPointValue,t.geoPointValue);case 9:return Wv(i.arrayValue,t.arrayValue);case 10:return function(u,f){var m,g,y,E;const S=u.fields||{},A=f.fields||{},D=(m=S[Ic])===null||m===void 0?void 0:m.arrayValue,O=(g=A[Ic])===null||g===void 0?void 0:g.arrayValue,J=Gt(((y=D==null?void 0:D.values)===null||y===void 0?void 0:y.length)||0,((E=O==null?void 0:O.values)===null||E===void 0?void 0:E.length)||0);return J!==0?J:Wv(D,O)}(i.mapValue,t.mapValue);case 11:return function(u,f){if(u===lc.mapValue&&f===lc.mapValue)return 0;if(u===lc.mapValue)return 1;if(f===lc.mapValue)return-1;const m=u.fields||{},g=Object.keys(m),y=f.fields||{},E=Object.keys(y);g.sort(),E.sort();for(let S=0;S<g.length&&S<E.length;++S){const A=Md(g[S],E[S]);if(A!==0)return A;const D=Ws(m[g[S]],y[E[S]]);if(D!==0)return D}return Gt(g.length,E.length)}(i.mapValue,t.mapValue);default:throw Ot(23264,{Pe:r})}}function Jv(i,t){if(typeof i=="string"&&typeof t=="string"&&i.length===t.length)return Gt(i,t);const r=ca(i),s=ca(t),o=Gt(r.seconds,s.seconds);return o!==0?o:Gt(r.nanos,s.nanos)}function Wv(i,t){const r=i.values||[],s=t.values||[];for(let o=0;o<r.length&&o<s.length;++o){const u=Ws(r[o],s[o]);if(u)return u}return Gt(r.length,s.length)}function tl(i){return Nd(i)}function Nd(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(r){const s=ca(r);return`time(${s.seconds},${s.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?function(r){return ha(r).toBase64()}(i.bytesValue):"referenceValue"in i?function(r){return xt.fromName(r).toString()}(i.referenceValue):"geoPointValue"in i?function(r){return`geo(${r.latitude},${r.longitude})`}(i.geoPointValue):"arrayValue"in i?function(r){let s="[",o=!0;for(const u of r.values||[])o?o=!1:s+=",",s+=Nd(u);return s+"]"}(i.arrayValue):"mapValue"in i?function(r){const s=Object.keys(r.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${Nd(r.fields[f])}`;return o+"}"}(i.mapValue):Ot(61005,{value:i})}function gc(i){switch(fa(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Fc(i);return t?16+gc(t):16;case 5:return 2*i.stringValue.length;case 6:return ha(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,u)=>o+gc(u),0)}(i.arrayValue);case 10:case 11:return function(s){let o=0;return ga(s.fields,(u,f)=>{o+=u.length+gc(f)}),o}(i.mapValue);default:throw Ot(13486,{value:i})}}function Vd(i){return!!i&&"integerValue"in i}function dm(i){return!!i&&"arrayValue"in i}function t_(i){return!!i&&"nullValue"in i}function e_(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function pc(i){return!!i&&"mapValue"in i}function q1(i){var t,r;return((r=(((t=i==null?void 0:i.mapValue)===null||t===void 0?void 0:t.fields)||{})[P0])===null||r===void 0?void 0:r.stringValue)===z0}function Eo(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const t={mapValue:{fields:{}}};return ga(i.mapValue.fields,(r,s)=>t.mapValue.fields[r]=Eo(s)),t}if(i.arrayValue){const t={arrayValue:{values:[]}};for(let r=0;r<(i.arrayValue.values||[]).length;++r)t.arrayValue.values[r]=Eo(i.arrayValue.values[r]);return t}return Object.assign({},i)}function F1(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===H1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn{constructor(t){this.value=t}static empty(){return new Mn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let r=this.value;for(let s=0;s<t.length-1;++s)if(r=(r.mapValue.fields||{})[t.get(s)],!pc(r))return null;return r=(r.mapValue.fields||{})[t.lastSegment()],r||null}}set(t,r){this.getFieldsMap(t.popLast())[t.lastSegment()]=Eo(r)}setAll(t){let r=un.emptyPath(),s={},o=[];t.forEach((f,m)=>{if(!r.isImmediateParentOf(m)){const g=this.getFieldsMap(r);this.applyChanges(g,s,o),s={},o=[],r=m.popLast()}f?s[m.lastSegment()]=Eo(f):o.push(m.lastSegment())});const u=this.getFieldsMap(r);this.applyChanges(u,s,o)}delete(t){const r=this.field(t.popLast());pc(r)&&r.mapValue.fields&&delete r.mapValue.fields[t.lastSegment()]}isEqual(t){return Fr(this.value,t.value)}getFieldsMap(t){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let s=0;s<t.length;++s){let o=r.mapValue.fields[t.get(s)];pc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},r.mapValue.fields[t.get(s)]=o),r=o}return r.mapValue.fields}applyChanges(t,r,s){ga(r,(o,u)=>t[o]=u);for(const o of s)delete t[o]}clone(){return new Mn(Eo(this.value))}}function B0(i){const t=[];return ga(i.fields,(r,s)=>{const o=new un([r]);if(pc(s)){const u=B0(s.mapValue).fields;if(u.length===0)t.push(o);else for(const f of u)t.push(o.child(f))}else t.push(o)}),new Gn(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vn{constructor(t,r,s,o,u,f,m){this.key=t,this.documentType=r,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(t){return new vn(t,0,zt.min(),zt.min(),zt.min(),Mn.empty(),0)}static newFoundDocument(t,r,s,o){return new vn(t,1,r,zt.min(),s,o,0)}static newNoDocument(t,r){return new vn(t,2,r,zt.min(),zt.min(),Mn.empty(),0)}static newUnknownDocument(t,r){return new vn(t,3,r,zt.min(),zt.min(),Mn.empty(),2)}convertToFoundDocument(t,r){return!this.createTime.isEqual(zt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Mn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Mn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=zt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof vn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new vn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mc{constructor(t,r){this.position=t,this.inclusive=r}}function n_(i,t,r){let s=0;for(let o=0;o<i.position.length;o++){const u=t[o],f=i.position[o];if(u.field.isKeyField()?s=xt.comparator(xt.fromName(f.referenceValue),r.key):s=Ws(f,r.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function r_(i,t){if(i===null)return t===null;if(t===null||i.inclusive!==t.inclusive||i.position.length!==t.position.length)return!1;for(let r=0;r<i.position.length;r++)if(!Fr(i.position[r],t.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nc{constructor(t,r="asc"){this.field=t,this.dir=r}}function G1(i,t){return i.dir===t.dir&&i.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k0{}class Qe extends k0{constructor(t,r,s){super(),this.field=t,this.op=r,this.value=s}static create(t,r,s){return t.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(t,r,s):new Y1(t,r,s):r==="array-contains"?new $1(t,s):r==="in"?new Z1(t,s):r==="not-in"?new J1(t,s):r==="array-contains-any"?new W1(t,s):new Qe(t,r,s)}static createKeyFieldInFilter(t,r,s){return r==="in"?new K1(t,s):new X1(t,s)}matches(t){const r=t.data.field(this.field);return this.op==="!="?r!==null&&r.nullValue===void 0&&this.matchesComparison(Ws(r,this.value)):r!==null&&fa(this.value)===fa(r)&&this.matchesComparison(Ws(r,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Ot(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Gr extends k0{constructor(t,r){super(),this.filters=t,this.op=r,this.Te=null}static create(t,r){return new Gr(t,r)}matches(t){return j0(this)?this.filters.find(r=>!r.matches(t))===void 0:this.filters.find(r=>r.matches(t))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((t,r)=>t.concat(r.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function j0(i){return i.op==="and"}function H0(i){return Q1(i)&&j0(i)}function Q1(i){for(const t of i.filters)if(t instanceof Gr)return!1;return!0}function Od(i){if(i instanceof Qe)return i.field.canonicalString()+i.op.toString()+tl(i.value);if(H0(i))return i.filters.map(t=>Od(t)).join(",");{const t=i.filters.map(r=>Od(r)).join(",");return`${i.op}(${t})`}}function q0(i,t){return i instanceof Qe?function(s,o){return o instanceof Qe&&s.op===o.op&&s.field.isEqual(o.field)&&Fr(s.value,o.value)}(i,t):i instanceof Gr?function(s,o){return o instanceof Gr&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((u,f,m)=>u&&q0(f,o.filters[m]),!0):!1}(i,t):void Ot(19439)}function F0(i){return i instanceof Qe?function(r){return`${r.field.canonicalString()} ${r.op} ${tl(r.value)}`}(i):i instanceof Gr?function(r){return r.op.toString()+" {"+r.getFilters().map(F0).join(" ,")+"}"}(i):"Filter"}class Y1 extends Qe{constructor(t,r,s){super(t,r,s),this.key=xt.fromName(s.referenceValue)}matches(t){const r=xt.comparator(t.key,this.key);return this.matchesComparison(r)}}class K1 extends Qe{constructor(t,r){super(t,"in",r),this.keys=G0("in",r)}matches(t){return this.keys.some(r=>r.isEqual(t.key))}}class X1 extends Qe{constructor(t,r){super(t,"not-in",r),this.keys=G0("not-in",r)}matches(t){return!this.keys.some(r=>r.isEqual(t.key))}}function G0(i,t){var r;return(((r=t.arrayValue)===null||r===void 0?void 0:r.values)||[]).map(s=>xt.fromName(s.referenceValue))}class $1 extends Qe{constructor(t,r){super(t,"array-contains",r)}matches(t){const r=t.data.field(this.field);return dm(r)&&Mo(r.arrayValue,this.value)}}class Z1 extends Qe{constructor(t,r){super(t,"in",r)}matches(t){const r=t.data.field(this.field);return r!==null&&Mo(this.value.arrayValue,r)}}class J1 extends Qe{constructor(t,r){super(t,"not-in",r)}matches(t){if(Mo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=t.data.field(this.field);return r!==null&&r.nullValue===void 0&&!Mo(this.value.arrayValue,r)}}class W1 extends Qe{constructor(t,r){super(t,"array-contains-any",r)}matches(t){const r=t.data.field(this.field);return!(!dm(r)||!r.arrayValue.values)&&r.arrayValue.values.some(s=>Mo(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tw{constructor(t,r=null,s=[],o=[],u=null,f=null,m=null){this.path=t,this.collectionGroup=r,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.Ie=null}}function i_(i,t=null,r=[],s=[],o=null,u=null,f=null){return new tw(i,t,r,s,o,u,f)}function mm(i){const t=Bt(i);if(t.Ie===null){let r=t.path.canonicalString();t.collectionGroup!==null&&(r+="|cg:"+t.collectionGroup),r+="|f:",r+=t.filters.map(s=>Od(s)).join(","),r+="|ob:",r+=t.orderBy.map(s=>function(u){return u.field.canonicalString()+u.dir}(s)).join(","),qc(t.limit)||(r+="|l:",r+=t.limit),t.startAt&&(r+="|lb:",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(s=>tl(s)).join(",")),t.endAt&&(r+="|ub:",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(s=>tl(s)).join(",")),t.Ie=r}return t.Ie}function gm(i,t){if(i.limit!==t.limit||i.orderBy.length!==t.orderBy.length)return!1;for(let r=0;r<i.orderBy.length;r++)if(!G1(i.orderBy[r],t.orderBy[r]))return!1;if(i.filters.length!==t.filters.length)return!1;for(let r=0;r<i.filters.length;r++)if(!q0(i.filters[r],t.filters[r]))return!1;return i.collectionGroup===t.collectionGroup&&!!i.path.isEqual(t.path)&&!!r_(i.startAt,t.startAt)&&r_(i.endAt,t.endAt)}function Ld(i){return xt.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gc{constructor(t,r=null,s=[],o=[],u=null,f="F",m=null,g=null){this.path=t,this.collectionGroup=r,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=g,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function ew(i,t,r,s,o,u,f,m){return new Gc(i,t,r,s,o,u,f,m)}function Q0(i){return new Gc(i)}function a_(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function nw(i){return i.collectionGroup!==null}function To(i){const t=Bt(i);if(t.Ee===null){t.Ee=[];const r=new Set;for(const u of t.explicitOrderBy)t.Ee.push(u),r.add(u.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new Ke(un.comparator);return f.filters.forEach(g=>{g.getFlattenedFilters().forEach(y=>{y.isInequality()&&(m=m.add(y.field))})}),m})(t).forEach(u=>{r.has(u.canonicalString())||u.isKeyField()||t.Ee.push(new Nc(u,s))}),r.has(un.keyField().canonicalString())||t.Ee.push(new Nc(un.keyField(),s))}return t.Ee}function Hr(i){const t=Bt(i);return t.de||(t.de=rw(t,To(i))),t.de}function rw(i,t){if(i.limitType==="F")return i_(i.path,i.collectionGroup,t,i.filters,i.limit,i.startAt,i.endAt);{t=t.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new Nc(o.field,u)});const r=i.endAt?new Mc(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new Mc(i.startAt.position,i.startAt.inclusive):null;return i_(i.path,i.collectionGroup,t,i.filters,i.limit,r,s)}}function Ud(i,t,r){return new Gc(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),t,r,i.startAt,i.endAt)}function Qc(i,t){return gm(Hr(i),Hr(t))&&i.limitType===t.limitType}function Y0(i){return`${mm(Hr(i))}|lt:${i.limitType}`}function Gs(i){return`Query(target=${function(r){let s=r.path.canonicalString();return r.collectionGroup!==null&&(s+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(s+=`, filters: [${r.filters.map(o=>F0(o)).join(", ")}]`),qc(r.limit)||(s+=", limit: "+r.limit),r.orderBy.length>0&&(s+=`, orderBy: [${r.orderBy.map(o=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(o)).join(", ")}]`),r.startAt&&(s+=", startAt: ",s+=r.startAt.inclusive?"b:":"a:",s+=r.startAt.position.map(o=>tl(o)).join(",")),r.endAt&&(s+=", endAt: ",s+=r.endAt.inclusive?"a:":"b:",s+=r.endAt.position.map(o=>tl(o)).join(",")),`Target(${s})`}(Hr(i))}; limitType=${i.limitType})`}function Yc(i,t){return t.isFoundDocument()&&function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):xt.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)}(i,t)&&function(s,o){for(const u of To(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(i,t)&&function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0}(i,t)&&function(s,o){return!(s.startAt&&!function(f,m,g){const y=n_(f,m,g);return f.inclusive?y<=0:y<0}(s.startAt,To(s),o)||s.endAt&&!function(f,m,g){const y=n_(f,m,g);return f.inclusive?y>=0:y>0}(s.endAt,To(s),o))}(i,t)}function iw(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function K0(i){return(t,r)=>{let s=!1;for(const o of To(i)){const u=aw(o,t,r);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function aw(i,t,r){const s=i.field.isKeyField()?xt.comparator(t.key,r.key):function(u,f,m){const g=f.data.field(u),y=m.data.field(u);return g!==null&&y!==null?Ws(g,y):Ot(42886)}(i.field,t,r);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return Ot(19790,{direction:i.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class es{constructor(t,r){this.mapKeyFn=t,this.equalsFn=r,this.inner={},this.innerSize=0}get(t){const r=this.mapKeyFn(t),s=this.inner[r];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,t))return u}}has(t){return this.get(t)!==void 0}set(t,r){const s=this.mapKeyFn(t),o=this.inner[s];if(o===void 0)return this.inner[s]=[[t,r]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],t))return void(o[u]=[t,r]);o.push([t,r]),this.innerSize++}delete(t){const r=this.mapKeyFn(t),s=this.inner[r];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],t))return s.length===1?delete this.inner[r]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(t){ga(this.inner,(r,s)=>{for(const[o,u]of s)t(o,u)})}isEmpty(){return M0(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sw=new Ce(xt.comparator);function Ti(){return sw}const X0=new Ce(xt.comparator);function yo(...i){let t=X0;for(const r of i)t=t.insert(r.key,r);return t}function $0(i){let t=X0;return i.forEach((r,s)=>t=t.insert(r,s.overlayedDocument)),t}function Xa(){return So()}function Z0(){return So()}function So(){return new es(i=>i.toString(),(i,t)=>i.isEqual(t))}const lw=new Ce(xt.comparator),ow=new Ke(xt.comparator);function Wt(...i){let t=ow;for(const r of i)t=t.add(r);return t}const uw=new Ke(Gt);function cw(){return uw}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pm(i,t){if(i.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Dc(t)?"-0":t}}function J0(i){return{integerValue:""+i}}function hw(i,t){return P1(t)?J0(t):pm(i,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kc{constructor(){this._=void 0}}function fw(i,t,r){return i instanceof Vc?function(o,u){const f={fields:{[O0]:{stringValue:V0},[U0]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&fm(u)&&(u=Fc(u)),u&&(f.fields[L0]=u),{mapValue:f}}(r,t):i instanceof No?tE(i,t):i instanceof Vo?eE(i,t):function(o,u){const f=W0(o,u),m=s_(f)+s_(o.Re);return Vd(f)&&Vd(o.Re)?J0(m):pm(o.serializer,m)}(i,t)}function dw(i,t,r){return i instanceof No?tE(i,t):i instanceof Vo?eE(i,t):r}function W0(i,t){return i instanceof Oc?function(s){return Vd(s)||function(u){return!!u&&"doubleValue"in u}(s)}(t)?t:{integerValue:0}:null}class Vc extends Kc{}class No extends Kc{constructor(t){super(),this.elements=t}}function tE(i,t){const r=nE(t);for(const s of i.elements)r.some(o=>Fr(o,s))||r.push(s);return{arrayValue:{values:r}}}class Vo extends Kc{constructor(t){super(),this.elements=t}}function eE(i,t){let r=nE(t);for(const s of i.elements)r=r.filter(o=>!Fr(o,s));return{arrayValue:{values:r}}}class Oc extends Kc{constructor(t,r){super(),this.serializer=t,this.Re=r}}function s_(i){return Ne(i.integerValue||i.doubleValue)}function nE(i){return dm(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}function mw(i,t){return i.field.isEqual(t.field)&&function(s,o){return s instanceof No&&o instanceof No||s instanceof Vo&&o instanceof Vo?Js(s.elements,o.elements,Fr):s instanceof Oc&&o instanceof Oc?Fr(s.Re,o.Re):s instanceof Vc&&o instanceof Vc}(i.transform,t.transform)}class gw{constructor(t,r){this.version=t,this.transformResults=r}}class _r{constructor(t,r){this.updateTime=t,this.exists=r}static none(){return new _r}static exists(t){return new _r(void 0,t)}static updateTime(t){return new _r(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function yc(i,t){return i.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(i.updateTime):i.exists===void 0||i.exists===t.isFoundDocument()}class Xc{}function rE(i,t){if(!i.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return i.isNoDocument()?new ym(i.key,_r.none()):new Po(i.key,i.data,_r.none());{const r=i.data,s=Mn.empty();let o=new Ke(un.comparator);for(let u of t.fields)if(!o.has(u)){let f=r.field(u);f===null&&u.length>1&&(u=u.popLast(),f=r.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new pa(i.key,s,new Gn(o.toArray()),_r.none())}}function pw(i,t,r){i instanceof Po?function(o,u,f){const m=o.value.clone(),g=o_(o.fieldTransforms,u,f.transformResults);m.setAll(g),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()}(i,t,r):i instanceof pa?function(o,u,f){if(!yc(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=o_(o.fieldTransforms,u,f.transformResults),g=u.data;g.setAll(iE(o)),g.setAll(m),u.convertToFoundDocument(f.version,g).setHasCommittedMutations()}(i,t,r):function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()}(0,t,r)}function Ao(i,t,r,s){return i instanceof Po?function(u,f,m,g){if(!yc(u.precondition,f))return m;const y=u.value.clone(),E=u_(u.fieldTransforms,g,f);return y.setAll(E),f.convertToFoundDocument(f.version,y).setHasLocalMutations(),null}(i,t,r,s):i instanceof pa?function(u,f,m,g){if(!yc(u.precondition,f))return m;const y=u_(u.fieldTransforms,g,f),E=f.data;return E.setAll(iE(u)),E.setAll(y),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(S=>S.field))}(i,t,r,s):function(u,f,m){return yc(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m}(i,t,r)}function yw(i,t){let r=null;for(const s of i.fieldTransforms){const o=t.data.field(s.field),u=W0(s.transform,o||null);u!=null&&(r===null&&(r=Mn.empty()),r.set(s.field,u))}return r||null}function l_(i,t){return i.type===t.type&&!!i.key.isEqual(t.key)&&!!i.precondition.isEqual(t.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Js(s,o,(u,f)=>mw(u,f))}(i.fieldTransforms,t.fieldTransforms)&&(i.type===0?i.value.isEqual(t.value):i.type!==1||i.data.isEqual(t.data)&&i.fieldMask.isEqual(t.fieldMask))}class Po extends Xc{constructor(t,r,s,o=[]){super(),this.key=t,this.value=r,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class pa extends Xc{constructor(t,r,s,o,u=[]){super(),this.key=t,this.data=r,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function iE(i){const t=new Map;return i.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const s=i.data.field(r);t.set(r,s)}}),t}function o_(i,t,r){const s=new Map;fe(i.length===r.length,32656,{Ve:r.length,me:i.length});for(let o=0;o<r.length;o++){const u=i[o],f=u.transform,m=t.data.field(u.field);s.set(u.field,dw(f,m,r[o]))}return s}function u_(i,t,r){const s=new Map;for(const o of i){const u=o.transform,f=r.data.field(o.field);s.set(o.field,fw(u,f,t))}return s}class ym extends Xc{constructor(t,r){super(),this.key=t,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class vw extends Xc{constructor(t,r){super(),this.key=t,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _w{constructor(t,r,s,o){this.batchId=t,this.localWriteTime=r,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(t,r){const s=r.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(t.key)&&pw(u,t,s[o])}}applyToLocalView(t,r){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(r=Ao(s,t,r,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(r=Ao(s,t,r,this.localWriteTime));return r}applyToLocalDocumentSet(t,r){const s=Z0();return this.mutations.forEach(o=>{const u=t.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=r.has(o.key)?null:m;const g=rE(f,m);g!==null&&s.set(o.key,g),f.isValidDocument()||f.convertToNoDocument(zt.min())}),s}keys(){return this.mutations.reduce((t,r)=>t.add(r.key),Wt())}isEqual(t){return this.batchId===t.batchId&&Js(this.mutations,t.mutations,(r,s)=>l_(r,s))&&Js(this.baseMutations,t.baseMutations,(r,s)=>l_(r,s))}}class vm{constructor(t,r,s,o){this.batch=t,this.commitVersion=r,this.mutationResults=s,this.docVersions=o}static from(t,r,s){fe(t.mutations.length===s.length,58842,{fe:t.mutations.length,ge:s.length});let o=function(){return lw}();const u=t.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new vm(t,r,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ew{constructor(t,r){this.largestBatchId=t,this.mutation=r}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tw{constructor(t,r){this.count=t,this.unchangedNames=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ke,ie;function Sw(i){switch(i){case ut.OK:return Ot(64938);case ut.CANCELLED:case ut.UNKNOWN:case ut.DEADLINE_EXCEEDED:case ut.RESOURCE_EXHAUSTED:case ut.INTERNAL:case ut.UNAVAILABLE:case ut.UNAUTHENTICATED:return!1;case ut.INVALID_ARGUMENT:case ut.NOT_FOUND:case ut.ALREADY_EXISTS:case ut.PERMISSION_DENIED:case ut.FAILED_PRECONDITION:case ut.ABORTED:case ut.OUT_OF_RANGE:case ut.UNIMPLEMENTED:case ut.DATA_LOSS:return!0;default:return Ot(15467,{code:i})}}function aE(i){if(i===void 0)return Ei("GRPC error has no .code"),ut.UNKNOWN;switch(i){case ke.OK:return ut.OK;case ke.CANCELLED:return ut.CANCELLED;case ke.UNKNOWN:return ut.UNKNOWN;case ke.DEADLINE_EXCEEDED:return ut.DEADLINE_EXCEEDED;case ke.RESOURCE_EXHAUSTED:return ut.RESOURCE_EXHAUSTED;case ke.INTERNAL:return ut.INTERNAL;case ke.UNAVAILABLE:return ut.UNAVAILABLE;case ke.UNAUTHENTICATED:return ut.UNAUTHENTICATED;case ke.INVALID_ARGUMENT:return ut.INVALID_ARGUMENT;case ke.NOT_FOUND:return ut.NOT_FOUND;case ke.ALREADY_EXISTS:return ut.ALREADY_EXISTS;case ke.PERMISSION_DENIED:return ut.PERMISSION_DENIED;case ke.FAILED_PRECONDITION:return ut.FAILED_PRECONDITION;case ke.ABORTED:return ut.ABORTED;case ke.OUT_OF_RANGE:return ut.OUT_OF_RANGE;case ke.UNIMPLEMENTED:return ut.UNIMPLEMENTED;case ke.DATA_LOSS:return ut.DATA_LOSS;default:return Ot(39323,{code:i})}}(ie=ke||(ke={}))[ie.OK=0]="OK",ie[ie.CANCELLED=1]="CANCELLED",ie[ie.UNKNOWN=2]="UNKNOWN",ie[ie.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ie[ie.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ie[ie.NOT_FOUND=5]="NOT_FOUND",ie[ie.ALREADY_EXISTS=6]="ALREADY_EXISTS",ie[ie.PERMISSION_DENIED=7]="PERMISSION_DENIED",ie[ie.UNAUTHENTICATED=16]="UNAUTHENTICATED",ie[ie.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ie[ie.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ie[ie.ABORTED=10]="ABORTED",ie[ie.OUT_OF_RANGE=11]="OUT_OF_RANGE",ie[ie.UNIMPLEMENTED=12]="UNIMPLEMENTED",ie[ie.INTERNAL=13]="INTERNAL",ie[ie.UNAVAILABLE=14]="UNAVAILABLE",ie[ie.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aw=new ia([4294967295,4294967295],0);function c_(i){const t=D0().encode(i),r=new E0;return r.update(t),new Uint8Array(r.digest())}function h_(i){const t=new DataView(i.buffer),r=t.getUint32(0,!0),s=t.getUint32(4,!0),o=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new ia([r,s],0),new ia([o,u],0)]}class _m{constructor(t,r,s){if(this.bitmap=t,this.padding=r,this.hashCount=s,r<0||r>=8)throw new vo(`Invalid padding: ${r}`);if(s<0)throw new vo(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new vo(`Invalid hash count: ${s}`);if(t.length===0&&r!==0)throw new vo(`Invalid padding when bitmap length is 0: ${r}`);this.pe=8*t.length-r,this.ye=ia.fromNumber(this.pe)}we(t,r,s){let o=t.add(r.multiply(ia.fromNumber(s)));return o.compare(Aw)===1&&(o=new ia([o.getBits(0),o.getBits(1)],0)),o.modulo(this.ye).toNumber()}be(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.pe===0)return!1;const r=c_(t),[s,o]=h_(r);for(let u=0;u<this.hashCount;u++){const f=this.we(s,o,u);if(!this.be(f))return!1}return!0}static create(t,r,s){const o=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),f=new _m(u,o,r);return s.forEach(m=>f.insert(m)),f}insert(t){if(this.pe===0)return;const r=c_(t),[s,o]=h_(r);for(let u=0;u<this.hashCount;u++){const f=this.we(s,o,u);this.Se(f)}}Se(t){const r=Math.floor(t/8),s=t%8;this.bitmap[r]|=1<<s}}class vo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $c{constructor(t,r,s,o,u){this.snapshotVersion=t,this.targetChanges=r,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,r,s){const o=new Map;return o.set(t,zo.createSynthesizedTargetChangeForCurrentChange(t,r,s)),new $c(zt.min(),o,new Ce(Gt),Ti(),Wt())}}class zo{constructor(t,r,s,o,u){this.resumeToken=t,this.current=r,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,r,s){return new zo(s,r,Wt(),Wt(),Wt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vc{constructor(t,r,s,o){this.De=t,this.removedTargetIds=r,this.key=s,this.ve=o}}class sE{constructor(t,r){this.targetId=t,this.Ce=r}}class lE{constructor(t,r,s=cn.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=r,this.resumeToken=s,this.cause=o}}class f_{constructor(){this.Fe=0,this.Me=d_(),this.xe=cn.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(t){t.approximateByteSize()>0&&(this.Ne=!0,this.xe=t)}qe(){let t=Wt(),r=Wt(),s=Wt();return this.Me.forEach((o,u)=>{switch(u){case 0:t=t.add(o);break;case 2:r=r.add(o);break;case 1:s=s.add(o);break;default:Ot(38017,{changeType:u})}}),new zo(this.xe,this.Oe,t,r,s)}Qe(){this.Ne=!1,this.Me=d_()}$e(t,r){this.Ne=!0,this.Me=this.Me.insert(t,r)}Ue(t){this.Ne=!0,this.Me=this.Me.remove(t)}Ke(){this.Fe+=1}We(){this.Fe-=1,fe(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class bw{constructor(t){this.ze=t,this.je=new Map,this.He=Ti(),this.Je=oc(),this.Ye=oc(),this.Ze=new Ce(Gt)}Xe(t){for(const r of t.De)t.ve&&t.ve.isFoundDocument()?this.et(r,t.ve):this.tt(r,t.key,t.ve);for(const r of t.removedTargetIds)this.tt(r,t.key,t.ve)}nt(t){this.forEachTarget(t,r=>{const s=this.rt(r);switch(t.state){case 0:this.it(r)&&s.ke(t.resumeToken);break;case 1:s.We(),s.Be||s.Qe(),s.ke(t.resumeToken);break;case 2:s.We(),s.Be||this.removeTarget(r);break;case 3:this.it(r)&&(s.Ge(),s.ke(t.resumeToken));break;case 4:this.it(r)&&(this.st(r),s.ke(t.resumeToken));break;default:Ot(56790,{state:t.state})}})}forEachTarget(t,r){t.targetIds.length>0?t.targetIds.forEach(r):this.je.forEach((s,o)=>{this.it(o)&&r(o)})}ot(t){const r=t.targetId,s=t.Ce.count,o=this._t(r);if(o){const u=o.target;if(Ld(u))if(s===0){const f=new xt(u.path);this.tt(r,f,vn.newNoDocument(f,zt.min()))}else fe(s===1,20013,{expectedCount:s});else{const f=this.ut(r);if(f!==s){const m=this.ct(t),g=m?this.lt(m,t,f):1;if(g!==0){this.st(r);const y=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(r,y)}}}}}ct(t){const r=t.Ce.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=r;let f,m;try{f=ha(s).toUint8Array()}catch(g){if(g instanceof N0)return Zs("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{m=new _m(f,o,u)}catch(g){return Zs(g instanceof vo?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return m.pe===0?null:m}lt(t,r,s){return r.Ce.count===s-this.Tt(t,r.targetId)?0:2}Tt(t,r){const s=this.ze.getRemoteKeysForTarget(r);let o=0;return s.forEach(u=>{const f=this.ze.Pt(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;t.mightContain(m)||(this.tt(r,u,null),o++)}),o}It(t){const r=new Map;this.je.forEach((u,f)=>{const m=this._t(f);if(m){if(u.current&&Ld(m.target)){const g=new xt(m.target.path);this.Et(g).has(f)||this.dt(f,g)||this.tt(f,g,vn.newNoDocument(g,t))}u.Le&&(r.set(f,u.qe()),u.Qe())}});let s=Wt();this.Ye.forEach((u,f)=>{let m=!0;f.forEachWhile(g=>{const y=this._t(g);return!y||y.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(s=s.add(u))}),this.He.forEach((u,f)=>f.setReadTime(t));const o=new $c(t,r,this.Ze,this.He,s);return this.He=Ti(),this.Je=oc(),this.Ye=oc(),this.Ze=new Ce(Gt),o}et(t,r){if(!this.it(t))return;const s=this.dt(t,r.key)?2:0;this.rt(t).$e(r.key,s),this.He=this.He.insert(r.key,r),this.Je=this.Je.insert(r.key,this.Et(r.key).add(t)),this.Ye=this.Ye.insert(r.key,this.At(r.key).add(t))}tt(t,r,s){if(!this.it(t))return;const o=this.rt(t);this.dt(t,r)?o.$e(r,1):o.Ue(r),this.Ye=this.Ye.insert(r,this.At(r).delete(t)),this.Ye=this.Ye.insert(r,this.At(r).add(t)),s&&(this.He=this.He.insert(r,s))}removeTarget(t){this.je.delete(t)}ut(t){const r=this.rt(t).qe();return this.ze.getRemoteKeysForTarget(t).size+r.addedDocuments.size-r.removedDocuments.size}Ke(t){this.rt(t).Ke()}rt(t){let r=this.je.get(t);return r||(r=new f_,this.je.set(t,r)),r}At(t){let r=this.Ye.get(t);return r||(r=new Ke(Gt),this.Ye=this.Ye.insert(t,r)),r}Et(t){let r=this.Je.get(t);return r||(r=new Ke(Gt),this.Je=this.Je.insert(t,r)),r}it(t){const r=this._t(t)!==null;return r||pt("WatchChangeAggregator","Detected inactive target",t),r}_t(t){const r=this.je.get(t);return r&&r.Be?null:this.ze.Rt(t)}st(t){this.je.set(t,new f_),this.ze.getRemoteKeysForTarget(t).forEach(r=>{this.tt(t,r,null)})}dt(t,r){return this.ze.getRemoteKeysForTarget(t).has(r)}}function oc(){return new Ce(xt.comparator)}function d_(){return new Ce(xt.comparator)}const Rw={asc:"ASCENDING",desc:"DESCENDING"},ww={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Cw={and:"AND",or:"OR"};class Dw{constructor(t,r){this.databaseId=t,this.useProto3Json=r}}function Pd(i,t){return i.useProto3Json||qc(t)?t:{value:t}}function Lc(i,t){return i.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function oE(i,t){return i.useProto3Json?t.toBase64():t.toUint8Array()}function xw(i,t){return Lc(i,t.toTimestamp())}function qr(i){return fe(!!i,49232),zt.fromTimestamp(function(r){const s=ca(r);return new Ye(s.seconds,s.nanos)}(i))}function Em(i,t){return zd(i,t).canonicalString()}function zd(i,t){const r=function(o){return new Re(["projects",o.projectId,"databases",o.database])}(i).child("documents");return t===void 0?r:r.child(t)}function uE(i){const t=Re.fromString(i);return fe(mE(t),10190,{key:t.toString()}),t}function Bd(i,t){return Em(i.databaseId,t.path)}function yd(i,t){const r=uE(t);if(r.get(1)!==i.databaseId.projectId)throw new wt(ut.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+i.databaseId.projectId);if(r.get(3)!==i.databaseId.database)throw new wt(ut.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+i.databaseId.database);return new xt(hE(r))}function cE(i,t){return Em(i.databaseId,t)}function Iw(i){const t=uE(i);return t.length===4?Re.emptyPath():hE(t)}function kd(i){return new Re(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function hE(i){return fe(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function m_(i,t,r){return{name:Bd(i,t),fields:r.value.mapValue.fields}}function Mw(i,t){let r;if("targetChange"in t){t.targetChange;const s=function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Ot(39313,{state:y})}(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],u=function(y,E){return y.useProto3Json?(fe(E===void 0||typeof E=="string",58123),cn.fromBase64String(E||"")):(fe(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),cn.fromUint8Array(E||new Uint8Array))}(i,t.targetChange.resumeToken),f=t.targetChange.cause,m=f&&function(y){const E=y.code===void 0?ut.UNKNOWN:aE(y.code);return new wt(E,y.message||"")}(f);r=new lE(s,o,u,m||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const o=yd(i,s.document.name),u=qr(s.document.updateTime),f=s.document.createTime?qr(s.document.createTime):zt.min(),m=new Mn({mapValue:{fields:s.document.fields}}),g=vn.newFoundDocument(o,u,f,m),y=s.targetIds||[],E=s.removedTargetIds||[];r=new vc(y,E,g.key,g)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const o=yd(i,s.document),u=s.readTime?qr(s.readTime):zt.min(),f=vn.newNoDocument(o,u),m=s.removedTargetIds||[];r=new vc([],m,f.key,f)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const o=yd(i,s.document),u=s.removedTargetIds||[];r=new vc([],u,o,null)}else{if(!("filter"in t))return Ot(11601,{Vt:t});{t.filter;const s=t.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new Tw(o,u),m=s.targetId;r=new sE(m,f)}}return r}function Nw(i,t){let r;if(t instanceof Po)r={update:m_(i,t.key,t.value)};else if(t instanceof ym)r={delete:Bd(i,t.key)};else if(t instanceof pa)r={update:m_(i,t.key,t.data),updateMask:jw(t.fieldMask)};else{if(!(t instanceof vw))return Ot(16599,{ft:t.type});r={verify:Bd(i,t.key)}}return t.fieldTransforms.length>0&&(r.updateTransforms=t.fieldTransforms.map(s=>function(u,f){const m=f.transform;if(m instanceof Vc)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof No)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof Vo)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Oc)return{fieldPath:f.field.canonicalString(),increment:m.Re};throw Ot(20930,{transform:f.transform})}(0,s))),t.precondition.isNone||(r.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:xw(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Ot(27497)}(i,t.precondition)),r}function Vw(i,t){return i&&i.length>0?(fe(t!==void 0,14353),i.map(r=>function(o,u){let f=o.updateTime?qr(o.updateTime):qr(u);return f.isEqual(zt.min())&&(f=qr(u)),new gw(f,o.transformResults||[])}(r,t))):[]}function Ow(i,t){return{documents:[cE(i,t.path)]}}function Lw(i,t){const r={structuredQuery:{}},s=t.path;let o;t.collectionGroup!==null?(o=s,r.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=s.popLast(),r.structuredQuery.from=[{collectionId:s.lastSegment()}]),r.parent=cE(i,o);const u=function(y){if(y.length!==0)return dE(Gr.create(y,"and"))}(t.filters);u&&(r.structuredQuery.where=u);const f=function(y){if(y.length!==0)return y.map(E=>function(A){return{field:Qs(A.field),direction:zw(A.dir)}}(E))}(t.orderBy);f&&(r.structuredQuery.orderBy=f);const m=Pd(i,t.limit);return m!==null&&(r.structuredQuery.limit=m),t.startAt&&(r.structuredQuery.startAt=function(y){return{before:y.inclusive,values:y.position}}(t.startAt)),t.endAt&&(r.structuredQuery.endAt=function(y){return{before:!y.inclusive,values:y.position}}(t.endAt)),{gt:r,parent:o}}function Uw(i){let t=Iw(i.parent);const r=i.structuredQuery,s=r.from?r.from.length:0;let o=null;if(s>0){fe(s===1,65062);const E=r.from[0];E.allDescendants?o=E.collectionId:t=t.child(E.collectionId)}let u=[];r.where&&(u=function(S){const A=fE(S);return A instanceof Gr&&H0(A)?A.getFilters():[A]}(r.where));let f=[];r.orderBy&&(f=function(S){return S.map(A=>function(O){return new Nc(Ys(O.field),function(H){switch(H){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(O.direction))}(A))}(r.orderBy));let m=null;r.limit&&(m=function(S){let A;return A=typeof S=="object"?S.value:S,qc(A)?null:A}(r.limit));let g=null;r.startAt&&(g=function(S){const A=!!S.before,D=S.values||[];return new Mc(D,A)}(r.startAt));let y=null;return r.endAt&&(y=function(S){const A=!S.before,D=S.values||[];return new Mc(D,A)}(r.endAt)),ew(t,o,f,u,m,"F",g,y)}function Pw(i,t){const r=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ot(28987,{purpose:o})}}(t.purpose);return r==null?null:{"goog-listen-tags":r}}function fE(i){return i.unaryFilter!==void 0?function(r){switch(r.unaryFilter.op){case"IS_NAN":const s=Ys(r.unaryFilter.field);return Qe.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Ys(r.unaryFilter.field);return Qe.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Ys(r.unaryFilter.field);return Qe.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Ys(r.unaryFilter.field);return Qe.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ot(61313);default:return Ot(60726)}}(i):i.fieldFilter!==void 0?function(r){return Qe.create(Ys(r.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ot(58110);default:return Ot(50506)}}(r.fieldFilter.op),r.fieldFilter.value)}(i):i.compositeFilter!==void 0?function(r){return Gr.create(r.compositeFilter.filters.map(s=>fE(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ot(1026)}}(r.compositeFilter.op))}(i):Ot(30097,{filter:i})}function zw(i){return Rw[i]}function Bw(i){return ww[i]}function kw(i){return Cw[i]}function Qs(i){return{fieldPath:i.canonicalString()}}function Ys(i){return un.fromServerFormat(i.fieldPath)}function dE(i){return i instanceof Qe?function(r){if(r.op==="=="){if(e_(r.value))return{unaryFilter:{field:Qs(r.field),op:"IS_NAN"}};if(t_(r.value))return{unaryFilter:{field:Qs(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(e_(r.value))return{unaryFilter:{field:Qs(r.field),op:"IS_NOT_NAN"}};if(t_(r.value))return{unaryFilter:{field:Qs(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Qs(r.field),op:Bw(r.op),value:r.value}}}(i):i instanceof Gr?function(r){const s=r.getFilters().map(o=>dE(o));return s.length===1?s[0]:{compositeFilter:{op:kw(r.op),filters:s}}}(i):Ot(54877,{filter:i})}function jw(i){const t=[];return i.fields.forEach(r=>t.push(r.canonicalString())),{fieldPaths:t}}function mE(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ea{constructor(t,r,s,o,u=zt.min(),f=zt.min(),m=cn.EMPTY_BYTE_STRING,g=null){this.target=t,this.targetId=r,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=g}withSequenceNumber(t){return new ea(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,r){return new ea(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new ea(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new ea(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hw{constructor(t){this.wt=t}}function qw(i){const t=Uw({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?Ud(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fw{constructor(){this.yn=new Gw}addToCollectionParentIndex(t,r){return this.yn.add(r),st.resolve()}getCollectionParents(t,r){return st.resolve(this.yn.getEntries(r))}addFieldIndex(t,r){return st.resolve()}deleteFieldIndex(t,r){return st.resolve()}deleteAllFieldIndexes(t){return st.resolve()}createTargetIndexes(t,r){return st.resolve()}getDocumentsMatchingTarget(t,r){return st.resolve(null)}getIndexType(t,r){return st.resolve(0)}getFieldIndexes(t,r){return st.resolve([])}getNextCollectionGroupToUpdate(t){return st.resolve(null)}getMinOffset(t,r){return st.resolve(ua.min())}getMinOffsetFromCollectionGroup(t,r){return st.resolve(ua.min())}updateCollectionGroup(t,r,s){return st.resolve()}updateIndexEntries(t,r){return st.resolve()}}class Gw{constructor(){this.index={}}add(t){const r=t.lastSegment(),s=t.popLast(),o=this.index[r]||new Ke(Re.comparator),u=!o.has(s);return this.index[r]=o.add(s),u}has(t){const r=t.lastSegment(),s=t.popLast(),o=this.index[r];return o&&o.has(s)}getEntries(t){return(this.index[t]||new Ke(Re.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},gE=41943040;class In{static withCacheSize(t){return new In(t,In.DEFAULT_COLLECTION_PERCENTILE,In.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,r,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */In.DEFAULT_COLLECTION_PERCENTILE=10,In.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,In.DEFAULT=new In(gE,In.DEFAULT_COLLECTION_PERCENTILE,In.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),In.DISABLED=new In(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class el{constructor(t){this.nr=t}next(){return this.nr+=2,this.nr}static rr(){return new el(0)}static ir(){return new el(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p_="LruGarbageCollector",Qw=1048576;function y_([i,t],[r,s]){const o=Gt(i,r);return o===0?Gt(t,s):o}class Yw{constructor(t){this.cr=t,this.buffer=new Ke(y_),this.lr=0}hr(){return++this.lr}Pr(t){const r=[t,this.hr()];if(this.buffer.size<this.cr)this.buffer=this.buffer.add(r);else{const s=this.buffer.last();y_(r,s)<0&&(this.buffer=this.buffer.delete(s).add(r))}}get maxValue(){return this.buffer.last()[0]}}class Kw{constructor(t,r,s){this.garbageCollector=t,this.asyncQueue=r,this.localStore=s,this.Tr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ir(6e4)}stop(){this.Tr&&(this.Tr.cancel(),this.Tr=null)}get started(){return this.Tr!==null}Ir(t){pt(p_,`Garbage collection scheduled in ${t}ms`),this.Tr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Tr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(r){ll(r)?pt(p_,"Ignoring IndexedDB error during garbage collection: ",r):await sl(r)}await this.Ir(3e5)})}}class Xw{constructor(t,r){this.Er=t,this.params=r}calculateTargetCount(t,r){return this.Er.dr(t).next(s=>Math.floor(r/100*s))}nthSequenceNumber(t,r){if(r===0)return st.resolve(Hc.le);const s=new Yw(r);return this.Er.forEachTarget(t,o=>s.Pr(o.sequenceNumber)).next(()=>this.Er.Ar(t,o=>s.Pr(o))).next(()=>s.maxValue)}removeTargets(t,r,s){return this.Er.removeTargets(t,r,s)}removeOrphanedDocuments(t,r){return this.Er.removeOrphanedDocuments(t,r)}collect(t,r){return this.params.cacheSizeCollectionThreshold===-1?(pt("LruGarbageCollector","Garbage collection skipped; disabled"),st.resolve(g_)):this.getCacheSize(t).next(s=>s<this.params.cacheSizeCollectionThreshold?(pt("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),g_):this.Rr(t,r))}getCacheSize(t){return this.Er.getCacheSize(t)}Rr(t,r){let s,o,u,f,m,g,y;const E=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(S=>(S>this.params.maximumSequenceNumbersToCollect?(pt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),o=this.params.maximumSequenceNumbersToCollect):o=S,f=Date.now(),this.nthSequenceNumber(t,o))).next(S=>(s=S,m=Date.now(),this.removeTargets(t,s,r))).next(S=>(u=S,g=Date.now(),this.removeOrphanedDocuments(t,s))).next(S=>(y=Date.now(),Fs()<=ae.DEBUG&&pt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(g-m)+`ms
	Removed ${S} documents in `+(y-g)+`ms
Total Duration: ${y-E}ms`),st.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:S})))}}function $w(i,t){return new Xw(i,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zw{constructor(){this.changes=new es(t=>t.toString(),(t,r)=>t.isEqual(r)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,r){this.assertNotApplied(),this.changes.set(t,vn.newInvalidDocument(t).setReadTime(r))}getEntry(t,r){this.assertNotApplied();const s=this.changes.get(r);return s!==void 0?st.resolve(s):this.getFromCache(t,r)}getEntries(t,r){return this.getAllFromCache(t,r)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jw{constructor(t,r){this.overlayedDocument=t,this.mutatedFields=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ww{constructor(t,r,s,o){this.remoteDocumentCache=t,this.mutationQueue=r,this.documentOverlayCache=s,this.indexManager=o}getDocument(t,r){let s=null;return this.documentOverlayCache.getOverlay(t,r).next(o=>(s=o,this.remoteDocumentCache.getEntry(t,r))).next(o=>(s!==null&&Ao(s.mutation,o,Gn.empty(),Ye.now()),o))}getDocuments(t,r){return this.remoteDocumentCache.getEntries(t,r).next(s=>this.getLocalViewOfDocuments(t,s,Wt()).next(()=>s))}getLocalViewOfDocuments(t,r,s=Wt()){const o=Xa();return this.populateOverlays(t,o,r).next(()=>this.computeViews(t,r,o,s).next(u=>{let f=yo();return u.forEach((m,g)=>{f=f.insert(m,g.overlayedDocument)}),f}))}getOverlayedDocuments(t,r){const s=Xa();return this.populateOverlays(t,s,r).next(()=>this.computeViews(t,r,s,Wt()))}populateOverlays(t,r,s){const o=[];return s.forEach(u=>{r.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(t,o).next(u=>{u.forEach((f,m)=>{r.set(f,m)})})}computeViews(t,r,s,o){let u=Ti();const f=So(),m=function(){return So()}();return r.forEach((g,y)=>{const E=s.get(y.key);o.has(y.key)&&(E===void 0||E.mutation instanceof pa)?u=u.insert(y.key,y):E!==void 0?(f.set(y.key,E.mutation.getFieldMask()),Ao(E.mutation,y,E.mutation.getFieldMask(),Ye.now())):f.set(y.key,Gn.empty())}),this.recalculateAndSaveOverlays(t,u).next(g=>(g.forEach((y,E)=>f.set(y,E)),r.forEach((y,E)=>{var S;return m.set(y,new Jw(E,(S=f.get(y))!==null&&S!==void 0?S:null))}),m))}recalculateAndSaveOverlays(t,r){const s=So();let o=new Ce((f,m)=>f-m),u=Wt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,r).next(f=>{for(const m of f)m.keys().forEach(g=>{const y=r.get(g);if(y===null)return;let E=s.get(g)||Gn.empty();E=m.applyToLocalView(y,E),s.set(g,E);const S=(o.get(m.batchId)||Wt()).add(g);o=o.insert(m.batchId,S)})}).next(()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const g=m.getNext(),y=g.key,E=g.value,S=Z0();E.forEach(A=>{if(!u.has(A)){const D=rE(r.get(A),s.get(A));D!==null&&S.set(A,D),u=u.add(A)}}),f.push(this.documentOverlayCache.saveOverlays(t,y,S))}return st.waitFor(f)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(t,r){return this.remoteDocumentCache.getEntries(t,r).next(s=>this.recalculateAndSaveOverlays(t,s))}getDocumentsMatchingQuery(t,r,s,o){return function(f){return xt.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(r)?this.getDocumentsMatchingDocumentQuery(t,r.path):nw(r)?this.getDocumentsMatchingCollectionGroupQuery(t,r,s,o):this.getDocumentsMatchingCollectionQuery(t,r,s,o)}getNextDocuments(t,r,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,r,s,o).next(u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,r,s.largestBatchId,o-u.size):st.resolve(Xa());let m=Do,g=u;return f.next(y=>st.forEach(y,(E,S)=>(m<S.largestBatchId&&(m=S.largestBatchId),u.get(E)?st.resolve():this.remoteDocumentCache.getEntry(t,E).next(A=>{g=g.insert(E,A)}))).next(()=>this.populateOverlays(t,y,u)).next(()=>this.computeViews(t,g,y,Wt())).next(E=>({batchId:m,changes:$0(E)})))})}getDocumentsMatchingDocumentQuery(t,r){return this.getDocument(t,new xt(r)).next(s=>{let o=yo();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(t,r,s,o){const u=r.collectionGroup;let f=yo();return this.indexManager.getCollectionParents(t,u).next(m=>st.forEach(m,g=>{const y=function(S,A){return new Gc(A,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)}(r,g.child(u));return this.getDocumentsMatchingCollectionQuery(t,y,s,o).next(E=>{E.forEach((S,A)=>{f=f.insert(S,A)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(t,r,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(t,r.path,s.largestBatchId).next(f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(t,r,s,u,o))).next(f=>{u.forEach((g,y)=>{const E=y.getKey();f.get(E)===null&&(f=f.insert(E,vn.newInvalidDocument(E)))});let m=yo();return f.forEach((g,y)=>{const E=u.get(g);E!==void 0&&Ao(E.mutation,y,Gn.empty(),Ye.now()),Yc(r,y)&&(m=m.insert(g,y))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t2{constructor(t){this.serializer=t,this.Fr=new Map,this.Mr=new Map}getBundleMetadata(t,r){return st.resolve(this.Fr.get(r))}saveBundleMetadata(t,r){return this.Fr.set(r.id,function(o){return{id:o.id,version:o.version,createTime:qr(o.createTime)}}(r)),st.resolve()}getNamedQuery(t,r){return st.resolve(this.Mr.get(r))}saveNamedQuery(t,r){return this.Mr.set(r.name,function(o){return{name:o.name,query:qw(o.bundledQuery),readTime:qr(o.readTime)}}(r)),st.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e2{constructor(){this.overlays=new Ce(xt.comparator),this.Or=new Map}getOverlay(t,r){return st.resolve(this.overlays.get(r))}getOverlays(t,r){const s=Xa();return st.forEach(r,o=>this.getOverlay(t,o).next(u=>{u!==null&&s.set(o,u)})).next(()=>s)}saveOverlays(t,r,s){return s.forEach((o,u)=>{this.St(t,r,u)}),st.resolve()}removeOverlaysForBatchId(t,r,s){const o=this.Or.get(s);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.Or.delete(s)),st.resolve()}getOverlaysForCollection(t,r,s){const o=Xa(),u=r.length+1,f=new xt(r.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const g=m.getNext().value,y=g.getKey();if(!r.isPrefixOf(y.path))break;y.path.length===u&&g.largestBatchId>s&&o.set(g.getKey(),g)}return st.resolve(o)}getOverlaysForCollectionGroup(t,r,s,o){let u=new Ce((y,E)=>y-E);const f=this.overlays.getIterator();for(;f.hasNext();){const y=f.getNext().value;if(y.getKey().getCollectionGroup()===r&&y.largestBatchId>s){let E=u.get(y.largestBatchId);E===null&&(E=Xa(),u=u.insert(y.largestBatchId,E)),E.set(y.getKey(),y)}}const m=Xa(),g=u.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach((y,E)=>m.set(y,E)),!(m.size()>=o)););return st.resolve(m)}St(t,r,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.Or.get(o.largestBatchId).delete(s.key);this.Or.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new Ew(r,s));let u=this.Or.get(r);u===void 0&&(u=Wt(),this.Or.set(r,u)),this.Or.set(r,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n2{constructor(){this.sessionToken=cn.EMPTY_BYTE_STRING}getSessionToken(t){return st.resolve(this.sessionToken)}setSessionToken(t,r){return this.sessionToken=r,st.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tm{constructor(){this.Nr=new Ke(tn.Br),this.Lr=new Ke(tn.kr)}isEmpty(){return this.Nr.isEmpty()}addReference(t,r){const s=new tn(t,r);this.Nr=this.Nr.add(s),this.Lr=this.Lr.add(s)}qr(t,r){t.forEach(s=>this.addReference(s,r))}removeReference(t,r){this.Qr(new tn(t,r))}$r(t,r){t.forEach(s=>this.removeReference(s,r))}Ur(t){const r=new xt(new Re([])),s=new tn(r,t),o=new tn(r,t+1),u=[];return this.Lr.forEachInRange([s,o],f=>{this.Qr(f),u.push(f.key)}),u}Kr(){this.Nr.forEach(t=>this.Qr(t))}Qr(t){this.Nr=this.Nr.delete(t),this.Lr=this.Lr.delete(t)}Wr(t){const r=new xt(new Re([])),s=new tn(r,t),o=new tn(r,t+1);let u=Wt();return this.Lr.forEachInRange([s,o],f=>{u=u.add(f.key)}),u}containsKey(t){const r=new tn(t,0),s=this.Nr.firstAfterOrEqual(r);return s!==null&&t.isEqual(s.key)}}class tn{constructor(t,r){this.key=t,this.Gr=r}static Br(t,r){return xt.comparator(t.key,r.key)||Gt(t.Gr,r.Gr)}static kr(t,r){return Gt(t.Gr,r.Gr)||xt.comparator(t.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r2{constructor(t,r){this.indexManager=t,this.referenceDelegate=r,this.mutationQueue=[],this.Jn=1,this.zr=new Ke(tn.Br)}checkEmpty(t){return st.resolve(this.mutationQueue.length===0)}addMutationBatch(t,r,s,o){const u=this.Jn;this.Jn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new _w(u,r,s,o);this.mutationQueue.push(f);for(const m of o)this.zr=this.zr.add(new tn(m.key,u)),this.indexManager.addToCollectionParentIndex(t,m.key.path.popLast());return st.resolve(f)}lookupMutationBatch(t,r){return st.resolve(this.jr(r))}getNextMutationBatchAfterBatchId(t,r){const s=r+1,o=this.Hr(s),u=o<0?0:o;return st.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return st.resolve(this.mutationQueue.length===0?hm:this.Jn-1)}getAllMutationBatches(t){return st.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,r){const s=new tn(r,0),o=new tn(r,Number.POSITIVE_INFINITY),u=[];return this.zr.forEachInRange([s,o],f=>{const m=this.jr(f.Gr);u.push(m)}),st.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,r){let s=new Ke(Gt);return r.forEach(o=>{const u=new tn(o,0),f=new tn(o,Number.POSITIVE_INFINITY);this.zr.forEachInRange([u,f],m=>{s=s.add(m.Gr)})}),st.resolve(this.Jr(s))}getAllMutationBatchesAffectingQuery(t,r){const s=r.path,o=s.length+1;let u=s;xt.isDocumentKey(u)||(u=u.child(""));const f=new tn(new xt(u),0);let m=new Ke(Gt);return this.zr.forEachWhile(g=>{const y=g.key.path;return!!s.isPrefixOf(y)&&(y.length===o&&(m=m.add(g.Gr)),!0)},f),st.resolve(this.Jr(m))}Jr(t){const r=[];return t.forEach(s=>{const o=this.jr(s);o!==null&&r.push(o)}),r}removeMutationBatch(t,r){fe(this.Yr(r.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.zr;return st.forEach(r.mutations,o=>{const u=new tn(o.key,r.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)}).next(()=>{this.zr=s})}Xn(t){}containsKey(t,r){const s=new tn(r,0),o=this.zr.firstAfterOrEqual(s);return st.resolve(r.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,st.resolve()}Yr(t,r){return this.Hr(t)}Hr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}jr(t){const r=this.Hr(t);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i2{constructor(t){this.Zr=t,this.docs=function(){return new Ce(xt.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,r){const s=r.key,o=this.docs.get(s),u=o?o.size:0,f=this.Zr(r);return this.docs=this.docs.insert(s,{document:r.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const r=this.docs.get(t);r&&(this.docs=this.docs.remove(t),this.size-=r.size)}getEntry(t,r){const s=this.docs.get(r);return st.resolve(s?s.document.mutableCopy():vn.newInvalidDocument(r))}getEntries(t,r){let s=Ti();return r.forEach(o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():vn.newInvalidDocument(o))}),st.resolve(s)}getDocumentsMatchingQuery(t,r,s,o){let u=Ti();const f=r.path,m=new xt(f.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(m);for(;g.hasNext();){const{key:y,value:{document:E}}=g.getNext();if(!f.isPrefixOf(y.path))break;y.path.length>f.length+1||V1(N1(E),s)<=0||(o.has(E.key)||Yc(r,E))&&(u=u.insert(E.key,E.mutableCopy()))}return st.resolve(u)}getAllFromCollectionGroup(t,r,s,o){Ot(9500)}Xr(t,r){return st.forEach(this.docs,s=>r(s))}newChangeBuffer(t){return new a2(this)}getSize(t){return st.resolve(this.size)}}class a2 extends Zw{constructor(t){super(),this.vr=t}applyChanges(t){const r=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?r.push(this.vr.addEntry(t,o)):this.vr.removeEntry(s)}),st.waitFor(r)}getFromCache(t,r){return this.vr.getEntry(t,r)}getAllFromCache(t,r){return this.vr.getEntries(t,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s2{constructor(t){this.persistence=t,this.ei=new es(r=>mm(r),gm),this.lastRemoteSnapshotVersion=zt.min(),this.highestTargetId=0,this.ti=0,this.ni=new Tm,this.targetCount=0,this.ri=el.rr()}forEachTarget(t,r){return this.ei.forEach((s,o)=>r(o)),st.resolve()}getLastRemoteSnapshotVersion(t){return st.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return st.resolve(this.ti)}allocateTargetId(t){return this.highestTargetId=this.ri.next(),st.resolve(this.highestTargetId)}setTargetsMetadata(t,r,s){return s&&(this.lastRemoteSnapshotVersion=s),r>this.ti&&(this.ti=r),st.resolve()}ar(t){this.ei.set(t.target,t);const r=t.targetId;r>this.highestTargetId&&(this.ri=new el(r),this.highestTargetId=r),t.sequenceNumber>this.ti&&(this.ti=t.sequenceNumber)}addTargetData(t,r){return this.ar(r),this.targetCount+=1,st.resolve()}updateTargetData(t,r){return this.ar(r),st.resolve()}removeTargetData(t,r){return this.ei.delete(r.target),this.ni.Ur(r.targetId),this.targetCount-=1,st.resolve()}removeTargets(t,r,s){let o=0;const u=[];return this.ei.forEach((f,m)=>{m.sequenceNumber<=r&&s.get(m.targetId)===null&&(this.ei.delete(f),u.push(this.removeMatchingKeysForTargetId(t,m.targetId)),o++)}),st.waitFor(u).next(()=>o)}getTargetCount(t){return st.resolve(this.targetCount)}getTargetData(t,r){const s=this.ei.get(r)||null;return st.resolve(s)}addMatchingKeys(t,r,s){return this.ni.qr(r,s),st.resolve()}removeMatchingKeys(t,r,s){this.ni.$r(r,s);const o=this.persistence.referenceDelegate,u=[];return o&&r.forEach(f=>{u.push(o.markPotentiallyOrphaned(t,f))}),st.waitFor(u)}removeMatchingKeysForTargetId(t,r){return this.ni.Ur(r),st.resolve()}getMatchingKeysForTargetId(t,r){const s=this.ni.Wr(r);return st.resolve(s)}containsKey(t,r){return st.resolve(this.ni.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pE{constructor(t,r){this.ii={},this.overlays={},this.si=new Hc(0),this.oi=!1,this.oi=!0,this._i=new n2,this.referenceDelegate=t(this),this.ai=new s2(this),this.indexManager=new Fw,this.remoteDocumentCache=function(o){return new i2(o)}(s=>this.referenceDelegate.ui(s)),this.serializer=new Hw(r),this.ci=new t2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.oi=!1,Promise.resolve()}get started(){return this.oi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let r=this.overlays[t.toKey()];return r||(r=new e2,this.overlays[t.toKey()]=r),r}getMutationQueue(t,r){let s=this.ii[t.toKey()];return s||(s=new r2(r,this.referenceDelegate),this.ii[t.toKey()]=s),s}getGlobalsCache(){return this._i}getTargetCache(){return this.ai}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.ci}runTransaction(t,r,s){pt("MemoryPersistence","Starting transaction:",t);const o=new l2(this.si.next());return this.referenceDelegate.li(),s(o).next(u=>this.referenceDelegate.hi(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}Pi(t,r){return st.or(Object.values(this.ii).map(s=>()=>s.containsKey(t,r)))}}class l2 extends L1{constructor(t){super(),this.currentSequenceNumber=t}}class Sm{constructor(t){this.persistence=t,this.Ti=new Tm,this.Ii=null}static Ei(t){return new Sm(t)}get di(){if(this.Ii)return this.Ii;throw Ot(60996)}addReference(t,r,s){return this.Ti.addReference(s,r),this.di.delete(s.toString()),st.resolve()}removeReference(t,r,s){return this.Ti.removeReference(s,r),this.di.add(s.toString()),st.resolve()}markPotentiallyOrphaned(t,r){return this.di.add(r.toString()),st.resolve()}removeTarget(t,r){this.Ti.Ur(r.targetId).forEach(o=>this.di.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,r.targetId).next(o=>{o.forEach(u=>this.di.add(u.toString()))}).next(()=>s.removeTargetData(t,r))}li(){this.Ii=new Set}hi(t){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return st.forEach(this.di,s=>{const o=xt.fromPath(s);return this.Ai(t,o).next(u=>{u||r.removeEntry(o,zt.min())})}).next(()=>(this.Ii=null,r.apply(t)))}updateLimboDocument(t,r){return this.Ai(t,r).next(s=>{s?this.di.delete(r.toString()):this.di.add(r.toString())})}ui(t){return 0}Ai(t,r){return st.or([()=>st.resolve(this.Ti.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(t,r),()=>this.persistence.Pi(t,r)])}}class Uc{constructor(t,r){this.persistence=t,this.Ri=new es(s=>z1(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=$w(this,r)}static Ei(t,r){return new Uc(t,r)}li(){}hi(t){return st.resolve()}forEachTarget(t,r){return this.persistence.getTargetCache().forEachTarget(t,r)}dr(t){const r=this.Vr(t);return this.persistence.getTargetCache().getTargetCount(t).next(s=>r.next(o=>s+o))}Vr(t){let r=0;return this.Ar(t,s=>{r++}).next(()=>r)}Ar(t,r){return st.forEach(this.Ri,(s,o)=>this.gr(t,s,o).next(u=>u?st.resolve():r(o)))}removeTargets(t,r,s){return this.persistence.getTargetCache().removeTargets(t,r,s)}removeOrphanedDocuments(t,r){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.Xr(t,f=>this.gr(t,f,r).next(m=>{m||(s++,u.removeEntry(f,zt.min()))})).next(()=>u.apply(t)).next(()=>s)}markPotentiallyOrphaned(t,r){return this.Ri.set(r,t.currentSequenceNumber),st.resolve()}removeTarget(t,r){const s=r.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,r,s){return this.Ri.set(s,t.currentSequenceNumber),st.resolve()}removeReference(t,r,s){return this.Ri.set(s,t.currentSequenceNumber),st.resolve()}updateLimboDocument(t,r){return this.Ri.set(r,t.currentSequenceNumber),st.resolve()}ui(t){let r=t.key.toString().length;return t.isFoundDocument()&&(r+=gc(t.data.value)),r}gr(t,r,s){return st.or([()=>this.persistence.Pi(t,r),()=>this.persistence.getTargetCache().containsKey(t,r),()=>{const o=this.Ri.get(r);return st.resolve(o!==void 0&&o>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Am{constructor(t,r,s,o){this.targetId=t,this.fromCache=r,this.ls=s,this.hs=o}static Ps(t,r){let s=Wt(),o=Wt();for(const u of r.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Am(t,r.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u2{constructor(){this.Ts=!1,this.Is=!1,this.Es=100,this.ds=function(){return iR()?8:U1(nR())>0?6:4}()}initialize(t,r){this.As=t,this.indexManager=r,this.Ts=!0}getDocumentsMatchingQuery(t,r,s,o){const u={result:null};return this.Rs(t,r).next(f=>{u.result=f}).next(()=>{if(!u.result)return this.Vs(t,r,o,s).next(f=>{u.result=f})}).next(()=>{if(u.result)return;const f=new o2;return this.fs(t,r,f).next(m=>{if(u.result=m,this.Is)return this.gs(t,r,f,m.size)})}).next(()=>u.result)}gs(t,r,s,o){return s.documentReadCount<this.Es?(Fs()<=ae.DEBUG&&pt("QueryEngine","SDK will not create cache indexes for query:",Gs(r),"since it only creates cache indexes for collection contains","more than or equal to",this.Es,"documents"),st.resolve()):(Fs()<=ae.DEBUG&&pt("QueryEngine","Query:",Gs(r),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ds*o?(Fs()<=ae.DEBUG&&pt("QueryEngine","The SDK decides to create cache indexes for query:",Gs(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Hr(r))):st.resolve())}Rs(t,r){if(a_(r))return st.resolve(null);let s=Hr(r);return this.indexManager.getIndexType(t,s).next(o=>o===0?null:(r.limit!==null&&o===1&&(r=Ud(r,null,"F"),s=Hr(r)),this.indexManager.getDocumentsMatchingTarget(t,s).next(u=>{const f=Wt(...u);return this.As.getDocuments(t,f).next(m=>this.indexManager.getMinOffset(t,s).next(g=>{const y=this.ps(r,m);return this.ys(r,y,f,g.readTime)?this.Rs(t,Ud(r,null,"F")):this.ws(t,y,r,g)}))})))}Vs(t,r,s,o){return a_(r)||o.isEqual(zt.min())?st.resolve(null):this.As.getDocuments(t,s).next(u=>{const f=this.ps(r,u);return this.ys(r,f,s,o)?st.resolve(null):(Fs()<=ae.DEBUG&&pt("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Gs(r)),this.ws(t,f,r,M1(o,Do)).next(m=>m))})}ps(t,r){let s=new Ke(K0(t));return r.forEach((o,u)=>{Yc(t,u)&&(s=s.add(u))}),s}ys(t,r,s,o){if(t.limit===null)return!1;if(s.size!==r.size)return!0;const u=t.limitType==="F"?r.last():r.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}fs(t,r,s){return Fs()<=ae.DEBUG&&pt("QueryEngine","Using full collection scan to execute query:",Gs(r)),this.As.getDocumentsMatchingQuery(t,r,ua.min(),s)}ws(t,r,s,o){return this.As.getDocumentsMatchingQuery(t,s,o).next(u=>(r.forEach(f=>{u=u.insert(f.key,f)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bm="LocalStore",c2=3e8;class h2{constructor(t,r,s,o){this.persistence=t,this.bs=r,this.serializer=o,this.Ss=new Ce(Gt),this.Ds=new es(u=>mm(u),gm),this.vs=new Map,this.Cs=t.getRemoteDocumentCache(),this.ai=t.getTargetCache(),this.ci=t.getBundleCache(),this.Fs(s)}Fs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new Ww(this.Cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Cs.setIndexManager(this.indexManager),this.bs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>t.collect(r,this.Ss))}}function f2(i,t,r,s){return new h2(i,t,r,s)}async function yE(i,t){const r=Bt(i);return await r.persistence.runTransaction("Handle user change","readonly",s=>{let o;return r.mutationQueue.getAllMutationBatches(s).next(u=>(o=u,r.Fs(t),r.mutationQueue.getAllMutationBatches(s))).next(u=>{const f=[],m=[];let g=Wt();for(const y of o){f.push(y.batchId);for(const E of y.mutations)g=g.add(E.key)}for(const y of u){m.push(y.batchId);for(const E of y.mutations)g=g.add(E.key)}return r.localDocuments.getDocuments(s,g).next(y=>({Ms:y,removedBatchIds:f,addedBatchIds:m}))})})}function d2(i,t){const r=Bt(i);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=t.batch.keys(),u=r.Cs.newChangeBuffer({trackRemovals:!0});return function(m,g,y,E){const S=y.batch,A=S.keys();let D=st.resolve();return A.forEach(O=>{D=D.next(()=>E.getEntry(g,O)).next(J=>{const H=y.docVersions.get(O);fe(H!==null,48541),J.version.compareTo(H)<0&&(S.applyToRemoteDocument(J,y),J.isValidDocument()&&(J.setReadTime(y.commitVersion),E.addEntry(J)))})}),D.next(()=>m.mutationQueue.removeMutationBatch(g,S))}(r,s,t,u).next(()=>u.apply(s)).next(()=>r.mutationQueue.performConsistencyCheck(s)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(s,o,t.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(m){let g=Wt();for(let y=0;y<m.mutationResults.length;++y)m.mutationResults[y].transformResults.length>0&&(g=g.add(m.batch.mutations[y].key));return g}(t))).next(()=>r.localDocuments.getDocuments(s,o))})}function vE(i){const t=Bt(i);return t.persistence.runTransaction("Get last remote snapshot version","readonly",r=>t.ai.getLastRemoteSnapshotVersion(r))}function m2(i,t){const r=Bt(i),s=t.snapshotVersion;let o=r.Ss;return r.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const f=r.Cs.newChangeBuffer({trackRemovals:!0});o=r.Ss;const m=[];t.targetChanges.forEach((E,S)=>{const A=o.get(S);if(!A)return;m.push(r.ai.removeMatchingKeys(u,E.removedDocuments,S).next(()=>r.ai.addMatchingKeys(u,E.addedDocuments,S)));let D=A.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(S)!==null?D=D.withResumeToken(cn.EMPTY_BYTE_STRING,zt.min()).withLastLimboFreeSnapshotVersion(zt.min()):E.resumeToken.approximateByteSize()>0&&(D=D.withResumeToken(E.resumeToken,s)),o=o.insert(S,D),function(J,H,k){return J.resumeToken.approximateByteSize()===0||H.snapshotVersion.toMicroseconds()-J.snapshotVersion.toMicroseconds()>=c2?!0:k.addedDocuments.size+k.modifiedDocuments.size+k.removedDocuments.size>0}(A,D,E)&&m.push(r.ai.updateTargetData(u,D))});let g=Ti(),y=Wt();if(t.documentUpdates.forEach(E=>{t.resolvedLimboDocuments.has(E)&&m.push(r.persistence.referenceDelegate.updateLimboDocument(u,E))}),m.push(g2(u,f,t.documentUpdates).next(E=>{g=E.xs,y=E.Os})),!s.isEqual(zt.min())){const E=r.ai.getLastRemoteSnapshotVersion(u).next(S=>r.ai.setTargetsMetadata(u,u.currentSequenceNumber,s));m.push(E)}return st.waitFor(m).next(()=>f.apply(u)).next(()=>r.localDocuments.getLocalViewOfDocuments(u,g,y)).next(()=>g)}).then(u=>(r.Ss=o,u))}function g2(i,t,r){let s=Wt(),o=Wt();return r.forEach(u=>s=s.add(u)),t.getEntries(i,s).next(u=>{let f=Ti();return r.forEach((m,g)=>{const y=u.get(m);g.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(m)),g.isNoDocument()&&g.version.isEqual(zt.min())?(t.removeEntry(m,g.readTime),f=f.insert(m,g)):!y.isValidDocument()||g.version.compareTo(y.version)>0||g.version.compareTo(y.version)===0&&y.hasPendingWrites?(t.addEntry(g),f=f.insert(m,g)):pt(bm,"Ignoring outdated watch update for ",m,". Current version:",y.version," Watch version:",g.version)}),{xs:f,Os:o}})}function p2(i,t){const r=Bt(i);return r.persistence.runTransaction("Get next mutation batch","readonly",s=>(t===void 0&&(t=hm),r.mutationQueue.getNextMutationBatchAfterBatchId(s,t)))}function y2(i,t){const r=Bt(i);return r.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return r.ai.getTargetData(s,t).next(u=>u?(o=u,st.resolve(o)):r.ai.allocateTargetId(s).next(f=>(o=new ea(t,f,"TargetPurposeListen",s.currentSequenceNumber),r.ai.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=r.Ss.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(r.Ss=r.Ss.insert(s.targetId,s),r.Ds.set(t,s.targetId)),s})}async function jd(i,t,r){const s=Bt(i),o=s.Ss.get(t),u=r?"readwrite":"readwrite-primary";try{r||await s.persistence.runTransaction("Release target",u,f=>s.persistence.referenceDelegate.removeTarget(f,o))}catch(f){if(!ll(f))throw f;pt(bm,`Failed to update sequence numbers for target ${t}: ${f}`)}s.Ss=s.Ss.remove(t),s.Ds.delete(o.target)}function v_(i,t,r){const s=Bt(i);let o=zt.min(),u=Wt();return s.persistence.runTransaction("Execute query","readwrite",f=>function(g,y,E){const S=Bt(g),A=S.Ds.get(E);return A!==void 0?st.resolve(S.Ss.get(A)):S.ai.getTargetData(y,E)}(s,f,Hr(t)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.ai.getMatchingKeysForTargetId(f,m.targetId).next(g=>{u=g})}).next(()=>s.bs.getDocumentsMatchingQuery(f,t,r?o:zt.min(),r?u:Wt())).next(m=>(v2(s,iw(t),m),{documents:m,Ns:u})))}function v2(i,t,r){let s=i.vs.get(t)||zt.min();r.forEach((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),i.vs.set(t,s)}class __{constructor(){this.activeTargetIds=cw()}$s(t){this.activeTargetIds=this.activeTargetIds.add(t)}Us(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Qs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class _2{constructor(){this.So=new __,this.Do={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,r,s){}addLocalQueryTarget(t,r=!0){return r&&this.So.$s(t),this.Do[t]||"not-current"}updateQueryState(t,r,s){this.Do[t]=r}removeLocalQueryTarget(t){this.So.Us(t)}isLocalQueryTarget(t){return this.So.activeTargetIds.has(t)}clearQueryState(t){delete this.Do[t]}getAllActiveQueryTargets(){return this.So.activeTargetIds}isActiveQueryTarget(t){return this.So.activeTargetIds.has(t)}start(){return this.So=new __,Promise.resolve()}handleUserChange(t,r,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E2{vo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E_="ConnectivityMonitor";class T_{constructor(){this.Co=()=>this.Fo(),this.Mo=()=>this.xo(),this.Oo=[],this.No()}vo(t){this.Oo.push(t)}shutdown(){window.removeEventListener("online",this.Co),window.removeEventListener("offline",this.Mo)}No(){window.addEventListener("online",this.Co),window.addEventListener("offline",this.Mo)}Fo(){pt(E_,"Network connectivity changed: AVAILABLE");for(const t of this.Oo)t(0)}xo(){pt(E_,"Network connectivity changed: UNAVAILABLE");for(const t of this.Oo)t(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let uc=null;function Hd(){return uc===null?uc=function(){return 268435456+Math.round(2147483648*Math.random())}():uc++,"0x"+uc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vd="RestConnection",T2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class S2{get Bo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const r=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Lo=r+"://"+t.host,this.ko=`projects/${s}/databases/${o}`,this.qo=this.databaseId.database===xc?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Qo(t,r,s,o,u){const f=Hd(),m=this.$o(t,r.toUriEncodedString());pt(vd,`Sending RPC '${t}' ${f}:`,m,s);const g={"google-cloud-resource-prefix":this.ko,"x-goog-request-params":this.qo};return this.Uo(g,o,u),this.Ko(t,m,g,s).then(y=>(pt(vd,`Received RPC '${t}' ${f}: `,y),y),y=>{throw Zs(vd,`RPC '${t}' ${f} failed with error: `,y,"url: ",m,"request:",s),y})}Wo(t,r,s,o,u,f){return this.Qo(t,r,s,o,u)}Uo(t,r,s){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+al}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,u)=>t[u]=o),s&&s.headers.forEach((o,u)=>t[u]=o)}$o(t,r){const s=T2[t];return`${this.Lo}/v1/${r}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A2{constructor(t){this.Go=t.Go,this.zo=t.zo}jo(t){this.Ho=t}Jo(t){this.Yo=t}Zo(t){this.Xo=t}onMessage(t){this.e_=t}close(){this.zo()}send(t){this.Go(t)}t_(){this.Ho()}n_(){this.Yo()}r_(t){this.Xo(t)}i_(t){this.e_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pn="WebChannelConnection";class b2 extends S2{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Ko(t,r,s,o){const u=Hd();return new Promise((f,m)=>{const g=new T0;g.setWithCredentials(!0),g.listenOnce(S0.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case mc.NO_ERROR:const E=g.getResponseJson();pt(pn,`XHR for RPC '${t}' ${u} received:`,JSON.stringify(E)),f(E);break;case mc.TIMEOUT:pt(pn,`RPC '${t}' ${u} timed out`),m(new wt(ut.DEADLINE_EXCEEDED,"Request time out"));break;case mc.HTTP_ERROR:const S=g.getStatus();if(pt(pn,`RPC '${t}' ${u} failed with status:`,S,"response text:",g.getResponseText()),S>0){let A=g.getResponseJson();Array.isArray(A)&&(A=A[0]);const D=A==null?void 0:A.error;if(D&&D.status&&D.message){const O=function(H){const k=H.toLowerCase().replace(/_/g,"-");return Object.values(ut).indexOf(k)>=0?k:ut.UNKNOWN}(D.status);m(new wt(O,D.message))}else m(new wt(ut.UNKNOWN,"Server responded with status "+g.getStatus()))}else m(new wt(ut.UNAVAILABLE,"Connection failed."));break;default:Ot(9055,{s_:t,streamId:u,o_:g.getLastErrorCode(),__:g.getLastError()})}}finally{pt(pn,`RPC '${t}' ${u} completed.`)}});const y=JSON.stringify(o);pt(pn,`RPC '${t}' ${u} sending request:`,o),g.send(r,"POST",y,s,15)})}a_(t,r,s){const o=Hd(),u=[this.Lo,"/","google.firestore.v1.Firestore","/",t,"/channel"],f=R0(),m=b0(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(g.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(g.useFetchStreams=!0),this.Uo(g.initMessageHeaders,r,s),g.encodeInitMessageHeaders=!0;const E=u.join("");pt(pn,`Creating RPC '${t}' stream ${o}: ${E}`,g);const S=f.createWebChannel(E,g);let A=!1,D=!1;const O=new A2({Go:H=>{D?pt(pn,`Not sending because RPC '${t}' stream ${o} is closed:`,H):(A||(pt(pn,`Opening RPC '${t}' stream ${o} transport.`),S.open(),A=!0),pt(pn,`RPC '${t}' stream ${o} sending:`,H),S.send(H))},zo:()=>S.close()}),J=(H,k,W)=>{H.listen(k,lt=>{try{W(lt)}catch(gt){setTimeout(()=>{throw gt},0)}})};return J(S,po.EventType.OPEN,()=>{D||(pt(pn,`RPC '${t}' stream ${o} transport opened.`),O.t_())}),J(S,po.EventType.CLOSE,()=>{D||(D=!0,pt(pn,`RPC '${t}' stream ${o} transport closed`),O.r_())}),J(S,po.EventType.ERROR,H=>{D||(D=!0,Zs(pn,`RPC '${t}' stream ${o} transport errored. Name:`,H.name,"Message:",H.message),O.r_(new wt(ut.UNAVAILABLE,"The operation could not be completed")))}),J(S,po.EventType.MESSAGE,H=>{var k;if(!D){const W=H.data[0];fe(!!W,16349);const lt=W,gt=(lt==null?void 0:lt.error)||((k=lt[0])===null||k===void 0?void 0:k.error);if(gt){pt(pn,`RPC '${t}' stream ${o} received error:`,gt);const mt=gt.status;let F=function(w){const V=ke[w];if(V!==void 0)return aE(V)}(mt),N=gt.message;F===void 0&&(F=ut.INTERNAL,N="Unknown error status: "+mt+" with message "+gt.message),D=!0,O.r_(new wt(F,N)),S.close()}else pt(pn,`RPC '${t}' stream ${o} received:`,W),O.i_(W)}}),J(m,A0.STAT_EVENT,H=>{H.stat===Id.PROXY?pt(pn,`RPC '${t}' stream ${o} detected buffering proxy`):H.stat===Id.NOPROXY&&pt(pn,`RPC '${t}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{O.n_()},0),O}}function _d(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zc(i){return new Dw(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _E{constructor(t,r,s=1e3,o=1.5,u=6e4){this.bi=t,this.timerId=r,this.u_=s,this.c_=o,this.l_=u,this.h_=0,this.P_=null,this.T_=Date.now(),this.reset()}reset(){this.h_=0}I_(){this.h_=this.l_}E_(t){this.cancel();const r=Math.floor(this.h_+this.d_()),s=Math.max(0,Date.now()-this.T_),o=Math.max(0,r-s);o>0&&pt("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.h_} ms, delay with jitter: ${r} ms, last attempt: ${s} ms ago)`),this.P_=this.bi.enqueueAfterDelay(this.timerId,o,()=>(this.T_=Date.now(),t())),this.h_*=this.c_,this.h_<this.u_&&(this.h_=this.u_),this.h_>this.l_&&(this.h_=this.l_)}A_(){this.P_!==null&&(this.P_.skipDelay(),this.P_=null)}cancel(){this.P_!==null&&(this.P_.cancel(),this.P_=null)}d_(){return(Math.random()-.5)*this.h_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S_="PersistentStream";class EE{constructor(t,r,s,o,u,f,m,g){this.bi=t,this.R_=s,this.V_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=g,this.state=0,this.m_=0,this.f_=null,this.g_=null,this.stream=null,this.p_=0,this.y_=new _E(t,r)}w_(){return this.state===1||this.state===5||this.b_()}b_(){return this.state===2||this.state===3}start(){this.p_=0,this.state!==4?this.auth():this.S_()}async stop(){this.w_()&&await this.close(0)}D_(){this.state=0,this.y_.reset()}v_(){this.b_()&&this.f_===null&&(this.f_=this.bi.enqueueAfterDelay(this.R_,6e4,()=>this.C_()))}F_(t){this.M_(),this.stream.send(t)}async C_(){if(this.b_())return this.close(0)}M_(){this.f_&&(this.f_.cancel(),this.f_=null)}x_(){this.g_&&(this.g_.cancel(),this.g_=null)}async close(t,r){this.M_(),this.x_(),this.y_.cancel(),this.m_++,t!==4?this.y_.reset():r&&r.code===ut.RESOURCE_EXHAUSTED?(Ei(r.toString()),Ei("Using maximum backoff delay to prevent overloading the backend."),this.y_.I_()):r&&r.code===ut.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.O_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.Zo(r)}O_(){}auth(){this.state=1;const t=this.N_(this.m_),r=this.m_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.m_===r&&this.B_(s,o)},s=>{t(()=>{const o=new wt(ut.UNKNOWN,"Fetching auth token failed: "+s.message);return this.L_(o)})})}B_(t,r){const s=this.N_(this.m_);this.stream=this.k_(t,r),this.stream.jo(()=>{s(()=>this.listener.jo())}),this.stream.Jo(()=>{s(()=>(this.state=2,this.g_=this.bi.enqueueAfterDelay(this.V_,1e4,()=>(this.b_()&&(this.state=3),Promise.resolve())),this.listener.Jo()))}),this.stream.Zo(o=>{s(()=>this.L_(o))}),this.stream.onMessage(o=>{s(()=>++this.p_==1?this.q_(o):this.onNext(o))})}S_(){this.state=5,this.y_.E_(async()=>{this.state=0,this.start()})}L_(t){return pt(S_,`close with error: ${t}`),this.stream=null,this.close(4,t)}N_(t){return r=>{this.bi.enqueueAndForget(()=>this.m_===t?r():(pt(S_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class R2 extends EE{constructor(t,r,s,o,u,f){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,s,o,f),this.serializer=u}k_(t,r){return this.connection.a_("Listen",t,r)}q_(t){return this.onNext(t)}onNext(t){this.y_.reset();const r=Mw(this.serializer,t),s=function(u){if(!("targetChange"in u))return zt.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?zt.min():f.readTime?qr(f.readTime):zt.min()}(t);return this.listener.Q_(r,s)}U_(t){const r={};r.database=kd(this.serializer),r.addTarget=function(u,f){let m;const g=f.target;if(m=Ld(g)?{documents:Ow(u,g)}:{query:Lw(u,g).gt},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=oE(u,f.resumeToken);const y=Pd(u,f.expectedCount);y!==null&&(m.expectedCount=y)}else if(f.snapshotVersion.compareTo(zt.min())>0){m.readTime=Lc(u,f.snapshotVersion.toTimestamp());const y=Pd(u,f.expectedCount);y!==null&&(m.expectedCount=y)}return m}(this.serializer,t);const s=Pw(this.serializer,t);s&&(r.labels=s),this.F_(r)}K_(t){const r={};r.database=kd(this.serializer),r.removeTarget=t,this.F_(r)}}class w2 extends EE{constructor(t,r,s,o,u,f){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,s,o,f),this.serializer=u}get W_(){return this.p_>0}start(){this.lastStreamToken=void 0,super.start()}O_(){this.W_&&this.G_([])}k_(t,r){return this.connection.a_("Write",t,r)}q_(t){return fe(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,fe(!t.writeResults||t.writeResults.length===0,55816),this.listener.z_()}onNext(t){fe(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.y_.reset();const r=Vw(t.writeResults,t.commitTime),s=qr(t.commitTime);return this.listener.j_(s,r)}H_(){const t={};t.database=kd(this.serializer),this.F_(t)}G_(t){const r={streamToken:this.lastStreamToken,writes:t.map(s=>Nw(this.serializer,s))};this.F_(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C2{}class D2 extends C2{constructor(t,r,s,o){super(),this.authCredentials=t,this.appCheckCredentials=r,this.connection=s,this.serializer=o,this.J_=!1}Y_(){if(this.J_)throw new wt(ut.FAILED_PRECONDITION,"The client has already been terminated.")}Qo(t,r,s,o){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.connection.Qo(t,zd(r,s),o,u,f)).catch(u=>{throw u.name==="FirebaseError"?(u.code===ut.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new wt(ut.UNKNOWN,u.toString())})}Wo(t,r,s,o,u){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,m])=>this.connection.Wo(t,zd(r,s),o,f,m,u)).catch(f=>{throw f.name==="FirebaseError"?(f.code===ut.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new wt(ut.UNKNOWN,f.toString())})}terminate(){this.J_=!0,this.connection.terminate()}}class x2{constructor(t,r){this.asyncQueue=t,this.onlineStateHandler=r,this.state="Unknown",this.Z_=0,this.X_=null,this.ea=!0}ta(){this.Z_===0&&(this.na("Unknown"),this.X_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.X_=null,this.ra("Backend didn't respond within 10 seconds."),this.na("Offline"),Promise.resolve())))}ia(t){this.state==="Online"?this.na("Unknown"):(this.Z_++,this.Z_>=1&&(this.sa(),this.ra(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.na("Offline")))}set(t){this.sa(),this.Z_=0,t==="Online"&&(this.ea=!1),this.na(t)}na(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}ra(t){const r=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ea?(Ei(r),this.ea=!1):pt("OnlineStateTracker",r)}sa(){this.X_!==null&&(this.X_.cancel(),this.X_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Za="RemoteStore";class I2{constructor(t,r,s,o,u){this.localStore=t,this.datastore=r,this.asyncQueue=s,this.remoteSyncer={},this.oa=[],this._a=new Map,this.aa=new Set,this.ua=[],this.ca=u,this.ca.vo(f=>{s.enqueueAndForget(async()=>{ns(this)&&(pt(Za,"Restarting streams for network reachability change."),await async function(g){const y=Bt(g);y.aa.add(4),await Bo(y),y.la.set("Unknown"),y.aa.delete(4),await Jc(y)}(this))})}),this.la=new x2(s,o)}}async function Jc(i){if(ns(i))for(const t of i.ua)await t(!0)}async function Bo(i){for(const t of i.ua)await t(!1)}function TE(i,t){const r=Bt(i);r._a.has(t.targetId)||(r._a.set(t.targetId,t),Dm(r)?Cm(r):ol(r).b_()&&wm(r,t))}function Rm(i,t){const r=Bt(i),s=ol(r);r._a.delete(t),s.b_()&&SE(r,t),r._a.size===0&&(s.b_()?s.v_():ns(r)&&r.la.set("Unknown"))}function wm(i,t){if(i.ha.Ke(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(zt.min())>0){const r=i.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(r)}ol(i).U_(t)}function SE(i,t){i.ha.Ke(t),ol(i).K_(t)}function Cm(i){i.ha=new bw({getRemoteKeysForTarget:t=>i.remoteSyncer.getRemoteKeysForTarget(t),Rt:t=>i._a.get(t)||null,Pt:()=>i.datastore.serializer.databaseId}),ol(i).start(),i.la.ta()}function Dm(i){return ns(i)&&!ol(i).w_()&&i._a.size>0}function ns(i){return Bt(i).aa.size===0}function AE(i){i.ha=void 0}async function M2(i){i.la.set("Online")}async function N2(i){i._a.forEach((t,r)=>{wm(i,t)})}async function V2(i,t){AE(i),Dm(i)?(i.la.ia(t),Cm(i)):i.la.set("Unknown")}async function O2(i,t,r){if(i.la.set("Online"),t instanceof lE&&t.state===2&&t.cause)try{await async function(o,u){const f=u.cause;for(const m of u.targetIds)o._a.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o._a.delete(m),o.ha.removeTarget(m))}(i,t)}catch(s){pt(Za,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await Pc(i,s)}else if(t instanceof vc?i.ha.Xe(t):t instanceof sE?i.ha.ot(t):i.ha.nt(t),!r.isEqual(zt.min()))try{const s=await vE(i.localStore);r.compareTo(s)>=0&&await function(u,f){const m=u.ha.It(f);return m.targetChanges.forEach((g,y)=>{if(g.resumeToken.approximateByteSize()>0){const E=u._a.get(y);E&&u._a.set(y,E.withResumeToken(g.resumeToken,f))}}),m.targetMismatches.forEach((g,y)=>{const E=u._a.get(g);if(!E)return;u._a.set(g,E.withResumeToken(cn.EMPTY_BYTE_STRING,E.snapshotVersion)),SE(u,g);const S=new ea(E.target,g,y,E.sequenceNumber);wm(u,S)}),u.remoteSyncer.applyRemoteEvent(m)}(i,r)}catch(s){pt(Za,"Failed to raise snapshot:",s),await Pc(i,s)}}async function Pc(i,t,r){if(!ll(t))throw t;i.aa.add(1),await Bo(i),i.la.set("Offline"),r||(r=()=>vE(i.localStore)),i.asyncQueue.enqueueRetryable(async()=>{pt(Za,"Retrying IndexedDB access"),await r(),i.aa.delete(1),await Jc(i)})}function bE(i,t){return t().catch(r=>Pc(i,r,t))}async function Wc(i){const t=Bt(i),r=da(t);let s=t.oa.length>0?t.oa[t.oa.length-1].batchId:hm;for(;L2(t);)try{const o=await p2(t.localStore,s);if(o===null){t.oa.length===0&&r.v_();break}s=o.batchId,U2(t,o)}catch(o){await Pc(t,o)}RE(t)&&wE(t)}function L2(i){return ns(i)&&i.oa.length<10}function U2(i,t){i.oa.push(t);const r=da(i);r.b_()&&r.W_&&r.G_(t.mutations)}function RE(i){return ns(i)&&!da(i).w_()&&i.oa.length>0}function wE(i){da(i).start()}async function P2(i){da(i).H_()}async function z2(i){const t=da(i);for(const r of i.oa)t.G_(r.mutations)}async function B2(i,t,r){const s=i.oa.shift(),o=vm.from(s,t,r);await bE(i,()=>i.remoteSyncer.applySuccessfulWrite(o)),await Wc(i)}async function k2(i,t){t&&da(i).W_&&await async function(s,o){if(function(f){return Sw(f)&&f!==ut.ABORTED}(o.code)){const u=s.oa.shift();da(s).D_(),await bE(s,()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o)),await Wc(s)}}(i,t),RE(i)&&wE(i)}async function A_(i,t){const r=Bt(i);r.asyncQueue.verifyOperationInProgress(),pt(Za,"RemoteStore received new credentials");const s=ns(r);r.aa.add(3),await Bo(r),s&&r.la.set("Unknown"),await r.remoteSyncer.handleCredentialChange(t),r.aa.delete(3),await Jc(r)}async function j2(i,t){const r=Bt(i);t?(r.aa.delete(2),await Jc(r)):t||(r.aa.add(2),await Bo(r),r.la.set("Unknown"))}function ol(i){return i.Pa||(i.Pa=function(r,s,o){const u=Bt(r);return u.Y_(),new R2(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{jo:M2.bind(null,i),Jo:N2.bind(null,i),Zo:V2.bind(null,i),Q_:O2.bind(null,i)}),i.ua.push(async t=>{t?(i.Pa.D_(),Dm(i)?Cm(i):i.la.set("Unknown")):(await i.Pa.stop(),AE(i))})),i.Pa}function da(i){return i.Ta||(i.Ta=function(r,s,o){const u=Bt(r);return u.Y_(),new w2(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{jo:()=>Promise.resolve(),Jo:P2.bind(null,i),Zo:k2.bind(null,i),z_:z2.bind(null,i),j_:B2.bind(null,i)}),i.ua.push(async t=>{t?(i.Ta.D_(),await Wc(i)):(await i.Ta.stop(),i.oa.length>0&&(pt(Za,`Stopping write stream with ${i.oa.length} pending writes`),i.oa=[]))})),i.Ta}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xm{constructor(t,r,s,o,u){this.asyncQueue=t,this.timerId=r,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new aa,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,r,s,o,u){const f=Date.now()+s,m=new xm(t,r,f,o,u);return m.start(s),m}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new wt(ut.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Im(i,t){if(Ei("AsyncQueue",`${t}: ${i}`),ll(i))return new wt(ut.UNAVAILABLE,`${t}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $s{static emptySet(t){return new $s(t.comparator)}constructor(t){this.comparator=t?(r,s)=>t(r,s)||xt.comparator(r.key,s.key):(r,s)=>xt.comparator(r.key,s.key),this.keyedMap=yo(),this.sortedSet=new Ce(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const r=this.keyedMap.get(t);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((r,s)=>(t(r),!1))}add(t){const r=this.delete(t.key);return r.copy(r.keyedMap.insert(t.key,t),r.sortedSet.insert(t,null))}delete(t){const r=this.get(t);return r?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(r)):this}isEqual(t){if(!(t instanceof $s)||this.size!==t.size)return!1;const r=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;r.hasNext();){const o=r.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach(r=>{t.push(r.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,r){const s=new $s;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=r,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b_{constructor(){this.Ia=new Ce(xt.comparator)}track(t){const r=t.doc.key,s=this.Ia.get(r);s?t.type!==0&&s.type===3?this.Ia=this.Ia.insert(r,t):t.type===3&&s.type!==1?this.Ia=this.Ia.insert(r,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.Ia=this.Ia.insert(r,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.Ia=this.Ia.insert(r,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.Ia=this.Ia.remove(r):t.type===1&&s.type===2?this.Ia=this.Ia.insert(r,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.Ia=this.Ia.insert(r,{type:2,doc:t.doc}):Ot(63341,{Vt:t,Ea:s}):this.Ia=this.Ia.insert(r,t)}da(){const t=[];return this.Ia.inorderTraversal((r,s)=>{t.push(s)}),t}}class nl{constructor(t,r,s,o,u,f,m,g,y){this.query=t,this.docs=r,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=g,this.hasCachedResults=y}static fromInitialDocuments(t,r,s,o,u){const f=[];return r.forEach(m=>{f.push({type:0,doc:m})}),new nl(t,r,$s.emptySet(r),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Qc(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const r=this.docChanges,s=t.docChanges;if(r.length!==s.length)return!1;for(let o=0;o<r.length;o++)if(r[o].type!==s[o].type||!r[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H2{constructor(){this.Aa=void 0,this.Ra=[]}Va(){return this.Ra.some(t=>t.ma())}}class q2{constructor(){this.queries=R_(),this.onlineState="Unknown",this.fa=new Set}terminate(){(function(r,s){const o=Bt(r),u=o.queries;o.queries=R_(),u.forEach((f,m)=>{for(const g of m.Ra)g.onError(s)})})(this,new wt(ut.ABORTED,"Firestore shutting down"))}}function R_(){return new es(i=>Y0(i),Qc)}async function F2(i,t){const r=Bt(i);let s=3;const o=t.query;let u=r.queries.get(o);u?!u.Va()&&t.ma()&&(s=2):(u=new H2,s=t.ma()?0:1);try{switch(s){case 0:u.Aa=await r.onListen(o,!0);break;case 1:u.Aa=await r.onListen(o,!1);break;case 2:await r.onFirstRemoteStoreListen(o)}}catch(f){const m=Im(f,`Initialization of query '${Gs(t.query)}' failed`);return void t.onError(m)}r.queries.set(o,u),u.Ra.push(t),t.ga(r.onlineState),u.Aa&&t.pa(u.Aa)&&Mm(r)}async function G2(i,t){const r=Bt(i),s=t.query;let o=3;const u=r.queries.get(s);if(u){const f=u.Ra.indexOf(t);f>=0&&(u.Ra.splice(f,1),u.Ra.length===0?o=t.ma()?0:1:!u.Va()&&t.ma()&&(o=2))}switch(o){case 0:return r.queries.delete(s),r.onUnlisten(s,!0);case 1:return r.queries.delete(s),r.onUnlisten(s,!1);case 2:return r.onLastRemoteStoreUnlisten(s);default:return}}function Q2(i,t){const r=Bt(i);let s=!1;for(const o of t){const u=o.query,f=r.queries.get(u);if(f){for(const m of f.Ra)m.pa(o)&&(s=!0);f.Aa=o}}s&&Mm(r)}function Y2(i,t,r){const s=Bt(i),o=s.queries.get(t);if(o)for(const u of o.Ra)u.onError(r);s.queries.delete(t)}function Mm(i){i.fa.forEach(t=>{t.next()})}var qd,w_;(w_=qd||(qd={})).ya="default",w_.Cache="cache";class K2{constructor(t,r,s){this.query=t,this.wa=r,this.ba=!1,this.Sa=null,this.onlineState="Unknown",this.options=s||{}}pa(t){if(!this.options.includeMetadataChanges){const s=[];for(const o of t.docChanges)o.type!==3&&s.push(o);t=new nl(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let r=!1;return this.ba?this.Da(t)&&(this.wa.next(t),r=!0):this.va(t,this.onlineState)&&(this.Ca(t),r=!0),this.Sa=t,r}onError(t){this.wa.error(t)}ga(t){this.onlineState=t;let r=!1;return this.Sa&&!this.ba&&this.va(this.Sa,t)&&(this.Ca(this.Sa),r=!0),r}va(t,r){if(!t.fromCache||!this.ma())return!0;const s=r!=="Offline";return(!this.options.Fa||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||r==="Offline")}Da(t){if(t.docChanges.length>0)return!0;const r=this.Sa&&this.Sa.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}Ca(t){t=nl.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.ba=!0,this.wa.next(t)}ma(){return this.options.source!==qd.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CE{constructor(t){this.key=t}}class DE{constructor(t){this.key=t}}class X2{constructor(t,r){this.query=t,this.qa=r,this.Qa=null,this.hasCachedResults=!1,this.current=!1,this.$a=Wt(),this.mutatedKeys=Wt(),this.Ua=K0(t),this.Ka=new $s(this.Ua)}get Wa(){return this.qa}Ga(t,r){const s=r?r.za:new b_,o=r?r.Ka:this.Ka;let u=r?r.mutatedKeys:this.mutatedKeys,f=o,m=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal((E,S)=>{const A=o.get(E),D=Yc(this.query,S)?S:null,O=!!A&&this.mutatedKeys.has(A.key),J=!!D&&(D.hasLocalMutations||this.mutatedKeys.has(D.key)&&D.hasCommittedMutations);let H=!1;A&&D?A.data.isEqual(D.data)?O!==J&&(s.track({type:3,doc:D}),H=!0):this.ja(A,D)||(s.track({type:2,doc:D}),H=!0,(g&&this.Ua(D,g)>0||y&&this.Ua(D,y)<0)&&(m=!0)):!A&&D?(s.track({type:0,doc:D}),H=!0):A&&!D&&(s.track({type:1,doc:A}),H=!0,(g||y)&&(m=!0)),H&&(D?(f=f.add(D),u=J?u.add(E):u.delete(E)):(f=f.delete(E),u=u.delete(E)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{Ka:f,za:s,ys:m,mutatedKeys:u}}ja(t,r){return t.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(t,r,s,o){const u=this.Ka;this.Ka=t.Ka,this.mutatedKeys=t.mutatedKeys;const f=t.za.da();f.sort((E,S)=>function(D,O){const J=H=>{switch(H){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ot(20277,{Vt:H})}};return J(D)-J(O)}(E.type,S.type)||this.Ua(E.doc,S.doc)),this.Ha(s),o=o!=null&&o;const m=r&&!o?this.Ja():[],g=this.$a.size===0&&this.current&&!o?1:0,y=g!==this.Qa;return this.Qa=g,f.length!==0||y?{snapshot:new nl(this.query,t.Ka,u,f,t.mutatedKeys,g===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),Ya:m}:{Ya:m}}ga(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({Ka:this.Ka,za:new b_,mutatedKeys:this.mutatedKeys,ys:!1},!1)):{Ya:[]}}Za(t){return!this.qa.has(t)&&!!this.Ka.has(t)&&!this.Ka.get(t).hasLocalMutations}Ha(t){t&&(t.addedDocuments.forEach(r=>this.qa=this.qa.add(r)),t.modifiedDocuments.forEach(r=>{}),t.removedDocuments.forEach(r=>this.qa=this.qa.delete(r)),this.current=t.current)}Ja(){if(!this.current)return[];const t=this.$a;this.$a=Wt(),this.Ka.forEach(s=>{this.Za(s.key)&&(this.$a=this.$a.add(s.key))});const r=[];return t.forEach(s=>{this.$a.has(s)||r.push(new DE(s))}),this.$a.forEach(s=>{t.has(s)||r.push(new CE(s))}),r}Xa(t){this.qa=t.Ns,this.$a=Wt();const r=this.Ga(t.documents);return this.applyChanges(r,!0)}eu(){return nl.fromInitialDocuments(this.query,this.Ka,this.mutatedKeys,this.Qa===0,this.hasCachedResults)}}const Nm="SyncEngine";class $2{constructor(t,r,s){this.query=t,this.targetId=r,this.view=s}}class Z2{constructor(t){this.key=t,this.tu=!1}}class J2{constructor(t,r,s,o,u,f){this.localStore=t,this.remoteStore=r,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.nu={},this.ru=new es(m=>Y0(m),Qc),this.iu=new Map,this.su=new Set,this.ou=new Ce(xt.comparator),this._u=new Map,this.au=new Tm,this.uu={},this.cu=new Map,this.lu=el.ir(),this.onlineState="Unknown",this.hu=void 0}get isPrimaryClient(){return this.hu===!0}}async function W2(i,t,r=!0){const s=OE(i);let o;const u=s.ru.get(t);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.eu()):o=await xE(s,t,r,!0),o}async function tC(i,t){const r=OE(i);await xE(r,t,!0,!1)}async function xE(i,t,r,s){const o=await y2(i.localStore,Hr(t)),u=o.targetId,f=i.sharedClientState.addLocalQueryTarget(u,r);let m;return s&&(m=await eC(i,t,u,f==="current",o.resumeToken)),i.isPrimaryClient&&r&&TE(i.remoteStore,o),m}async function eC(i,t,r,s,o){i.Pu=(S,A,D)=>async function(J,H,k,W){let lt=H.view.Ga(k);lt.ys&&(lt=await v_(J.localStore,H.query,!1).then(({documents:N})=>H.view.Ga(N,lt)));const gt=W&&W.targetChanges.get(H.targetId),mt=W&&W.targetMismatches.get(H.targetId)!=null,F=H.view.applyChanges(lt,J.isPrimaryClient,gt,mt);return D_(J,H.targetId,F.Ya),F.snapshot}(i,S,A,D);const u=await v_(i.localStore,t,!0),f=new X2(t,u.Ns),m=f.Ga(u.documents),g=zo.createSynthesizedTargetChangeForCurrentChange(r,s&&i.onlineState!=="Offline",o),y=f.applyChanges(m,i.isPrimaryClient,g);D_(i,r,y.Ya);const E=new $2(t,r,f);return i.ru.set(t,E),i.iu.has(r)?i.iu.get(r).push(t):i.iu.set(r,[t]),y.snapshot}async function nC(i,t,r){const s=Bt(i),o=s.ru.get(t),u=s.iu.get(o.targetId);if(u.length>1)return s.iu.set(o.targetId,u.filter(f=>!Qc(f,t))),void s.ru.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await jd(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),r&&Rm(s.remoteStore,o.targetId),Fd(s,o.targetId)}).catch(sl)):(Fd(s,o.targetId),await jd(s.localStore,o.targetId,!0))}async function rC(i,t){const r=Bt(i),s=r.ru.get(t),o=r.iu.get(s.targetId);r.isPrimaryClient&&o.length===1&&(r.sharedClientState.removeLocalQueryTarget(s.targetId),Rm(r.remoteStore,s.targetId))}async function iC(i,t,r){const s=hC(i);try{const o=await function(f,m){const g=Bt(f),y=Ye.now(),E=m.reduce((D,O)=>D.add(O.key),Wt());let S,A;return g.persistence.runTransaction("Locally write mutations","readwrite",D=>{let O=Ti(),J=Wt();return g.Cs.getEntries(D,E).next(H=>{O=H,O.forEach((k,W)=>{W.isValidDocument()||(J=J.add(k))})}).next(()=>g.localDocuments.getOverlayedDocuments(D,O)).next(H=>{S=H;const k=[];for(const W of m){const lt=yw(W,S.get(W.key).overlayedDocument);lt!=null&&k.push(new pa(W.key,lt,B0(lt.value.mapValue),_r.exists(!0)))}return g.mutationQueue.addMutationBatch(D,y,k,m)}).next(H=>{A=H;const k=H.applyToLocalDocumentSet(S,J);return g.documentOverlayCache.saveOverlays(D,H.batchId,k)})}).then(()=>({batchId:A.batchId,changes:$0(S)}))}(s.localStore,t);s.sharedClientState.addPendingMutation(o.batchId),function(f,m,g){let y=f.uu[f.currentUser.toKey()];y||(y=new Ce(Gt)),y=y.insert(m,g),f.uu[f.currentUser.toKey()]=y}(s,o.batchId,r),await ko(s,o.changes),await Wc(s.remoteStore)}catch(o){const u=Im(o,"Failed to persist write");r.reject(u)}}async function IE(i,t){const r=Bt(i);try{const s=await m2(r.localStore,t);t.targetChanges.forEach((o,u)=>{const f=r._u.get(u);f&&(fe(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.tu=!0:o.modifiedDocuments.size>0?fe(f.tu,14607):o.removedDocuments.size>0&&(fe(f.tu,42227),f.tu=!1))}),await ko(r,s,t)}catch(s){await sl(s)}}function C_(i,t,r){const s=Bt(i);if(s.isPrimaryClient&&r===0||!s.isPrimaryClient&&r===1){const o=[];s.ru.forEach((u,f)=>{const m=f.view.ga(t);m.snapshot&&o.push(m.snapshot)}),function(f,m){const g=Bt(f);g.onlineState=m;let y=!1;g.queries.forEach((E,S)=>{for(const A of S.Ra)A.ga(m)&&(y=!0)}),y&&Mm(g)}(s.eventManager,t),o.length&&s.nu.Q_(o),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function aC(i,t,r){const s=Bt(i);s.sharedClientState.updateQueryState(t,"rejected",r);const o=s._u.get(t),u=o&&o.key;if(u){let f=new Ce(xt.comparator);f=f.insert(u,vn.newNoDocument(u,zt.min()));const m=Wt().add(u),g=new $c(zt.min(),new Map,new Ce(Gt),f,m);await IE(s,g),s.ou=s.ou.remove(u),s._u.delete(t),Vm(s)}else await jd(s.localStore,t,!1).then(()=>Fd(s,t,r)).catch(sl)}async function sC(i,t){const r=Bt(i),s=t.batch.batchId;try{const o=await d2(r.localStore,t);NE(r,s,null),ME(r,s),r.sharedClientState.updateMutationState(s,"acknowledged"),await ko(r,o)}catch(o){await sl(o)}}async function lC(i,t,r){const s=Bt(i);try{const o=await function(f,m){const g=Bt(f);return g.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let E;return g.mutationQueue.lookupMutationBatch(y,m).next(S=>(fe(S!==null,37113),E=S.keys(),g.mutationQueue.removeMutationBatch(y,S))).next(()=>g.mutationQueue.performConsistencyCheck(y)).next(()=>g.documentOverlayCache.removeOverlaysForBatchId(y,E,m)).next(()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,E)).next(()=>g.localDocuments.getDocuments(y,E))})}(s.localStore,t);NE(s,t,r),ME(s,t),s.sharedClientState.updateMutationState(t,"rejected",r),await ko(s,o)}catch(o){await sl(o)}}function ME(i,t){(i.cu.get(t)||[]).forEach(r=>{r.resolve()}),i.cu.delete(t)}function NE(i,t,r){const s=Bt(i);let o=s.uu[s.currentUser.toKey()];if(o){const u=o.get(t);u&&(r?u.reject(r):u.resolve(),o=o.remove(t)),s.uu[s.currentUser.toKey()]=o}}function Fd(i,t,r=null){i.sharedClientState.removeLocalQueryTarget(t);for(const s of i.iu.get(t))i.ru.delete(s),r&&i.nu.Tu(s,r);i.iu.delete(t),i.isPrimaryClient&&i.au.Ur(t).forEach(s=>{i.au.containsKey(s)||VE(i,s)})}function VE(i,t){i.su.delete(t.path.canonicalString());const r=i.ou.get(t);r!==null&&(Rm(i.remoteStore,r),i.ou=i.ou.remove(t),i._u.delete(r),Vm(i))}function D_(i,t,r){for(const s of r)s instanceof CE?(i.au.addReference(s.key,t),oC(i,s)):s instanceof DE?(pt(Nm,"Document no longer in limbo: "+s.key),i.au.removeReference(s.key,t),i.au.containsKey(s.key)||VE(i,s.key)):Ot(19791,{Iu:s})}function oC(i,t){const r=t.key,s=r.path.canonicalString();i.ou.get(r)||i.su.has(s)||(pt(Nm,"New document in limbo: "+r),i.su.add(s),Vm(i))}function Vm(i){for(;i.su.size>0&&i.ou.size<i.maxConcurrentLimboResolutions;){const t=i.su.values().next().value;i.su.delete(t);const r=new xt(Re.fromString(t)),s=i.lu.next();i._u.set(s,new Z2(r)),i.ou=i.ou.insert(r,s),TE(i.remoteStore,new ea(Hr(Q0(r.path)),s,"TargetPurposeLimboResolution",Hc.le))}}async function ko(i,t,r){const s=Bt(i),o=[],u=[],f=[];s.ru.isEmpty()||(s.ru.forEach((m,g)=>{f.push(s.Pu(g,t,r).then(y=>{var E;if((y||r)&&s.isPrimaryClient){const S=y?!y.fromCache:(E=r==null?void 0:r.targetChanges.get(g.targetId))===null||E===void 0?void 0:E.current;s.sharedClientState.updateQueryState(g.targetId,S?"current":"not-current")}if(y){o.push(y);const S=Am.Ps(g.targetId,y);u.push(S)}}))}),await Promise.all(f),s.nu.Q_(o),await async function(g,y){const E=Bt(g);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",S=>st.forEach(y,A=>st.forEach(A.ls,D=>E.persistence.referenceDelegate.addReference(S,A.targetId,D)).next(()=>st.forEach(A.hs,D=>E.persistence.referenceDelegate.removeReference(S,A.targetId,D)))))}catch(S){if(!ll(S))throw S;pt(bm,"Failed to update sequence numbers: "+S)}for(const S of y){const A=S.targetId;if(!S.fromCache){const D=E.Ss.get(A),O=D.snapshotVersion,J=D.withLastLimboFreeSnapshotVersion(O);E.Ss=E.Ss.insert(A,J)}}}(s.localStore,u))}async function uC(i,t){const r=Bt(i);if(!r.currentUser.isEqual(t)){pt(Nm,"User change. New user:",t.toKey());const s=await yE(r.localStore,t);r.currentUser=t,function(u,f){u.cu.forEach(m=>{m.forEach(g=>{g.reject(new wt(ut.CANCELLED,f))})}),u.cu.clear()}(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await ko(r,s.Ms)}}function cC(i,t){const r=Bt(i),s=r._u.get(t);if(s&&s.tu)return Wt().add(s.key);{let o=Wt();const u=r.iu.get(t);if(!u)return o;for(const f of u){const m=r.ru.get(f);o=o.unionWith(m.view.Wa)}return o}}function OE(i){const t=Bt(i);return t.remoteStore.remoteSyncer.applyRemoteEvent=IE.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=cC.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=aC.bind(null,t),t.nu.Q_=Q2.bind(null,t.eventManager),t.nu.Tu=Y2.bind(null,t.eventManager),t}function hC(i){const t=Bt(i);return t.remoteStore.remoteSyncer.applySuccessfulWrite=sC.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=lC.bind(null,t),t}class zc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Zc(t.databaseInfo.databaseId),this.sharedClientState=this.Au(t),this.persistence=this.Ru(t),await this.persistence.start(),this.localStore=this.Vu(t),this.gcScheduler=this.mu(t,this.localStore),this.indexBackfillerScheduler=this.fu(t,this.localStore)}mu(t,r){return null}fu(t,r){return null}Vu(t){return f2(this.persistence,new u2,t.initialUser,this.serializer)}Ru(t){return new pE(Sm.Ei,this.serializer)}Au(t){return new _2}async terminate(){var t,r;(t=this.gcScheduler)===null||t===void 0||t.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}zc.provider={build:()=>new zc};class fC extends zc{constructor(t){super(),this.cacheSizeBytes=t}mu(t,r){fe(this.persistence.referenceDelegate instanceof Uc,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new Kw(s,t.asyncQueue,r)}Ru(t){const r=this.cacheSizeBytes!==void 0?In.withCacheSize(this.cacheSizeBytes):In.DEFAULT;return new pE(s=>Uc.Ei(s,r),this.serializer)}}class Gd{async initialize(t,r){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>C_(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=uC.bind(null,this.syncEngine),await j2(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new q2}()}createDatastore(t){const r=Zc(t.databaseInfo.databaseId),s=function(u){return new b2(u)}(t.databaseInfo);return function(u,f,m,g){return new D2(u,f,m,g)}(t.authCredentials,t.appCheckCredentials,s,r)}createRemoteStore(t){return function(s,o,u,f,m){return new I2(s,o,u,f,m)}(this.localStore,this.datastore,t.asyncQueue,r=>C_(this.syncEngine,r,0),function(){return T_.C()?new T_:new E2}())}createSyncEngine(t,r){return function(o,u,f,m,g,y,E){const S=new J2(o,u,f,m,g,y);return E&&(S.hu=!0),S}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}async terminate(){var t,r;await async function(o){const u=Bt(o);pt(Za,"RemoteStore shutting down."),u.aa.add(5),await Bo(u),u.ca.shutdown(),u.la.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()}}Gd.provider={build:()=>new Gd};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dC{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.pu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.pu(this.observer.error,t):Ei("Uncaught Error in snapshot listener:",t.toString()))}yu(){this.muted=!0}pu(t,r){setTimeout(()=>{this.muted||t(r)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ma="FirestoreClient";class mC{constructor(t,r,s,o,u){this.authCredentials=t,this.appCheckCredentials=r,this.asyncQueue=s,this.databaseInfo=o,this.user=yn.UNAUTHENTICATED,this.clientId=x0.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,async f=>{pt(ma,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(s,f=>(pt(ma,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new aa;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(r){const s=Im(r,"Failed to shutdown persistence");t.reject(s)}}),t.promise}}async function Ed(i,t){i.asyncQueue.verifyOperationInProgress(),pt(ma,"Initializing OfflineComponentProvider");const r=i.configuration;await t.initialize(r);let s=r.initialUser;i.setCredentialChangeListener(async o=>{s.isEqual(o)||(await yE(t.localStore,o),s=o)}),t.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=t}async function x_(i,t){i.asyncQueue.verifyOperationInProgress();const r=await gC(i);pt(ma,"Initializing OnlineComponentProvider"),await t.initialize(r,i.configuration),i.setCredentialChangeListener(s=>A_(t.remoteStore,s)),i.setAppCheckTokenChangeListener((s,o)=>A_(t.remoteStore,o)),i._onlineComponents=t}async function gC(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){pt(ma,"Using user provided OfflineComponentProvider");try{await Ed(i,i._uninitializedComponentsProvider._offline)}catch(t){const r=t;if(!function(o){return o.name==="FirebaseError"?o.code===ut.FAILED_PRECONDITION||o.code===ut.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(r))throw r;Zs("Error using user provided cache. Falling back to memory cache: "+r),await Ed(i,new zc)}}else pt(ma,"Using default OfflineComponentProvider"),await Ed(i,new fC(void 0));return i._offlineComponents}async function LE(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(pt(ma,"Using user provided OnlineComponentProvider"),await x_(i,i._uninitializedComponentsProvider._online)):(pt(ma,"Using default OnlineComponentProvider"),await x_(i,new Gd))),i._onlineComponents}function pC(i){return LE(i).then(t=>t.syncEngine)}async function yC(i){const t=await LE(i),r=t.eventManager;return r.onListen=W2.bind(null,t.syncEngine),r.onUnlisten=nC.bind(null,t.syncEngine),r.onFirstRemoteStoreListen=tC.bind(null,t.syncEngine),r.onLastRemoteStoreUnlisten=rC.bind(null,t.syncEngine),r}function vC(i,t,r={}){const s=new aa;return i.asyncQueue.enqueueAndForget(async()=>function(u,f,m,g,y){const E=new dC({next:A=>{E.yu(),f.enqueueAndForget(()=>G2(u,S)),A.fromCache&&g.source==="server"?y.reject(new wt(ut.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(A)},error:A=>y.reject(A)}),S=new K2(m,E,{includeMetadataChanges:!0,Fa:!0});return F2(u,S)}(await yC(i),i.asyncQueue,t,r,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UE(i){const t={};return i.timeoutSeconds!==void 0&&(t.timeoutSeconds=i.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I_=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PE(i,t,r){if(!r)throw new wt(ut.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${t}.`)}function _C(i,t,r,s){if(t===!0&&s===!0)throw new wt(ut.INVALID_ARGUMENT,`${i} and ${r} cannot be used together.`)}function M_(i){if(!xt.isDocumentKey(i))throw new wt(ut.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function N_(i){if(xt.isDocumentKey(i))throw new wt(ut.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function Om(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const t=function(s){return s.constructor?s.constructor.name:null}(i);return t?`a custom ${t} object`:"an object"}}return typeof i=="function"?"a function":Ot(12329,{type:typeof i})}function Ja(i,t){if("_delegate"in i&&(i=i._delegate),!(i instanceof t)){if(t.name===i.constructor.name)throw new wt(ut.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=Om(i);throw new wt(ut.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${r}`)}}return i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zE="firestore.googleapis.com",V_=!0;class O_{constructor(t){var r,s;if(t.host===void 0){if(t.ssl!==void 0)throw new wt(ut.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=zE,this.ssl=V_}else this.host=t.host,this.ssl=(r=t.ssl)!==null&&r!==void 0?r:V_;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=gE;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<Qw)throw new wt(ut.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}_C("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=UE((s=t.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new wt(ut.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new wt(ut.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new wt(ut.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class th{constructor(t,r,s,o){this._authCredentials=t,this._appCheckCredentials=r,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new O_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new wt(ut.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new wt(ut.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new O_(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new S1;switch(s.type){case"firstParty":return new w1(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new wt(ut.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const s=I_.get(r);s&&(pt("ComponentProvider","Removing Datastore"),I_.delete(r),s.terminate())}(this),Promise.resolve()}}function EC(i,t,r,s={}){var o;const u=(i=Ja(i,th))._getSettings(),f=Object.assign(Object.assign({},u),{emulatorOptions:i._getEmulatorOptions()}),m=`${t}:${r}`;u.host!==zE&&u.host!==m&&Zs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g=Object.assign(Object.assign({},u),{host:m,ssl:!1,emulatorOptions:s});if(!Rc(g,f)&&(i._setSettings(g),s.mockUserToken)){let y,E;if(typeof s.mockUserToken=="string")y=s.mockUserToken,E=yn.MOCK_USER;else{y=eR(s.mockUserToken,(o=i._app)===null||o===void 0?void 0:o.options.projectId);const S=s.mockUserToken.sub||s.mockUserToken.user_id;if(!S)throw new wt(ut.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new yn(S)}i._authCredentials=new A1(new C0(y,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eh{constructor(t,r,s){this.converter=r,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new eh(this.firestore,t,this._query)}}class hr{constructor(t,r,s){this.converter=r,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new sa(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new hr(this.firestore,t,this._key)}}class sa extends eh{constructor(t,r,s){super(t,r,Q0(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new hr(this.firestore,null,new xt(t))}withConverter(t){return new sa(this.firestore,t,this._path)}}function Qd(i,t,...r){if(i=oa(i),PE("collection","path",t),i instanceof th){const s=Re.fromString(t,...r);return N_(s),new sa(i,null,s)}{if(!(i instanceof hr||i instanceof sa))throw new wt(ut.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(Re.fromString(t,...r));return N_(s),new sa(i.firestore,null,s)}}function Yd(i,t,...r){if(i=oa(i),arguments.length===1&&(t=x0.newId()),PE("doc","path",t),i instanceof th){const s=Re.fromString(t,...r);return M_(s),new hr(i,null,new xt(s))}{if(!(i instanceof hr||i instanceof sa))throw new wt(ut.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(Re.fromString(t,...r));return M_(s),new hr(i.firestore,i instanceof sa?i.converter:null,new xt(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L_="AsyncQueue";class U_{constructor(t=Promise.resolve()){this.Qu=[],this.$u=!1,this.Uu=[],this.Ku=null,this.Wu=!1,this.Gu=!1,this.zu=[],this.y_=new _E(this,"async_queue_retry"),this.ju=()=>{const s=_d();s&&pt(L_,"Visibility state changed to "+s.visibilityState),this.y_.A_()},this.Hu=t;const r=_d();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this.ju)}get isShuttingDown(){return this.$u}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Ju(),this.Yu(t)}enterRestrictedMode(t){if(!this.$u){this.$u=!0,this.Gu=t||!1;const r=_d();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this.ju)}}enqueue(t){if(this.Ju(),this.$u)return new Promise(()=>{});const r=new aa;return this.Yu(()=>this.$u&&this.Gu?Promise.resolve():(t().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Qu.push(t),this.Zu()))}async Zu(){if(this.Qu.length!==0){try{await this.Qu[0](),this.Qu.shift(),this.y_.reset()}catch(t){if(!ll(t))throw t;pt(L_,"Operation failed with retryable error: "+t)}this.Qu.length>0&&this.y_.E_(()=>this.Zu())}}Yu(t){const r=this.Hu.then(()=>(this.Wu=!0,t().catch(s=>{throw this.Ku=s,this.Wu=!1,Ei("INTERNAL UNHANDLED ERROR: ",P_(s)),s}).then(s=>(this.Wu=!1,s))));return this.Hu=r,r}enqueueAfterDelay(t,r,s){this.Ju(),this.zu.indexOf(t)>-1&&(r=0);const o=xm.createAndSchedule(this,t,r,s,u=>this.Xu(u));return this.Uu.push(o),o}Ju(){this.Ku&&Ot(47125,{ec:P_(this.Ku)})}verifyOperationInProgress(){}async tc(){let t;do t=this.Hu,await t;while(t!==this.Hu)}nc(t){for(const r of this.Uu)if(r.timerId===t)return!0;return!1}rc(t){return this.tc().then(()=>{this.Uu.sort((r,s)=>r.targetTimeMs-s.targetTimeMs);for(const r of this.Uu)if(r.skipDelay(),t!=="all"&&r.timerId===t)break;return this.tc()})}sc(t){this.zu.push(t)}Xu(t){const r=this.Uu.indexOf(t);this.Uu.splice(r,1)}}function P_(i){let t=i.message||"";return i.stack&&(t=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),t}class jo extends th{constructor(t,r,s,o){super(t,r,s,o),this.type="firestore",this._queue=new U_,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new U_(t),this._firestoreClient=void 0,await t}}}function TC(i,t){const r=typeof i=="object"?i:h1(),s=typeof i=="string"?i:xc,o=s1(r,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=Wb("firestore");u&&EC(o,...u)}return o}function BE(i){if(i._terminated)throw new wt(ut.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||SC(i),i._firestoreClient}function SC(i){var t,r,s;const o=i._freezeSettings(),u=function(m,g,y,E){return new j1(m,g,y,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,UE(E.experimentalLongPollingOptions),E.useFetchStreams)}(i._databaseId,((t=i._app)===null||t===void 0?void 0:t.options.appId)||"",i._persistenceKey,o);i._componentsProvider||!((r=o.localCache)===null||r===void 0)&&r._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(i._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),i._firestoreClient=new mC(i._authCredentials,i._appCheckCredentials,i._queue,u,i._componentsProvider&&function(m){const g=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(g),_online:g}}(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rl{constructor(t){this._byteString=t}static fromBase64String(t){try{return new rl(cn.fromBase64String(t))}catch(r){throw new wt(ut.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(t){return new rl(cn.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nh{constructor(...t){for(let r=0;r<t.length;++r)if(t[r].length===0)throw new wt(ut.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new un(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lm{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Um{constructor(t,r){if(!isFinite(t)||t<-90||t>90)throw new wt(ut.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(r)||r<-180||r>180)throw new wt(ut.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=t,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Gt(this._lat,t._lat)||Gt(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pm{constructor(t){this._values=(t||[]).map(r=>r)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0}(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AC=/^__.*__$/;class bC{constructor(t,r,s){this.data=t,this.fieldMask=r,this.fieldTransforms=s}toMutation(t,r){return this.fieldMask!==null?new pa(t,this.data,this.fieldMask,r,this.fieldTransforms):new Po(t,this.data,r,this.fieldTransforms)}}class kE{constructor(t,r,s){this.data=t,this.fieldMask=r,this.fieldTransforms=s}toMutation(t,r){return new pa(t,this.data,this.fieldMask,r,this.fieldTransforms)}}function jE(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ot(40011,{oc:i})}}class zm{constructor(t,r,s,o,u,f){this.settings=t,this.databaseId=r,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this._c(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get oc(){return this.settings.oc}ac(t){return new zm(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}uc(t){var r;const s=(r=this.path)===null||r===void 0?void 0:r.child(t),o=this.ac({path:s,cc:!1});return o.lc(t),o}hc(t){var r;const s=(r=this.path)===null||r===void 0?void 0:r.child(t),o=this.ac({path:s,cc:!1});return o._c(),o}Pc(t){return this.ac({path:void 0,cc:!0})}Tc(t){return Bc(t,this.settings.methodName,this.settings.Ic||!1,this.path,this.settings.Ec)}contains(t){return this.fieldMask.find(r=>t.isPrefixOf(r))!==void 0||this.fieldTransforms.find(r=>t.isPrefixOf(r.field))!==void 0}_c(){if(this.path)for(let t=0;t<this.path.length;t++)this.lc(this.path.get(t))}lc(t){if(t.length===0)throw this.Tc("Document fields must not be empty");if(jE(this.oc)&&AC.test(t))throw this.Tc('Document fields cannot begin and end with "__"')}}class RC{constructor(t,r,s){this.databaseId=t,this.ignoreUndefinedProperties=r,this.serializer=s||Zc(t)}dc(t,r,s,o=!1){return new zm({oc:t,methodName:r,Ec:s,path:un.emptyPath(),cc:!1,Ic:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function HE(i){const t=i._freezeSettings(),r=Zc(i._databaseId);return new RC(i._databaseId,!!t.ignoreUndefinedProperties,r)}function wC(i,t,r,s,o,u={}){const f=i.dc(u.merge||u.mergeFields?2:0,t,r,o);Bm("Data must be an object, but it was:",f,s);const m=qE(s,f);let g,y;if(u.merge)g=new Gn(f.fieldMask),y=f.fieldTransforms;else if(u.mergeFields){const E=[];for(const S of u.mergeFields){const A=Kd(t,S,r);if(!f.contains(A))throw new wt(ut.INVALID_ARGUMENT,`Field '${A}' is specified in your field mask but missing from your input data.`);GE(E,A)||E.push(A)}g=new Gn(E),y=f.fieldTransforms.filter(S=>g.covers(S.field))}else g=null,y=f.fieldTransforms;return new bC(new Mn(m),g,y)}class rh extends Lm{_toFieldTransform(t){if(t.oc!==2)throw t.oc===1?t.Tc(`${this._methodName}() can only appear at the top level of your update data`):t.Tc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof rh}}function CC(i,t,r,s){const o=i.dc(1,t,r);Bm("Data must be an object, but it was:",o,s);const u=[],f=Mn.empty();ga(s,(g,y)=>{const E=km(t,g,r);y=oa(y);const S=o.hc(E);if(y instanceof rh)u.push(E);else{const A=ih(y,S);A!=null&&(u.push(E),f.set(E,A))}});const m=new Gn(u);return new kE(f,m,o.fieldTransforms)}function DC(i,t,r,s,o,u){const f=i.dc(1,t,r),m=[Kd(t,s,r)],g=[o];if(u.length%2!=0)throw new wt(ut.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let A=0;A<u.length;A+=2)m.push(Kd(t,u[A])),g.push(u[A+1]);const y=[],E=Mn.empty();for(let A=m.length-1;A>=0;--A)if(!GE(y,m[A])){const D=m[A];let O=g[A];O=oa(O);const J=f.hc(D);if(O instanceof rh)y.push(D);else{const H=ih(O,J);H!=null&&(y.push(D),E.set(D,H))}}const S=new Gn(y);return new kE(E,S,f.fieldTransforms)}function ih(i,t){if(FE(i=oa(i)))return Bm("Unsupported field value:",t,i),qE(i,t);if(i instanceof Lm)return function(s,o){if(!jE(o.oc))throw o.Tc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Tc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(i,t),null;if(i===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),i instanceof Array){if(t.settings.cc&&t.oc!==4)throw t.Tc("Nested arrays are not supported");return function(s,o){const u=[];let f=0;for(const m of s){let g=ih(m,o.Pc(f));g==null&&(g={nullValue:"NULL_VALUE"}),u.push(g),f++}return{arrayValue:{values:u}}}(i,t)}return function(s,o){if((s=oa(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return hw(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=Ye.fromDate(s);return{timestampValue:Lc(o.serializer,u)}}if(s instanceof Ye){const u=new Ye(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Lc(o.serializer,u)}}if(s instanceof Um)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof rl)return{bytesValue:oE(o.serializer,s._byteString)};if(s instanceof hr){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.Tc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Em(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Pm)return function(f,m){return{mapValue:{fields:{[P0]:{stringValue:z0},[Ic]:{arrayValue:{values:f.toArray().map(y=>{if(typeof y!="number")throw m.Tc("VectorValues must only contain numeric values.");return pm(m.serializer,y)})}}}}}}(s,o);throw o.Tc(`Unsupported field value: ${Om(s)}`)}(i,t)}function qE(i,t){const r={};return M0(i)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):ga(i,(s,o)=>{const u=ih(o,t.uc(s));u!=null&&(r[s]=u)}),{mapValue:{fields:r}}}function FE(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof Ye||i instanceof Um||i instanceof rl||i instanceof hr||i instanceof Lm||i instanceof Pm)}function Bm(i,t,r){if(!FE(r)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(r)){const s=Om(r);throw s==="an object"?t.Tc(i+" a custom object"):t.Tc(i+" "+s)}}function Kd(i,t,r){if((t=oa(t))instanceof nh)return t._internalPath;if(typeof t=="string")return km(i,t);throw Bc("Field path arguments must be of type string or ",i,!1,void 0,r)}const xC=new RegExp("[~\\*/\\[\\]]");function km(i,t,r){if(t.search(xC)>=0)throw Bc(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,r);try{return new nh(...t.split("."))._internalPath}catch{throw Bc(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,r)}}function Bc(i,t,r,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let m=`Function ${t}() called with invalid data`;r&&(m+=" (via `toFirestore()`)"),m+=". ";let g="";return(u||f)&&(g+=" (found",u&&(g+=` in field ${s}`),f&&(g+=` in document ${o}`),g+=")"),new wt(ut.INVALID_ARGUMENT,m+i+g)}function GE(i,t){return i.some(r=>r.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QE{constructor(t,r,s,o,u){this._firestore=t,this._userDataWriter=r,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new hr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new IC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const r=this._document.data.field(YE("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r)}}}class IC extends QE{data(){return super.data()}}function YE(i,t){return typeof t=="string"?km(i,t):t instanceof nh?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MC(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new wt(ut.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class NC{convertValue(t,r="none"){switch(fa(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Ne(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,r);case 5:return t.stringValue;case 6:return this.convertBytes(ha(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,r);case 11:return this.convertObject(t.mapValue,r);case 10:return this.convertVectorValue(t.mapValue);default:throw Ot(62114,{value:t})}}convertObject(t,r){return this.convertObjectMap(t.fields,r)}convertObjectMap(t,r="none"){const s={};return ga(t,(o,u)=>{s[o]=this.convertValue(u,r)}),s}convertVectorValue(t){var r,s,o;const u=(o=(s=(r=t.fields)===null||r===void 0?void 0:r[Ic].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(f=>Ne(f.doubleValue));return new Pm(u)}convertGeoPoint(t){return new Um(Ne(t.latitude),Ne(t.longitude))}convertArray(t,r){return(t.values||[]).map(s=>this.convertValue(s,r))}convertServerTimestamp(t,r){switch(r){case"previous":const s=Fc(t);return s==null?null:this.convertValue(s,r);case"estimate":return this.convertTimestamp(xo(t));default:return null}}convertTimestamp(t){const r=ca(t);return new Ye(r.seconds,r.nanos)}convertDocumentKey(t,r){const s=Re.fromString(t);fe(mE(s),9688,{name:t});const o=new Io(s.get(1),s.get(3)),u=new xt(s.popFirst(5));return o.isEqual(r)||Ei(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VC(i,t,r){let s;return s=i?i.toFirestore(t):t,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cc{constructor(t,r){this.hasPendingWrites=t,this.fromCache=r}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class OC extends QE{constructor(t,r,s,o,u,f){super(t,r,s,o,f),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const r=new _c(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,r={}){if(this._document){const s=this._document.data.field(YE("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,r.serverTimestamps)}}}class _c extends OC{data(t={}){return super.data(t)}}class LC{constructor(t,r,s,o){this._firestore=t,this._userDataWriter=r,this._snapshot=o,this.metadata=new cc(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const t=[];return this.forEach(r=>t.push(r)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,r){this._snapshot.docs.forEach(s=>{t.call(r,new _c(this._firestore,this._userDataWriter,s.key,s,new cc(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const r=!!t.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new wt(ut.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map(m=>{const g=new _c(o._firestore,o._userDataWriter,m.doc.key,m.doc,new cc(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:g,oldIndex:-1,newIndex:f++}})}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(m=>u||m.type!==3).map(m=>{const g=new _c(o._firestore,o._userDataWriter,m.doc.key,m.doc,new cc(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,E=-1;return m.type!==0&&(y=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),E=f.indexOf(m.doc.key)),{type:UC(m.type),doc:g,oldIndex:y,newIndex:E}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function UC(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ot(61501,{type:i})}}class PC extends NC{constructor(t){super(),this.firestore=t}convertBytes(t){return new rl(t)}convertReference(t){const r=this.convertDocumentKey(t,this.firestore._databaseId);return new hr(this.firestore,null,r)}}function KE(i){i=Ja(i,eh);const t=Ja(i.firestore,jo),r=BE(t),s=new PC(t);return MC(i._query),vC(r,i._query).then(o=>new LC(t,s,i,o))}function zC(i,t,r,...s){i=Ja(i,hr);const o=Ja(i.firestore,jo),u=HE(o);let f;return f=typeof(t=oa(t))=="string"||t instanceof nh?DC(u,"updateDoc",i._key,t,r,s):CC(u,"updateDoc",i._key,t),jm(o,[f.toMutation(i._key,_r.exists(!0))])}function BC(i){return jm(Ja(i.firestore,jo),[new ym(i._key,_r.none())])}function kC(i,t){const r=Ja(i.firestore,jo),s=Yd(i),o=VC(i.converter,t);return jm(r,[wC(HE(i.firestore),"addDoc",s._key,o,i.converter!==null,{}).toMutation(s._key,_r.exists(!1))]).then(()=>s)}function jm(i,t){return function(s,o){const u=new aa;return s.asyncQueue.enqueueAndForget(async()=>iC(await pC(s),o,u)),u.promise}(BE(i),t)}(function(t,r=!0){(function(o){al=o})(c1),Cc(new wo("firestore",(s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),m=new jo(new b1(s.getProvider("auth-internal")),new C1(f,s.getProvider("app-check-internal")),function(y,E){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new wt(ut.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Io(y.options.projectId,E)}(f,o),f);return u=Object.assign({useFetchStreams:r},u),m._setSettings(u),m},"PUBLIC").setMultipleInstances(!0)),Xs(Hv,qv,t),Xs(Hv,qv,"esm2017")})();var jC="firebase",HC="11.6.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Xs(jC,HC,"app");const qC={apiKey:"AIzaSyAyQwqJShKbX7fx5vjB6H_y57IU-L05nUk",authDomain:"toylist-3a2ab.firebaseapp.com",projectId:"toylist-3a2ab",storageBucket:"toylist-3a2ab.firebasestorage.app",messagingSenderId:"962153191259",appId:"1:962153191259:web:8b0504a18af1531827ac7e",measurementId:"G-CXGSWF2GCG"},FC=y0(qC),_o=TC(FC),GC=()=>{const[i,t]=X.useState([]),[r,s]=X.useState(""),[o,u]=X.useState(""),{addToCart:f}=lm();X.useEffect(()=>{(async()=>{const O=(await KE(Qd(_o,"toys"))).docs.map(J=>({id:J.id,...J.data()}));t(O)})()},[]);const m=A=>{s(A.target.value)},g=A=>{u(A.target.value)},E=i.filter(A=>{var D;return(D=A.name)==null?void 0:D.toLowerCase().includes(r.toLowerCase())}).sort((A,D)=>{switch(o){case"name-asc":return A.name.localeCompare(D.name);case"name-desc":return D.name.localeCompare(A.name);case"price-asc":return A.price-D.price;case"price-desc":return D.price-A.price;default:return 0}}),S=A=>{f(A),console.log(`Added to cart: ${A.name}`)};return at.jsxs("main",{className:"home-container",children:[at.jsx("section",{className:"intro-text",children:at.jsx("p",{children:"Here are all our amazing summer toys:"})}),at.jsxs("div",{className:"search-sort-wrapper",children:[at.jsxs("div",{className:"search-container",children:[at.jsx("input",{type:"text",value:r,onChange:m,placeholder:"Search",className:"search-input"}),at.jsx("i",{className:"search-icon",children:"🔍"})]}),at.jsx("div",{className:"sort-container",children:at.jsxs("select",{value:o,onChange:g,className:"sort-select",children:[at.jsx("option",{value:"",children:"-- Sort By --"}),at.jsx("option",{value:"name-asc",children:"Name A-Z"}),at.jsx("option",{value:"name-desc",children:"Name Z-A"}),at.jsx("option",{value:"price-asc",children:"Price Low-High"}),at.jsx("option",{value:"price-desc",children:"Price High-Low"})]})})]}),at.jsx("section",{className:"toys-grid",children:E.map(A=>at.jsxs("div",{className:"toy-card",children:[at.jsx("img",{src:A.image,alt:A.alt||A.name,className:"toy-image"}),at.jsx("h2",{children:A.name}),at.jsx("p",{children:A.description}),at.jsxs("p",{children:["Price: ",A.price," kr"]}),at.jsx("button",{className:"add-to-cart",onClick:()=>S(A),children:"Add to Cart"})]},A.id))})]})},QC=()=>{const{cartItems:i,removeFromCart:t,addToCart:r,clearCart:s}=lm(),[o,u]=X.useState(!1),[f,m]=X.useState({items:[],total:0}),g=i.reduce((S,A)=>{const D=S.find(O=>O.id===A.id);return D?D.quantity+=1:S.push({...A,quantity:1}),S},[]);console.log("Total items in cart:",g.reduce((S,A)=>S+A.quantity,0));const y=g.reduce((S,A)=>S+A.price*A.quantity,0),E=()=>{const S=g.map(D=>({...D}));m({items:S,total:y}),u(!0),s()};return at.jsxs("main",{className:"cart-container",children:[at.jsx("h1",{children:"Your Shopping Cart"}),o?at.jsxs("section",{className:"receipt",children:[at.jsx("h2",{className:"receipt-title",children:"Receipt"}),at.jsx("ul",{className:"receipt-list",children:f.items.map(S=>at.jsxs("li",{className:"receipt-item",children:[S.name," x ",S.quantity," = ",S.price*S.quantity," kr"]},S.id))}),at.jsxs("div",{className:"receipt-total",children:["Total Paid: ",f.total," kr"]}),at.jsx("p",{className:"receipt-thankyou",children:"Thank you for your purchase!"})]}):g.length===0?at.jsx("p",{children:"Your cart is empty."}):at.jsxs(at.Fragment,{children:[at.jsx("ul",{className:"cart-list",children:g.map(S=>at.jsxs("li",{className:"cart-item",children:[at.jsx("img",{src:S.image,alt:S.alt,width:100}),at.jsxs("div",{className:"cart-details",children:[at.jsx("h2",{children:S.name}),at.jsx("p",{children:S.description}),at.jsxs("p",{children:["Price: ",S.price," kr"]}),at.jsxs("div",{className:"cart-actions",children:[at.jsx("img",{src:"src/assets/minus.png",alt:"minus",className:"quantity-button-minus",onClick:()=>t(i.findIndex(A=>A.id===S.id))}),at.jsx("span",{children:S.quantity}),at.jsx("img",{src:"src/assets/addition.png",alt:"plus",className:"quantity-button-plus",onClick:()=>r(S)})]})]})]},S.id))}),at.jsxs("h2",{children:["Total: ",y," kr"]}),at.jsx("button",{className:"checkout-button",onClick:E,children:"Checkout"})]})]})},YC=()=>{const i=n0(),[t,r]=X.useState(""),[s,o]=X.useState(""),[u,f]=X.useState(""),m=g=>{g.preventDefault(),console.log("Login attempt:",{username:t,password:s}),t==="admin"&&s==="1234"?i("/admin"):f("Username or password is incorrect")};return at.jsx("main",{className:"main-container",children:at.jsxs("form",{onSubmit:m,children:[at.jsx("h1",{children:"Admin Login"}),at.jsxs("label",{children:["Username:",at.jsx("input",{type:"text",value:t,onChange:g=>r(g.target.value),placeholder:"Username"})]}),at.jsxs("label",{children:["Password:",at.jsx("input",{type:"password",value:s,onChange:g=>o(g.target.value),placeholder:"Password"})]}),at.jsx("button",{type:"submit",children:"Log in"}),u&&at.jsx("p",{className:"error-message",children:u})," "]})})},KC=()=>{const[i,t]=X.useState([]),[r,s]=X.useState({name:"",description:"",price:"",image:""}),[o,u]=X.useState(""),f=k=>{u(k.target.value)},[m,g]=X.useState(""),y=k=>{g(k.target.value)},[E,S]=X.useState(null),A=async()=>{const W=(await KE(Qd(_o,"toys"))).docs.map(lt=>({id:lt.id,...lt.data()}));t(W)};X.useEffect(()=>{A()},[]);const D=async()=>{if(!r.name||!r.price||!r.image){alert("Please fill in all information.");return}console.log("Adding product:",r),await kC(Qd(_o,"toys"),{...r,price:Number(r.price)}),s({name:"",description:"",price:"",image:""}),A()},O=async k=>{await BC(Yd(_o,"toys",k)),console.log("Deleted product with ID:",k),A()},J=k=>{const W=i.find(lt=>lt.id===k);S(k),s(W),console.log("Editing product:",W)},H=async()=>{const k=Yd(_o,"toys",E);await zC(k,{...r,price:Number(r.price)}),console.log("Updated product:",E),S(null),s({name:"",description:"",price:"",image:""}),A()};return at.jsxs("main",{children:[at.jsx("h1",{children:"Admin Editor"}),at.jsx("p",{className:"subheading",children:"Manage Products: Add, edit, or delete products in your store."}),at.jsxs("div",{className:"editor-layout",children:[at.jsxs("div",{className:"editor-left",children:[at.jsxs("div",{className:"search-container",children:[at.jsx("input",{type:"text",placeholder:"Search",value:o,onChange:f,className:"search-input"}),at.jsx("i",{className:"search-icon",children:"🔍"})]}),at.jsxs("select",{value:m,onChange:y,className:"sort-select",children:[at.jsx("option",{value:"",children:"-- Sort By --"}),at.jsx("option",{value:"price-low",children:"Price: Low to High"}),at.jsx("option",{value:"price-high",children:"Price: High to Low"}),at.jsx("option",{value:"name-asc",children:"Name: A-Z"}),at.jsx("option",{value:"name-desc",children:"Name: Z-A"})]}),at.jsxs("div",{className:"add-form",children:[at.jsx("h2",{children:"Add new product"}),at.jsx("input",{type:"text",placeholder:"Name",value:r.name,onChange:k=>s({...r,name:k.target.value})}),at.jsx("input",{type:"text",placeholder:"Description",value:r.description,onChange:k=>s({...r,description:k.target.value})}),at.jsx("input",{type:"number",placeholder:"Price",value:r.price,onChange:k=>s({...r,price:k.target.value})}),at.jsx("input",{type:"text",placeholder:"URL image",value:r.image,onChange:k=>s({...r,image:k.target.value})}),at.jsx("button",{onClick:E!==null?H:D,children:E!==null?"Save":"Add Product"})]})]}),at.jsx("div",{className:"editor-right",children:at.jsxs("div",{className:"product-list-container",children:[at.jsx("h2",{children:"Product List"}),at.jsx("div",{className:"product-list",children:i.filter(k=>{var W;return(W=k.name)==null?void 0:W.toLowerCase().includes(o.toLowerCase())}).sort((k,W)=>m==="price-low"?k.price-W.price:m==="price-high"?W.price-k.price:m==="name-asc"?k.name.localeCompare(W.name):m==="name-desc"?W.name.localeCompare(k.name):0).map(k=>at.jsxs("div",{className:"product-item",children:[at.jsx("img",{src:k.image,alt:k.name,className:"product-image"}),at.jsxs("p",{children:[at.jsx("strong",{children:k.name})," — ",k.price," kr"]}),at.jsx("button",{onClick:()=>O(k.id),children:at.jsx("img",{src:"src/assets/trash-can.png",alt:"Remove"})}),at.jsx("button",{onClick:()=>J(k.id),children:at.jsx("img",{src:"src/assets/pen.png",alt:"Edit"})})]},k.id))})]})})]})]})},XC=Ab([{path:"/",element:at.jsx(Hb,{}),children:[{index:!0,element:at.jsx(GC,{})},{path:"cart",element:at.jsx(QC,{})},{path:"login",element:at.jsx(YC,{})},{path:"admin",element:at.jsx(KC,{})}]}]);CS.createRoot(document.getElementById("root")).render(at.jsx(X.StrictMode,{children:at.jsx(Ub,{router:XC})}));
